<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.95.0" />
<link rel="canonical" type="text/html" href="../../../../docs/install-guide/single-node-docker/">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="../../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../../favicons/android-192x192.png" sizes="192x192">

<title>Single Node Docker Installation | Stroom</title>
<meta name="description" content="How to install a Single node instance of Stroom using Docker containers.
">
<meta property="og:title" content="Single Node Docker Installation" />
<meta property="og:description" content="How to install a Single node instance of Stroom using Docker containers.
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/docs/install-guide/single-node-docker/" /><meta property="og:site_name" content="Stroom" />

<meta itemprop="name" content="Single Node Docker Installation">
<meta itemprop="description" content="How to install a Single node instance of Stroom using Docker containers.
"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Single Node Docker Installation"/>
<meta name="twitter:description" content="How to install a Single node instance of Stroom using Docker containers.
"/>




<link rel="preload" href="../../../../scss/main.min.7cb4dee93241f67b6c7428dfa726e02dafeee6283fbdc32ae0d83869b00c0a35.css" as="style">
<link href="../../../../scss/main.min.7cb4dee93241f67b6c7428dfa726e02dafeee6283fbdc32ae0d83869b00c0a35.css" rel="stylesheet" integrity="">


<script src='../../../../js/jquery-3.6.0.min.js'></script>


<script src='../../../../js/lunr.min.js'></script>
  
<link rel="stylesheet" href="../../../../css/prism.css"/>
<link rel="stylesheet" href="../../../../css/stroom-ui/icon-colours.css"/>
<link rel="stylesheet" href="../../../../css/stroom-ui/material_design_colors.css"/>
<link rel="stylesheet" href="../../../../css/stroom-ui/theme-root.css"/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-00000000-0', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="../../../../"><span class="navbar-brand__logo navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="110.61089" height="30.000004" viewBox="0 0 88.488641 23.999957" id="svg2" inkscape:version="0.91 r13725" sodipodi:docname="logo.svg"><defs id="defs20"/><sodipodi:namedview pagecolor="#989898" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1920" inkscape:window-height="1137" id="namedview18" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:zoom="5.5951814" inkscape:cx="55.451414" inkscape:cy="16.275348" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="svg2"/><g id="g4150" style="opacity:.97000002" transform="matrix(0.03883584,0,0,0.03883584,0,-3.1155874e-4)"><path id="path6" d="M121.99991 205.98497C54.999958 205.98497.0 259.98493.0 327.98487c0 66.99994 54.999958 121.99989 121.99991 121.99989h167.99987c24.99998.0 44.99996 20.99998 44.99996 44.99996.0 24.99998-19.99998 44.99996-44.99996 44.99996H109.20929C65.984126 553.87219 27.100843 581.57313.01093599 617.98462H289.99978c66.99994.0 121.99991-54.99996 121.99991-122.9999.0-66.99994-54.99997-121.99989-121.99991-121.99989H121.99991c-24.999984.0-44.999969-19.99999-44.999969-44.99996.0-24.99998 19.999985-44.99996 44.999969-44.99996h228.79045c26.9905-35.88325 65.47093-63.18547 108.21554-76.99994H121.99991z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path8" d="M601.44485-.00077860649C572.6583 8.3697982 546.49491 22.822962 524.44491 41.902305V205.78969l.002.19528h-.002c-65.11 48e-5-123.03145 30.0199-160.74675 76.99994h160.74675v334.99971h76.99994V282.98491h144.85298c27.16134-36.05885 65.96411-63.39275 109.02184-76.99994H601.44485v-205.98574860649z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path10" d="m919.42586 205.98497c-113.99519.0-205.99537 92.00648-206.00296 205.99982-15e-5 68.67178.0 137.32749.0 205.99983h77.99994c-.012-68.6493.0176-137.46869.0-205.99983.0846-70.92785 57.05747-128.99988 128.00462-128.99988 5.28623.0 10.49823.32864 15.62183.95311 18.2219-24.51229 41.78461-45.0838 68.42501-60.15146-25.65065-11.43799-54.08662-17.80159-84.04684-17.80159z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path12" d="m1109.4153 205.98457c-113.99994.0-205.99983 91.99993-205.99983 205.99984.0 112.9999 91.99989 205.9998 205.99983 205.9998 114 0 205.9999-92.9999 205.9999-205.9998.0-113.99991-91.9999-205.99984-205.9999-205.99984zm0 333.99974c-70.9999.0-128.99994-56.99996-128.99994-127.9999.0-70.99995 58.00004-128.9999 128.99994-128.9999 71 0 128.9999 57.99995 128.9999 128.9999.0 70.99994-57.9999 127.9999-128.9999 127.9999z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path14" d="m1444.4737 205.98457c-113.9999.0-205.9998 91.99993-205.9998 205.99984.0 112.9999 91.9999 205.9998 205.9998 205.9998s205.9999-92.9999 205.9999-205.9998c0-113.99991-92-205.99984-205.9999-205.99984zm0 333.99974c-70.9999.0-128.9999-56.99996-128.9999-127.9999.0-70.99995 58-128.9999 128.9999-128.9999 71 0 128.9999 57.99995 128.9999 128.9999.0 70.99994-57.9999 127.9999-128.9999 127.9999z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path16" d="m1738.5308 379.98447c0-53 43-97 95.9999-97 53 0 97 44 97 97v237.9997h76.9999v-237.9997c0-53 43-97 96.9999-97 53 0 95.9999 44 95.9999 97v237.9997h77v-237.9997c0-96-77-173.9999-172.9999-173.9999-54.9999.0-103.9999 24.99998-135.9999 64.99995-31.9999-39.99997-79.9999-64.99995-134.9999-64.99995-95.9999.0-173.9998 77.9999-173.9998 173.9999v237.9997h77.9999z" style="fill:#fff" inkscape:connector-curvature="0"/></g></svg></span><span class="navbar-brand__name">Stroom</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../../../about/about/"><span>About</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link active" href="../../../../docs/"><span class="active">Documentation</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../../../news/"><span>News / Releases</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../../../community/"><span>Community</span></a>
      </li>
      <li class="nav-item dropdown mr-4 d-none d-lg-block">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Stroom Version (7.2)
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	
	
	<a class="dropdown-item" href="../../../../../">7.2 (Latest)</a>
	
	<a class="dropdown-item" href="../../../../../7.1">7.1</a>
	
	<a class="dropdown-item" href="../../../../7.0">7.0</a>
	
	<a class="dropdown-item" href="../../../../legacy">Legacy</a>
	
</div>
</li>
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="../../../../offline-search-index.7473b05640f7110f41cb9fea14e138de.json"
    data-offline-search-base-href="../../../../"
    data-offline-search-max-results="50"
  >
</div>

  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="../../../../docs/install-guide/single-node-docker/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Single Node Docker Installation</h1>
<div class="lead">How to install a Single node instance of Stroom using Docker containers.</div>




    <ul>
    
  
  
  
  

  

    </ul>


<div class="content">
      <p>Running Stroom in <em>Docker</em> is the quickest and easiest way to get Stroom up and running.
Using Docker means you don&rsquo;t need to install the right versions of dependencies like Java or MySQL or get them configured corectly for Stroom.</p>
<h2 id="stroom-docker-stacks">Stroom Docker stacks</h2>
<p>Stroom has a number of predefined <em>stacks</em> that combine multiple docker containers into a fully functioning Stroom.
The docker stacks are aimed primarily at single node instances or for evaluation/test.
If you want to deploy a Stroom cluster using containers then you should use Kubernetes.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Add Kubernetes install link.

</div>

<p>At the moment the usable stacks are:</p>
<div class="td-card-deck card-deck mb-4">
  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        <code>stroom_core</code>
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <p>A production single node stroom.</p>
<p><strong>Services:</strong><br>
stroom<br>
stroom-proxy-local<br>
stroom-log-sender<br>
nginx<br>
mysql</p>

        
      </p>
    
  </div>
  
</div>

  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        <code>stroom_core_test</code>
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <p>A single node stroom for test/evalutaion, pre-loaded with content.
Also includes a <em>remote</em> proxy for demonstration purposes.</p>
<p><strong>Services:</strong><br>
stroom<br>
stroom-proxy-local<br>
stroom-proxy-remote<br>
stroom-log-sender<br>
nginx<br>
mysql</p>

        
      </p>
    
  </div>
  
</div>

  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        <code>stroom_proxy</code>
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <p>A remote proxy stack for aggregating and forwarding logs to stroom(-proxy).</p>
<p><strong>Services:</strong><br>
stroom-proxy-remote<br>
stroom-log-sender<br>
nginx</p>

        
      </p>
    
  </div>
  
</div>

  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        <code>stroom_services</code>
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <p>An Nginx instance for running stroom without Docker.</p>
<p><strong>Services:</strong><br>
stroom-log-sender<br>
nginx</p>

        
      </p>
    
  </div>
  
</div>

</div>
<h2 id="prerequisites">Prerequisites</h2>
<p>In order to run Stroom using Docker you will need the following installed on the machine you intend to run Stroom on:</p>
<ul>
<li>An internet connection. If you don&rsquo;t have one see <a href="../../../../docs/install-guide/air-gapped/#docker-images">Air Gapped Environments</a>.</li>
<li>A Linux-like shell environment.</li>
<li>Docker CE (v17.12.0+) - e.g 






  

<span class="external-link">
  <a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" class="" style="" title="docs.docker.com/install/linux/docker-ce/centos/ (external link)">
    <span>docs.docker.com/install/linux/docker-ce/centos/</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
 for Centos</li>
<li>docker-compose (v1.21.0+) - 






  

<span class="external-link">
  <a href="https://docs.docker.com/compose/install/" target="_blank" class="" style="" title="docs.docker.com/compose/install/ (external link)">
    <span>docs.docker.com/compose/install/</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</li>
<li>bash (v4+)</li>
<li>jq - 






  

<span class="external-link">
  <a href="https://stedolan.github.io/jq/" target="_blank" class="" style="" title="stedolan.github.io/jq/ (external link)">
    <span>stedolan.github.io/jq/</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
 e.g. <code>sudo yum install jq</code></li>
<li>curl</li>
<li>A non-root user to perform the install as, e.g. <code>stroomuser</code></li>
</ul>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>


    <code>jq</code> is not a hard requirement but improves the functionality of the health checks.

</div>


<h2 id="install-steps">Install steps</h2>
<p>This will install the core stack (Stroom and the peripheral services required to run Stroom).</p>
<p>Visit 






  

<span class="external-link">
  <a href="https://github.com/gchq/stroom-resources/releases" target="_blank" class="" style="" title="stroom-resources/releases (external link)">
    <span>stroom-resources/releases</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
 to find the latest stack release.
The Stroom stack comes in a number of different variants:</p>
<ul>
<li><strong>stroom_core_test</strong> - If you are just evaluating Stroom or just want to see it running then download the <code>stroom_core_test*.tar.gz</code> stack which includes some pre-loaded content.</li>
<li><strong>stroom_core</strong> - If it is for an actual deployment of Stroom then download <code>stroom_core*.tar.gz</code>, which has no content and requires some configuration.</li>
</ul>
<p>Using <code>stroom_core_test-v7.1-beta.15.tar.gz</code> as an example:</p>

  






<div class="code-toolbar">
  <pre 
    class="command-line language-bash" 
    data-user="stroomuser" 
    data-host="localhost" 
    data-continuation-str="\"
    data-filter-output="(out)"><code class="language-bash"># Define the version to download
VERSION=&#34;v7.1-beta.15&#34;; STACK=&#34;stroom_core_test&#34;
(out)
# Download and extract the Stroom stack
curl -sL &#34;https://github.com/gchq/stroom-resources/releases/download/stroom-stacks-${VERSION}/${STACK}-${VERSION}.tar.gz&#34; | tar xz
(out)
# Navigate into the new stack directory, where xxxx is the directory that has just been created
cd &#34;${STACK}-${VERSION}&#34;
(out)
# Start the stack
./start.sh</code></pre>
</div>

<p>Alternatively if you understand the risks of redirecting web sourced content direct to bash, you can get the latest <code>stroom_core_test</code> release using:</p>

  






<div class="code-toolbar">
  <pre 
    class="command-line language-bash" 
    data-user="stroomuser" 
    data-host="localhost" 
    data-continuation-str="\"
    data-filter-output="(out)"><code class="language-bash"># Download and extract the laStroom stack
bash &lt;(curl -s https://gchq.github.io/stroom-resources/v7.1/get_stroom.sh)
(out)
# Navigate into the new stack directory
cd stroom_core_test/stroom_core_test*
(out)
# Start the stack
./start.sh</code></pre>
</div>

<p>On first run stroom will build the database schemas so this can take a minute or two.
The <code>start.sh</code> script will provide details of the various URLs that are available.</p>
<p>Open a browser (preferably Chrome) at <a href="https://localhost">https://localhost</a> and login with:</p>
<ul>
<li>username: <em>admin</em></li>
<li>password: <em>admin</em></li>
</ul>
<p>The stroom stack comes supplied with self-signed certificates so you may need to accept a prompt warning you about visiting an untrusted site.</p>
<h2 id="configuration">Configuration</h2>
<p>To configure your new instance see <a href="../../../../docs/install-guide/configuration/">Configuration</a>.</p>
<h2 id="docker-hub-links">Docker Hub links</h2>
<ul>
<li>






  

<span class="external-link">
  <a href="https://hub.docker.com/r/gchq/stroom/" target="_blank" class="" style="" title="The Stroom image (external link)">
    <span>The Stroom image</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</li>
<li>






  

<span class="external-link">
  <a href="https://hub.docker.com/r/gchq/" target="_blank" class="" style="" title="The GCHQ organisation (external link)">
    <span>The GCHQ organisation</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</li>
</ul>

</div>
</div>


  
  
  
  

  
  

  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/gchq/stroom" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 Crown Copyright All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    

<script src='../../../../js/popper.min.js'></script>
<script src='../../../../js/bootstrap.min.js'></script>






<script src='../../../../js/tabpane-persist.js'></script>




















<script src="../../../../js/main.min.cbc1d428d83561c4dec32da9374290554119d7483329f849251cb7153b2ecd07.js" integrity="sha256-y8HUKNg1YcTewy2pN0KQVUEZ10gzKfhJJRy3FTsuzQc=" crossorigin="anonymous"></script>



<script src='../../../../js/prism.js'></script>



  </body>
</html>
