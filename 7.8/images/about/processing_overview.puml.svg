<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1238px" preserveAspectRatio="none" style="width:1082px;height:1238px;" version="1.1" viewBox="0 0 1082 1238" width="1082px" zoomAndPan="magnify"><defs><filter height="300%" id="f19sglefysz60k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[8f491743110ee714b5786d0ac8b47676]
cluster stroomCluster--><rect fill="#FFFFFF" filter="url(#f19sglefysz60k)" height="1132" style="stroke:#000000;stroke-width:1.5;" width="1036" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="106" x="472" y="21.9951">Stroom Cluster</text><!--MD5=[70f43fcfe30b754393798e4f4c693b3d]
cluster dataStore--><path d="M31,60 C31,50 486,50 486,50 C486,50 941,50 941,60 L941,260 C941,270 486,270 486,270 C486,270 31,270 31,260 L31,60 " fill="#B0C4DE" filter="url(#f19sglefysz60k)" style="stroke:#000000;stroke-width:1.5;"/><path d="M31,60 C31,70 486,70 486,70 C486,70 941,70 941,60 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="74" x="449" y="84.9951">Data Store</text><!--MD5=[efaf69c8413ebfc44618544e2108b794]
cluster Raw--><rect fill="#B0C4DE" filter="url(#f19sglefysz60k)" height="123" style="stroke:#000000;stroke-width:1.5;" width="660" x="257" y="123"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="28" x="573" y="137.9951">Raw</text><!--MD5=[ff6d805d1266d036e75ad69c3d31b886]
cluster Cooked--><rect fill="#B0C4DE" filter="url(#f19sglefysz60k)" height="123" style="stroke:#000000;stroke-width:1.5;" width="178" x="55" y="123"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="118" y="137.9951">Cooked</text><!--MD5=[4065a85a6e40427badc172a746f34f2b]
entity dataSplitter--><rect fill="#B8860B" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="66" x="702" y="348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="720.5" y="370.9951">Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="712" y="387.292">Splitter</text><!--MD5=[2c08397e4e1e0075556639d0d513f6a4]
entity jsonParser--><rect fill="#B8860B" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="60" x="573" y="348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="587.5" y="370.9951">JSON</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="583" y="387.292">Parser</text><!--MD5=[19b141fa6a7b719a83fbd03eb2f235ff]
entity xmlParser--><rect fill="#B8860B" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="60" x="319" y="478"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="335.5" y="500.9951">XML</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="329" y="517.292">Parser</text><!--MD5=[658de55b09b9753956c08a8907a0b85c]
entity xmlParser2--><rect fill="#B8860B" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="60" x="420" y="348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="436.5" y="370.9951">XML</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="430" y="387.292">Parser</text><!--MD5=[af295ab3dc5c6b4aaf201c6e3262ee16]
entity normalisation--><rect fill="#FF8C00" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="123" x="565.5" y="478"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="582" y="500.9951">Normalisation</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="575.5" y="517.292">XSLT Translation</text><!--MD5=[c25c7ec05eefc4dc5ebdec4aa3db917c]
entity decoration--><rect fill="#FF8C00" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="130" x="462" y="623"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="492" y="645.9951">Decoration</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="472" y="662.292">XSLT Translations</text><!--MD5=[ba4c5e3faf475f7d6330abe55864fcf9]
entity indexing--><rect fill="#FF8C00" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="123" x="465.5" y="772.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="499.5" y="795.4951">Indexing</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="475.5" y="811.792">XSLT Translation</text><!--MD5=[0127832127892226cc3c409875710e95]
entity analytic--><rect fill="#FF8C00" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="123" x="903.5" y="772.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="939.5" y="795.4951">Analytic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="913.5" y="811.792">XSLT Translation</text><!--MD5=[17886d2bcd0ca6d1535f82873f165380]
entity flattener--><rect fill="#FF8C00" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="123" x="149.5" y="772.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="182.5" y="795.4951">Flattener</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="159.5" y="811.792">XSLT Translation</text><!--MD5=[b1d7023a290e3ee2f5a98d5fee45821c]
entity statsXslt--><rect fill="#FF8C00" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="123" x="307.5" y="772.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="340" y="795.4951">Statistics</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="317.5" y="811.792">XSLT Translation</text><!--MD5=[7256c880771b2613fe0bc1b9a1922c9c]
entity indexer--><rect fill="#BA55D3" filter="url(#f19sglefysz60k)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="69" x="469.5" y="935"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="479.5" y="957.9951">Indexer</text><!--MD5=[237e16dfed5bb44500577298b05b4047]
entity solrIndexer--><rect fill="#BA55D3" filter="url(#f19sglefysz60k)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="97" x="573.5" y="935"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="583.5" y="957.9951">Solr Indexer</text><!--MD5=[a39e3016d10393be908bde8eeac5cf0c]
entity producerTranslation--><rect fill="#FF8C00" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="123" x="745.5" y="772.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="756" y="795.4951">Producer record</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="755.5" y="811.792">XSLT Translation</text><!--MD5=[979a07dc8e08362c2bc227291350950a]
entity kafkaProducer--><rect fill="#BA55D3" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="77" x="723.5" y="926.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="745.5" y="949.4951">Kafka</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="733.5" y="965.792">producer</text><!--MD5=[a83e2ead946c7d0729c1dd2bfccfb7dd]
entity xmlWriter--><rect fill="#BA55D3" filter="url(#f19sglefysz60k)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="91" x="23.5" y="781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="33.5" y="803.9951">XML Writer</text><!--MD5=[c399e5de270780808801ca6e0c66a9e6]
entity textWriter--><rect fill="#BA55D3" filter="url(#f19sglefysz60k)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="91" x="165.5" y="935"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="175.5" y="957.9951">Text Writer</text><!--MD5=[8f27aceb4feaa23b7a5d68855f5a59a5]
entity statsAggregator--><rect fill="#BA55D3" filter="url(#f19sglefysz60k)" height="52.5938" style="stroke:#000000;stroke-width:1.5;" width="88" x="325" y="926.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="340" y="949.4951">Statistics</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="335" y="965.792">Aggregator</text><!--MD5=[4dbb01458ce496ea5d173c89e8a5b0b5]
entity refDataStore--><path d="M624,778 C624,768 667,768 667,768 C667,768 710,768 710,778 L710,819.5938 C710,829.5938 667,829.5938 667,829.5938 C667,829.5938 624,829.5938 624,819.5938 L624,778 " fill="#B0C4DE" filter="url(#f19sglefysz60k)" style="stroke:#000000;stroke-width:1.5;"/><path d="M624,778 C624,788 667,788 667,788 C667,788 710,788 710,778 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="635" y="804.9951">Reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="634" y="821.292">Data Store</text><!--MD5=[b30b38ce4569dacde3f8306bd4ec7604]
entity index--><path d="M471,1071 C471,1061 504,1061 504,1061 C504,1061 537,1061 537,1071 L537,1112.5938 C537,1122.5938 504,1122.5938 504,1122.5938 C504,1122.5938 471,1122.5938 471,1112.5938 L471,1071 " fill="#B0C4DE" filter="url(#f19sglefysz60k)" style="stroke:#000000;stroke-width:1.5;"/><path d="M471,1071 C471,1081 504,1081 504,1081 C504,1081 537,1081 537,1071 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="481" y="1097.9951">Lucene</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="486" y="1114.292">Index</text><!--MD5=[d28039e73347632d28c712d6f4d43d16]
entity dataStore2--><path d="M856.5,932 C856.5,922 883,922 883,922 C883,922 909.5,922 909.5,932 L909.5,973.5938 C909.5,983.5938 883,983.5938 883,983.5938 C883,983.5938 856.5,983.5938 856.5,973.5938 L856.5,932 " fill="#B0C4DE" filter="url(#f19sglefysz60k)" style="stroke:#000000;stroke-width:1.5;"/><path d="M856.5,932 C856.5,942 883,942 883,942 C883,942 909.5,942 909.5,932 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="868.5" y="958.9951">Data</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="866.5" y="975.292">Store</text><!--MD5=[4c0f23fd02223ef53248026b8e648784]
entity metaStore--><path d="M42.5,932 C42.5,922 69,922 69,922 C69,922 95.5,922 95.5,932 L95.5,973.5938 C95.5,983.5938 69,983.5938 69,983.5938 C69,983.5938 42.5,983.5938 42.5,973.5938 L42.5,932 " fill="#B0C4DE" filter="url(#f19sglefysz60k)" style="stroke:#000000;stroke-width:1.5;"/><path d="M42.5,932 C42.5,942 69,942 69,942 C69,942 95.5,942 95.5,932 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="53" y="958.9951">Meta</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="52.5" y="975.292">Store</text><!--MD5=[5a58743d6d1945ef7e8e3e12b81b67b6]
entity fileSystem--><path d="M177.5,1071 C177.5,1061 211,1061 211,1061 C211,1061 244.5,1061 244.5,1071 L244.5,1112.5938 C244.5,1122.5938 211,1122.5938 211,1122.5938 C211,1122.5938 177.5,1122.5938 177.5,1112.5938 L177.5,1071 " fill="#B0C4DE" filter="url(#f19sglefysz60k)" style="stroke:#000000;stroke-width:1.5;"/><path d="M177.5,1071 C177.5,1081 211,1081 211,1081 C211,1081 244.5,1081 244.5,1071 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="23" x="199.5" y="1097.9951">File</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="187.5" y="1114.292">System</text><!--MD5=[903dfd193b4683a72b09a9b9dd4b51ba]
entity statsStore--><path d="M330,1071 C330,1061 369,1061 369,1061 C369,1061 408,1061 408,1071 L408,1112.5938 C408,1122.5938 369,1122.5938 369,1122.5938 C369,1122.5938 330,1122.5938 330,1112.5938 L330,1071 " fill="#B0C4DE" filter="url(#f19sglefysz60k)" style="stroke:#000000;stroke-width:1.5;"/><path d="M330,1071 C330,1081 369,1081 369,1081 C369,1081 408,1081 408,1071 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="340" y="1097.9951">Statistics</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="352.5" y="1114.292">Store</text><!--MD5=[dd899c2d4a1169e3d6a22332e2a422d2]
entity rawFixedWidthLog--><polygon fill="#ADD8E6" filter="url(#f19sglefysz60k)" points="674,185.5,674,221.7969,796,221.7969,796,195.5,786,185.5,674,185.5" style="stroke:#000000;stroke-width:1.5;"/><path d="M786,185.5 L786,195.5 L796,195.5 " fill="#ADD8E6" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="684" y="208.4951">Fixed Width Log</text><!--MD5=[ad516eb78026a1c3c594f28426aee421]
entity rawCsvLog--><polygon fill="#ADD8E6" filter="url(#f19sglefysz60k)" points="831.5,185.5,831.5,221.7969,900.5,221.7969,900.5,195.5,890.5,185.5,831.5,185.5" style="stroke:#000000;stroke-width:1.5;"/><path d="M890.5,185.5 L890.5,195.5 L900.5,195.5 " fill="#ADD8E6" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="841.5" y="208.4951">CSV Log</text><!--MD5=[3d4214cedee384051d493152a651511b]
entity rawXmlLog--><polygon fill="#ADD8E6" filter="url(#f19sglefysz60k)" points="273.5,185.5,273.5,221.7969,346.5,221.7969,346.5,195.5,336.5,185.5,273.5,185.5" style="stroke:#000000;stroke-width:1.5;"/><path d="M336.5,185.5 L336.5,195.5 L346.5,195.5 " fill="#ADD8E6" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="283.5" y="208.4951">XML Log</text><!--MD5=[219e086581bab4dafb14b5a7b9457d40]
entity rawEventsLog--><polygon fill="#ADD8E6" filter="url(#f19sglefysz60k)" points="381.5,177,381.5,229.5938,526.5,229.5938,526.5,187,516.5,177,381.5,177" style="stroke:#000000;stroke-width:1.5;"/><path d="M516.5,177 L516.5,187 L526.5,187 " fill="#ADD8E6" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="391.5" y="199.9951">XML (event-logging)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="433" y="216.292">Events</text><!--MD5=[df442d4ed1867404c79090b36a28510f]
entity rawJsonLog--><polygon fill="#ADD8E6" filter="url(#f19sglefysz60k)" points="561.5,185.5,561.5,221.7969,638.5,221.7969,638.5,195.5,628.5,185.5,561.5,185.5" style="stroke:#000000;stroke-width:1.5;"/><path d="M628.5,185.5 L628.5,195.5 L638.5,195.5 " fill="#ADD8E6" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="571.5" y="208.4951">JSON Log</text><!--MD5=[295a7b0f334a963eff09d4fbd6c8089c]
entity cookedEventsLog--><polygon fill="#ADD8E6" filter="url(#f19sglefysz60k)" points="71.5,177,71.5,229.5938,216.5,229.5938,216.5,187,206.5,177,71.5,177" style="stroke:#000000;stroke-width:1.5;"/><path d="M206.5,177 L206.5,187 L216.5,187 " fill="#ADD8E6" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="81.5" y="199.9951">XML (event-logging)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="123" y="216.292">Events</text><!--MD5=[e29745d789d1cd237fb5892a53e7b9d1]
entity kafka--><rect fill="#90EE90" filter="url(#f19sglefysz60k)" height="36.2969" style="stroke:#000000;stroke-width:1.5;" width="53" x="735.5" y="1190.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="745.5" y="1213.4951">Kafka</text><!--MD5=[0d15b2eb428f0c0027bf5ef6513f3386]
entity solr--><path d="M600,1196 C600,1186 622,1186 622,1186 C622,1186 644,1186 644,1196 L644,1221.2969 C644,1231.2969 622,1231.2969 622,1231.2969 C622,1231.2969 600,1231.2969 600,1221.2969 L600,1196 " fill="#90EE90" filter="url(#f19sglefysz60k)" style="stroke:#000000;stroke-width:1.5;"/><path d="M600,1196 C600,1206 622,1206 622,1206 C622,1206 644,1206 644,1196 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="610" y="1222.9951">Solr</text><!--MD5=[5c4b2b2cab6cf500f23bee8f39089059]
link rawCsvLog to dataSplitter--><path d="M854.38,221.69 C844.07,236.76 828.44,259.14 814,278 C796.73,300.55 776.26,325.24 760.49,343.87 " fill="none" id="rawCsvLog-to-dataSplitter" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="757,347.99,765.8849,343.7406,760.2457,344.1867,759.7996,338.5474,757,347.99" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="806" y="306.5669">Text</text><!--MD5=[80858331b182bca58a93a75df3d304b1]
link rawFixedWidthLog to dataSplitter--><path d="M735,221.63 C735,250.03 735,307.22 735,342.74 " fill="none" id="rawFixedWidthLog-to-dataSplitter" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="735,347.82,739,338.82,735,342.82,731,338.82,735,347.82" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="736" y="306.5669">Text</text><!--MD5=[1ee735563c8246e779e8ba8504cf0e6a]
link rawJsonLog to jsonParser--><path d="M600.3,221.63 C600.81,250.03 601.82,307.22 602.45,342.74 " fill="none" id="rawJsonLog-to-jsonParser" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="602.54,347.82,606.3851,338.7528,602.4543,342.8207,598.3863,338.8899,602.54,347.82" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="602" y="306.5669">JSON</text><!--MD5=[a8b957d645403adece93691179bcea18]
link rawXmlLog to xmlParser--><path d="M312.27,221.87 C318.65,270.84 336.87,410.53 345,472.85 " fill="none" id="rawXmlLog-to-xmlParser" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="345.66,477.91,348.4693,468.4703,345.017,472.9515,340.5358,469.4992,345.66,477.91" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="337" y="379.0669">XML</text><!--MD5=[afc3398b27d220ee1833160d25a71884]
link rawEventsLog to xmlParser2--><path d="M453.39,230.17 C452.68,260.41 451.49,310.6 450.73,342.85 " fill="none" id="rawEventsLog-to-xmlParser2" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="450.61,347.87,454.8152,338.964,450.7246,342.8713,446.8173,338.7807,450.61,347.87" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="453" y="299.0669">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="480.5" y="314.1997">XML</text><!--MD5=[a74f27a9b5fab19cb051c98c64e54de0]
link dataSplitter to normalisation--><path d="M713.4,401.1 C695.67,422.11 670.54,451.9 651.95,473.93 " fill="none" id="dataSplitter-to-normalisation" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="648.56,477.95,657.4277,473.6648,651.7904,474.1336,651.3215,468.4962,648.56,477.95" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="688" y="444.0669">XML</text><!--MD5=[98adfef466e884b3842e19d4e747138d]
link jsonParser to normalisation--><path d="M607.8,401.1 C611.67,421.76 617.14,450.91 621.25,472.83 " fill="none" id="jsonParser-to-normalisation" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="622.21,477.95,624.4694,468.3638,621.2817,473.0369,616.6085,469.8492,622.21,477.95" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="617" y="444.0669">XML</text><!--MD5=[7f1845e95b406ed5709cde216132f2a4]
link xmlParser to normalisation--><path d="M361.89,477.99 C370.14,464.24 382.25,448.74 398,441 C426.68,426.91 504.49,453.12 561.48,476.02 " fill="none" id="xmlParser-to-normalisation" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="566.23,477.94,559.378,470.8654,561.5926,476.0708,556.3872,478.2853,566.23,477.94" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="399" y="444.0669">XML</text><!--MD5=[9d3b9f2896bc52f3003b805aebbe7b04]
link xmlParser2 to decoration--><path d="M449.98,401.1 C450.6,432.39 453.74,486.64 467,531 C476.35,562.27 493.88,595.14 507.59,618.13 " fill="none" id="xmlParser2-to-decoration" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="510.28,622.6,509.0795,612.8246,507.7075,618.3125,502.2196,616.9405,510.28,622.6" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="468" y="501.5669">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="495.5" y="516.6997">XML</text><!--MD5=[f339dd6f022b5e9162c6f1c208c2bdc0]
link normalisation to decoration--><path d="M609.12,531.07 C592.02,555.52 566.23,592.4 548.12,618.29 " fill="none" id="normalisation-to-decoration" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="545.06,622.67,553.4993,617.5927,547.9283,618.5745,546.9465,613.0035,545.06,622.67" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="586" y="574.0669">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="613.5" y="589.1997">XML</text><!--MD5=[afc531398d0a49ac0524247e4bd239bb]
reverse link decoration to refDataStore--><path d="M582.3,678.9 C594.29,686.65 606.28,695.77 616,706 C632.98,723.88 646.23,748.48 654.97,767.75 " fill="none" id="decoration-backto-refDataStore" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="577.88,676.11,583.3524,684.2986,582.1071,678.7805,587.6252,677.5352,577.88,676.11" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="639" y="726.5669">Lookup</text><!--MD5=[932effd48fae894bde46c191944a7db9]
link decoration to producerTranslation--><path d="M592.26,666.72 C623.51,675.9 660.83,688.99 692,706 C723.4,723.14 754.83,749.02 776.87,768.97 " fill="none" id="decoration-to-producerTranslation" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="780.6,772.37,776.6416,763.3516,776.9042,769.0024,771.2534,769.2649,780.6,772.37" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="740" y="726.5669">event-logging XML</text><!--MD5=[80d47d57c60435861fbb7bc781dcfdfd]
link decoration to indexing--><path d="M527,676.19 C527,701.42 527,739.93 527,766.88 " fill="none" id="decoration-to-indexing" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="527,772.11,531,763.11,527,767.11,523,763.11,527,772.11" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="528" y="719.0669">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="555.5" y="734.1997">XML</text><!--MD5=[f5cd94010798bc3aca9e28b73fcf137e]
link decoration to analytic--><path d="M592.19,651.58 C660.59,654.93 769.77,666.7 855,706 C887.14,720.82 917.5,747.55 938.15,768.39 " fill="none" id="decoration-to-analytic" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="941.89,772.21,938.4475,762.9824,938.3904,768.6389,932.7338,768.5818,941.89,772.21" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="905" y="719.0669">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="932.5" y="734.1997">XML</text><!--MD5=[50b16ba873c32dc026282b1e20aa4b48]
link decoration to flattener--><path d="M461.59,660.81 C419.98,669.12 365.86,683.26 322,706 C290.83,722.16 260.49,748.23 239.43,768.5 " fill="none" id="decoration-to-flattener" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="235.61,772.21,244.8515,768.8048,239.1952,768.7248,239.2752,763.0685,235.61,772.21" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="323" y="719.0669">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="350.5" y="734.1997">XML</text><!--MD5=[4b91e99fa44f253dcea5c123a3b95174]
link decoration to statsXslt--><path d="M478.5,676.27 C464.66,684.77 450.08,694.92 438,706 C418.17,724.2 400.09,748.74 387.42,767.9 " fill="none" id="decoration-to-statsXslt" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="384.64,772.15,392.9057,766.7949,387.3705,767.9614,386.2039,762.4261,384.64,772.15" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="439" y="719.0669">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="466.5" y="734.1997">XML</text><!--MD5=[e72614f5c368429017fe832765571ec2]
link decoration to xmlWriter--><path d="M461.97,651.62 C391.48,654.96 277.02,666.66 187,706 C148.07,723.01 110.73,755.83 88.83,777.32 " fill="none" id="decoration-to-xmlWriter" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="85.18,780.93,94.3866,777.4316,88.7298,777.4088,88.7526,771.7519,85.18,780.93" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="188" y="719.0669">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="215.5" y="734.1997">XML</text><!--MD5=[e0a82bc7675f286e79c6ec018412dcfe]
link indexing to indexer--><path d="M523.1,825.78 C518.7,854.85 511.62,901.64 507.43,929.35 " fill="none" id="indexing-to-indexer" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="506.63,934.63,511.9232,926.3244,507.3731,929.6855,504.012,925.1355,506.63,934.63" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="518" y="873.0669">records</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="528.5" y="888.1997">XML</text><!--MD5=[bd26872c9bcf39a5be318ac56c085014]
link indexing to solrIndexer--><path d="M545.7,825.65 C553.16,836.16 561.7,848.52 569,860 C583.96,883.51 599.74,911.34 610.15,930.19 " fill="none" id="indexing-to-solrIndexer" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="612.67,934.78,611.8204,924.9679,610.2527,930.4032,604.8174,928.8355,612.67,934.78" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="588" y="873.0669">records</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="598.5" y="888.1997">XML</text><!--MD5=[0fe5340c59aa58c907112264b89bb7ed]
link indexer to index--><path d="M504,971.07 C504,992.12 504,1028.44 504,1055.6 " fill="none" id="indexer-to-index" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="504,1060.91,508,1051.91,504,1055.91,500,1051.91,504,1060.91" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="505" y="1027.0669">Store</text><!--MD5=[1b58bfe45d8a3f1c36d5650f5c6667ec]
link solrIndexer to solr--><path d="M622,971.03 C622,1014.28 622,1128.64 622,1180.84 " fill="none" id="solrIndexer-to-solr" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="622,1185.99,626,1176.99,622,1180.99,618,1176.99,622,1185.99" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="623" y="1096.5669">Store</text><!--MD5=[113938511f1804f334edbafa85dfb8f2]
link statsXslt to statsAggregator--><path d="M369,825.78 C369,852.18 369,893.19 369,921.26 " fill="none" id="statsXslt-to-statsAggregator" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="369,926.34,373,917.34,369,921.34,365,917.34,369,926.34" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="370" y="880.5669">statistics XML</text><!--MD5=[ae9c0d0c0445bf7369074df2bad68192]
link statsAggregator to statsStore--><path d="M369,979.77 C369,1001.1 369,1031.63 369,1055.31 " fill="none" id="statsAggregator-to-statsStore" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="369,1060.56,373,1051.56,369,1055.56,365,1051.56,369,1060.56" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="370" y="1027.0669">Store</text><!--MD5=[0b868102342b69e20eab3817aa9b352f]
link producerTranslation to kafkaProducer--><path d="M780.17,825.66 C771.71,835.5 763.42,847.41 759,860 C752.13,879.57 753,902.95 755.53,921.24 " fill="none" id="producerTranslation-to-kafkaProducer" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="756.28,926.26,758.898,916.7655,755.5369,921.3155,750.9868,917.9544,756.28,926.26" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="760" y="873.0669">kafka-records</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="787.5" y="888.1997">XML</text><!--MD5=[fd6aef95e8f02c0984bfec68322a2ed8]
link kafkaProducer to kafka--><path d="M762,979.7 C762,1029.52 762,1138.42 762,1185.31 " fill="none" id="kafkaProducer-to-kafka" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="762,1190.44,766,1181.44,762,1185.44,758,1181.44,762,1190.44" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="763" y="1096.5669">Send to topic</text><!--MD5=[df6751609fb9921472ab915cd72e57d0]
link xmlWriter to cookedEventsLog--><path d="M69.77,780.75 C70.93,753.21 73,697.64 73,650.5 C73,373.5 73,373.5 73,373.5 C73,321.42 102.02,266.86 122.95,234.28 " fill="none" id="xmlWriter-to-cookedEventsLog" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="125.72,230.02,117.4626,235.388,122.9961,234.2129,124.1712,239.7463,125.72,230.02" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="98" y="494.0669">Store</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="74" y="509.1997">event-logging</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="101.5" y="524.3325">XML</text><!--MD5=[cc20d671704b2dca341b51ee43051b3e]
link xmlWriter to metaStore--><path d="M69,817.14 C69,841.14 69,885.32 69,916.56 " fill="none" id="xmlWriter-to-metaStore" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="69,921.85,73,912.85,69,916.85,65,912.85,69,921.85" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="70" y="880.5669">Event metadata</text><!--MD5=[866cbf7957e03ec98553fbdf24b62999]
link flattener to textWriter--><path d="M211,825.78 C211,854.85 211,901.64 211,929.35 " fill="none" id="flattener-to-textWriter" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="211,934.63,215,925.63,211,929.63,207,925.63,211,934.63" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="212" y="880.5669">Text data</text><!--MD5=[20b26482b6ebbd57fc3f034beea22dc9]
link textWriter to fileSystem--><path d="M211,971.07 C211,992.12 211,1028.44 211,1055.6 " fill="none" id="textWriter-to-fileSystem" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="211,1060.91,215,1051.91,211,1055.91,207,1051.91,211,1060.91" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="212" y="1027.0669">Text data</text><!--MD5=[e0b0cf1aad2800ce4a2cb42f2c552eb8]
link analytic to dataStore2--><path d="M951.09,825.78 C937.53,850.93 916.8,889.34 901.78,917.18 " fill="none" id="analytic-to-dataStore2" style="stroke:#808080;stroke-width:1.0;"/><polygon fill="#808080" points="899.24,921.9,907.0311,915.8752,901.6122,917.4986,899.9888,912.0796,899.24,921.9" style="stroke:#808080;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="987.5" y="873.0669">Store</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="932" y="888.1997">(Errors/Warnings/Alerts)</text><!--MD5=[a419f93328728f1138aad6629a641426]
@startuml

skinparam defaultTextAlignment center

'skinparam backgroundcolor transparent
'left to right direction

rectangle "Stroom Cluster" as stroomCluster {

    database "Data Store" as dataStore #LightSteelBlue {
        rectangle "Raw" {
            file "Fixed Width Log" as rawFixedWidthLog #LightBlue
            file "CSV Log" as rawCsvLog #LightBlue
            file "XML Log" as rawXmlLog #LightBlue
            file "XML (event-logging)\nEvents" as rawEventsLog #LightBlue
            file "JSON Log" as rawJsonLog #LightBlue
        }
        rectangle "Cooked" {
            file "XML (event-logging)\nEvents" as cookedEventsLog #LightBlue
        }
    'file "Reference Data" as refDataLog #LightBlue
    }

    'Parsers
    rectangle "Data\nSplitter" as dataSplitter #DarkGoldenRod
    rectangle "JSON\nParser" as jsonParser #DarkGoldenRod
    rectangle "XML\nParser" as xmlParser #DarkGoldenRod
    rectangle "XML\nParser" as xmlParser2 #DarkGoldenRod

    'XSLT Filters
    rectangle "Normalisation\nXSLT Translation" as normalisation #DarkOrange
    rectangle "Decoration\nXSLT Translations" as decoration #DarkOrange
    rectangle "Indexing\nXSLT Translation" as indexing #DarkOrange
    rectangle "Analytic\nXSLT Translation" as analytic #DarkOrange
    rectangle "Flattener\nXSLT Translation" as flattener #DarkOrange
    rectangle "Statistics\nXSLT Translation" as statsXslt #DarkOrange

    'Writers/appenders/filters
    rectangle "Indexer" as indexer #MediumOrchid
    rectangle "Solr Indexer" as solrIndexer #MediumOrchid
    rectangle "Producer record\nXSLT Translation" as producerTranslation #DarkOrange
    rectangle "Kafka\nproducer" as kafkaProducer #MediumOrchid
    rectangle "XML Writer" as xmlWriter #MediumOrchid
    rectangle "Text Writer" as textWriter #MediumOrchid
    rectangle "Statistics\nAggregator" as statsAggregator #MediumOrchid

    'Stores
    database "Reference\nData Store" as refDataStore #LightSteelBlue
    database "Lucene\nIndex" as index #LightSteelBlue
    database "Data\nStore" as dataStore2 #LightSteelBlue
    database "Meta\nStore" as metaStore #LightSteelBlue
    database "File\nSystem" as fileSystem #LightSteelBlue
    database "Statistics\nStore" as statsStore #LightSteelBlue

}

'External Systems
rectangle "Kafka" as kafka #LightGreen
database "Solr" as solr #LightGreen

rawCsvLog -[#Grey]-> dataSplitter :Text
rawFixedWidthLog -[#Grey]-> dataSplitter :Text
rawJsonLog -[#Grey]-> jsonParser :JSON
rawXmlLog -[#Grey]-> xmlParser : XML
rawEventsLog - -> xmlParser2 : event-logging\nXML
dataSplitter -[#Blue]-> normalisation :XML
jsonParser -[#Blue]d-> normalisation :XML
xmlParser -[#Blue]> normalisation :XML
xmlParser2 -> decoration :event-logging\nXML
normalisation - -> decoration :event-logging\nXML
decoration <-[#Grey]- refDataStore :Lookup
decoration - -> producerTranslation :event-logging XML
decoration - -> indexing :event-logging\nXML
decoration - -> analytic :event-logging\nXML
decoration - -> flattener :event-logging\nXML
decoration - -> statsXslt :event-logging\nXML
decoration - -> xmlWriter :event-logging\nXML

indexing -[#Green]-> indexer :records\nXML
indexing -[#Green]-> solrIndexer :records\nXML
indexer -[#Grey]-> index :Store
solrIndexer -[#Grey]d- -> solr :Store

statsXslt -[#Green]-> statsAggregator : statistics XML
statsAggregator -[#Grey]-> statsStore : Store

producerTranslation -[#Green]-> kafkaProducer :kafka-records\nXML
kafkaProducer -[#Grey]d- -> kafka : Send to topic

xmlWriter - -> cookedEventsLog :Store\nevent-logging\nXML
xmlWriter -[#Grey]-> metaStore :Event metadata
flattener -[#Grey]-> textWriter : Text data
textWriter -[#Grey]-> fileSystem :Text data
analytic -[#Grey]-> dataStore2 :"Store\n(Errors/Warnings/Alerts)"



@enduml

@startuml

skinparam defaultTextAlignment center


rectangle "Stroom Cluster" as stroomCluster {

    database "Data Store" as dataStore #LightSteelBlue {
        rectangle "Raw" {
            file "Fixed Width Log" as rawFixedWidthLog #LightBlue
            file "CSV Log" as rawCsvLog #LightBlue
            file "XML Log" as rawXmlLog #LightBlue
            file "XML (event-logging)\nEvents" as rawEventsLog #LightBlue
            file "JSON Log" as rawJsonLog #LightBlue
        }
        rectangle "Cooked" {
            file "XML (event-logging)\nEvents" as cookedEventsLog #LightBlue
        }
    }

    rectangle "Data\nSplitter" as dataSplitter #DarkGoldenRod
    rectangle "JSON\nParser" as jsonParser #DarkGoldenRod
    rectangle "XML\nParser" as xmlParser #DarkGoldenRod
    rectangle "XML\nParser" as xmlParser2 #DarkGoldenRod

    rectangle "Normalisation\nXSLT Translation" as normalisation #DarkOrange
    rectangle "Decoration\nXSLT Translations" as decoration #DarkOrange
    rectangle "Indexing\nXSLT Translation" as indexing #DarkOrange
    rectangle "Analytic\nXSLT Translation" as analytic #DarkOrange
    rectangle "Flattener\nXSLT Translation" as flattener #DarkOrange
    rectangle "Statistics\nXSLT Translation" as statsXslt #DarkOrange

    rectangle "Indexer" as indexer #MediumOrchid
    rectangle "Solr Indexer" as solrIndexer #MediumOrchid
    rectangle "Producer record\nXSLT Translation" as producerTranslation #DarkOrange
    rectangle "Kafka\nproducer" as kafkaProducer #MediumOrchid
    rectangle "XML Writer" as xmlWriter #MediumOrchid
    rectangle "Text Writer" as textWriter #MediumOrchid
    rectangle "Statistics\nAggregator" as statsAggregator #MediumOrchid

    database "Reference\nData Store" as refDataStore #LightSteelBlue
    database "Lucene\nIndex" as index #LightSteelBlue
    database "Data\nStore" as dataStore2 #LightSteelBlue
    database "Meta\nStore" as metaStore #LightSteelBlue
    database "File\nSystem" as fileSystem #LightSteelBlue
    database "Statistics\nStore" as statsStore #LightSteelBlue

}

rectangle "Kafka" as kafka #LightGreen
database "Solr" as solr #LightGreen

rawCsvLog -[#Grey]-> dataSplitter :Text
rawFixedWidthLog -[#Grey]-> dataSplitter :Text
rawJsonLog -[#Grey]-> jsonParser :JSON
rawXmlLog -[#Grey]-> xmlParser : XML
rawEventsLog - -> xmlParser2 : event-logging\nXML
dataSplitter -[#Blue]-> normalisation :XML
jsonParser -[#Blue]d-> normalisation :XML
xmlParser -[#Blue]> normalisation :XML
xmlParser2 -> decoration :event-logging\nXML
normalisation - -> decoration :event-logging\nXML
decoration <-[#Grey]- refDataStore :Lookup
decoration - -> producerTranslation :event-logging XML
decoration - -> indexing :event-logging\nXML
decoration - -> analytic :event-logging\nXML
decoration - -> flattener :event-logging\nXML
decoration - -> statsXslt :event-logging\nXML
decoration - -> xmlWriter :event-logging\nXML

indexing -[#Green]-> indexer :records\nXML
indexing -[#Green]-> solrIndexer :records\nXML
indexer -[#Grey]-> index :Store
solrIndexer -[#Grey]d- -> solr :Store

statsXslt -[#Green]-> statsAggregator : statistics XML
statsAggregator -[#Grey]-> statsStore : Store

producerTranslation -[#Green]-> kafkaProducer :kafka-records\nXML
kafkaProducer -[#Grey]d- -> kafka : Send to topic

xmlWriter - -> cookedEventsLog :Store\nevent-logging\nXML
xmlWriter -[#Grey]-> metaStore :Event metadata
flattener -[#Grey]-> textWriter : Text data
textWriter -[#Grey]-> fileSystem :Text data
analytic -[#Grey]-> dataStore2 :"Store\n(Errors/Warnings/Alerts)"



@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>