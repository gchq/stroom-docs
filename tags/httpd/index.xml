<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Stroom â€“ httpd</title>
    <link>/tags/httpd/</link>
    <description>Recent content in httpd on Stroom</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Mon, 12 Jul 2021 00:00:00 +0000</lastBuildDate>
    
	  <atom:link href="/tags/httpd/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: Apache Httpd/Mod_JK configuration for Stroom</title>
      <link>/docs/howtos/install/installhttpdhowto/</link>
      <pubDate>Mon, 12 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>/docs/howtos/install/installhttpdhowto/</guid>
      <description>
        
        
        &lt;h2 id=&#34;assumptions&#34;&gt;Assumptions&lt;/h2&gt;
&lt;p&gt;The following assumptions are used in this document.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the user has reasonable RHEL/Centos System administration skills&lt;/li&gt;
&lt;li&gt;installations are on Centos 7.3 minimal systems (fully patched)&lt;/li&gt;
&lt;li&gt;the security of the HTTPD deployment should be reviewed for a production environment.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;installation-of-apache-httpd-and-mod_jk-software&#34;&gt;Installation of Apache httpd and Mod_JK Software&lt;/h2&gt;
&lt;p&gt;To deploy Stroom using Apache&amp;rsquo;s httpd web service as a front end (https) and Apache&amp;rsquo;s mod_jk as the interface between Apache and the Stroom tomcat applications, we also need&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;apr&lt;/li&gt;
&lt;li&gt;apr-util&lt;/li&gt;
&lt;li&gt;apr-devel&lt;/li&gt;
&lt;li&gt;gcc&lt;/li&gt;
&lt;li&gt;httpd&lt;/li&gt;
&lt;li&gt;httpd-devel&lt;/li&gt;
&lt;li&gt;mod_ssl&lt;/li&gt;
&lt;li&gt;epel-release&lt;/li&gt;
&lt;li&gt;tomcat-native&lt;/li&gt;
&lt;li&gt;apache&amp;rsquo;s mod_jk tomcat connector plugin&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Most of the required software are packages available via standard repositories and hence we can simply execute&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo yum -y install apr apr-util apr-devel gcc httpd httpd-devel mod_ssl epel-release
sudo yum -y install tomcat-native
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The reason for the distinct &lt;code&gt;tomcat-native&lt;/code&gt; installation is that this package is from the 






  

&lt;span class=&#34;external-link&#34;&gt;
  &lt;a href=&#34;https://fedoraproject.org/wiki/EPEL&#34; target=&#34;_blank&#34; class=&#34;&#34; style=&#34;&#34; title=&#34;EPEL (external link)&#34;&gt;
    &lt;span&gt;EPEL&lt;/span&gt;
    &lt;i class=&#34;external-link-icon fas fa-external-link-alt fa-sm text-secondary&#34;&gt;&lt;/i&gt;
  &lt;/a&gt;
&lt;/span&gt;
 repository so it must be installed first.&lt;/p&gt;
&lt;p&gt;For the Apache mod_jk Tomcat connector we need to acquire a recent 






  

&lt;span class=&#34;external-link&#34;&gt;
  &lt;a href=&#34;http://tomcat.apache.org/connectors-doc/&#34; target=&#34;_blank&#34; class=&#34;&#34; style=&#34;&#34; title=&#34;release (external link)&#34;&gt;
    &lt;span&gt;release&lt;/span&gt;
    &lt;i class=&#34;external-link-icon fas fa-external-link-alt fa-sm text-secondary&#34;&gt;&lt;/i&gt;
  &lt;/a&gt;
&lt;/span&gt;
 and install it.
The following commands achieve this for the 1.2.42 release.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;sudo bash
cd /tmp
V=1.2.42
wget https://www.apache.org/dist/tomcat/tomcat-connectors/jk/tomcat-connectors-${V}-src.tar.gz
tar xf tomcat-connectors-${V}-src.tar.gz
cd tomcat-connectors-*-src/native
./configure --with-apxs=/bin/apxs
make &amp;amp;&amp;amp; make install
cd /tmp
rm -rf tomcat-connectors-*-src
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Although you could remove the gcc compiler at this point, we leave it installed as one &lt;em&gt;should&lt;/em&gt; continue to upgrade the Tomcat Connectors to later releases.&lt;/p&gt;
&lt;h2 id=&#34;configure-apache-httpd&#34;&gt;Configure Apache httpd&lt;/h2&gt;
&lt;p&gt;We need to configure Apache as the &lt;code&gt;root&lt;/code&gt; user.&lt;/p&gt;
&lt;p&gt;If the Apache httpd service is &amp;lsquo;fronting&amp;rsquo; a Stroom user interface, we should create an index file (/var/www/html/index.html) on all nodes so browsing to
the root of the node will present the Stroom UI. This is not needed if you are deploying a Forwarding or Standalone Stroom proxy.&lt;/p&gt;
&lt;h3 id=&#34;forwarding-file-for-stroom-user-interface-deployments&#34;&gt;Forwarding file for Stroom User Interface deployments&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;F=/var/www/html/index.html
printf &#39;&amp;lt;html&amp;gt;\n&#39; &amp;gt; ${F}
printf &#39;&amp;lt;head&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  &amp;lt;meta http-equiv=&amp;quot;Refresh&amp;quot; content=&amp;quot;0; URL=stroom&amp;quot;/&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;&amp;lt;/head&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;&amp;lt;/html&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
chmod 644 ${F}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Remember, deploy this file on all nodes running the Stroom Application.&lt;/p&gt;
&lt;h3 id=&#34;httpdconf-configuration&#34;&gt;Httpd.conf Configuration&lt;/h3&gt;
&lt;p&gt;We modify &lt;code&gt;/etc/httpd/conf/httpd.conf&lt;/code&gt; on all nodes, but backup the file first with&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cp /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.ORIG
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Irrespective of the Stroom scenario being deployed - Multi Node Stroom (Application and Proxy), single Standalone Stroom Proxy or single Forwarding
Stroom Proxy, the configuration of the &lt;code&gt;/etc/httpd/conf/httpd.conf&lt;/code&gt; file is the same.&lt;/p&gt;
&lt;p&gt;We start by modify the configuration file by,
add just before the ServerRoot directive the following directives which are designed to make the httpd service more secure.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;# Stroom Change: Start - Apply generic security directives
ServerTokens Prod
ServerSignature Off
FileETag None
RewriteEngine On
RewriteCond %{THE_REQUEST} !HTTP/1.1$
RewriteRule .* - [F]
Header set X-XSS-Protection &amp;quot;1; mode=block&amp;quot;
# Stroom Change: End
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is,&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;...
# Do not add a slash at the end of the directory path.  If you point
# ServerRoot at a non-local disk, be sure to specify a local disk on the
# Mutex directive, if file-based mutexes are used.  If you wish to share the
# same ServerRoot for multiple httpd daemons, you will need to change at
# least PidFile.
#
ServerRoot &amp;quot;/etc/httpd&amp;quot;

#
# Listen: Allows you to bind Apache to specific IP addresses and/or
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;becomes&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;...
# Do not add a slash at the end of the directory path.  If you point
# ServerRoot at a non-local disk, be sure to specify a local disk on the
# Mutex directive, if file-based mutexes are used.  If you wish to share the
# same ServerRoot for multiple httpd daemons, you will need to change at
# least PidFile.
#
# Stroom Change: Start - Apply generic security directives
ServerTokens Prod
ServerSignature Off
FileETag None
RewriteEngine On
RewriteCond %{THE_REQUEST} !HTTP/1.1$
RewriteRule .* - [F]
Header set X-XSS-Protection &amp;quot;1; mode=block&amp;quot;
# Stroom Change: End
ServerRoot &amp;quot;/etc/httpd&amp;quot;

#
# Listen: Allows you to bind Apache to specific IP addresses and/or
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We now block access to the /var/www directory by commenting out&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;Directory &amp;quot;/var/www&amp;quot;&amp;gt;
  AllowOverride None
  # Allow open access:
  Require all granted
&amp;lt;/Directory&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;that is&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
#
# Relax access to content within /var/www.
#
&amp;lt;Directory &amp;quot;/var/www&amp;quot;&amp;gt;
    AllowOverride None
    # Allow open access:
    Require all granted
&amp;lt;/Directory&amp;gt;

# Further relax access to the default document root:
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;becomes&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
#
# Relax access to content within /var/www.
#
# Stroom Change: Start - Block access to /var/www
# &amp;lt;Directory &amp;quot;/var/www&amp;quot;&amp;gt;
#     AllowOverride None
#     # Allow open access:
#     Require all granted
# &amp;lt;/Directory&amp;gt;
# Stroom Change: End

# Further relax access to the default document root:
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then within the /var/www/html directory turn off Indexes FollowSymLinks by commenting out the line&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Options Indexes FollowSymLinks
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
    # The Options directive is both complicated and important.  Please see
    # http://httpd.apache.org/docs/2.4/mod/core.html#options
    # for more information.
    #
    Options Indexes FollowSymLinks

    #
    # AllowOverride controls what directives may be placed in .htaccess files.
    # It can be &amp;quot;All&amp;quot;, &amp;quot;None&amp;quot;, or any combination of the keywords:
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;becomes&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
    # The Options directive is both complicated and important.  Please see
    # http://httpd.apache.org/docs/2.4/mod/core.html#options
    # for more information.
    #
    # Stroom Change: Start - turn off indexes and FollowSymLinks
    # Options Indexes FollowSymLinks
    # Stroom Change: End

    #
    # AllowOverride controls what directives may be placed in .htaccess files.
    # It can be &amp;quot;All&amp;quot;, &amp;quot;None&amp;quot;, or any combination of the keywords:
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then finally we add two new log formats and configure the access log to use the new format. This is done within the &lt;code&gt;&amp;lt;IfModule logio_module&amp;gt;&lt;/code&gt; by adding the two new LogFormat directives&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%u\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D %I/%O/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxUser
LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%{SSL_CLIENT_S_DN}x\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D %I/%O/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxSSLUser
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and replacing the CustomLog directive&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CustomLog &amp;quot;logs/access_log&amp;quot; combined
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CustomLog logs/access_log blackboxSSLUser
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
    LogFormat &amp;quot;%h %l %u %t \&amp;quot;%r\&amp;quot; %&amp;gt;s %b&amp;quot; common

    &amp;lt;IfModule logio_module&amp;gt;
      # You need to enable mod_logio.c to use %I and %O
      LogFormat &amp;quot;%h %l %u %t \&amp;quot;%r\&amp;quot; %&amp;gt;s %b \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %I %O&amp;quot; combinedio
    &amp;lt;/IfModule&amp;gt;

    #
    # The location and format of the access logfile (Common Logfile Format).
    # If you do not define any access logfiles within a &amp;lt;VirtualHost&amp;gt;
    # container, they will be logged here.  Contrariwise, if you *do*
    # define per-&amp;lt;VirtualHost&amp;gt; access logfiles, transactions will be
    # logged therein and *not* in this file.
    #
    #CustomLog &amp;quot;logs/access_log&amp;quot; common

    #
    # If you prefer a logfile with access, agent, and referer information
    # (Combined Logfile Format) you can use the following directive.
    #
    CustomLog &amp;quot;logs/access_log&amp;quot; combined
&amp;lt;/IfModule&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;becomes&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
    LogFormat &amp;quot;%h %l %u %t \&amp;quot;%r\&amp;quot; %&amp;gt;s %b&amp;quot; common

    &amp;lt;IfModule logio_module&amp;gt;
      # You need to enable mod_logio.c to use %I and %O
      LogFormat &amp;quot;%h %l %u %t \&amp;quot;%r\&amp;quot; %&amp;gt;s %b \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %I %O&amp;quot; combinedio
      # Stroom Change: Start - Add new logformats
      LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%u\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D %I/%O/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxUser
      LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%{SSL_CLIENT_S_DN}x\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D %I/%O/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxSSLUser
      # Stroom Change: End
    &amp;lt;/IfModule&amp;gt;
    # Stroom Change: Start - Add new logformats without the additional byte values
    &amp;lt;IfModule !logio_module&amp;gt;
      LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%u\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D 0/0/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxUser
      LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%{SSL_CLIENT_S_DN}x\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D 0/0/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxSSLUser
    &amp;lt;/IfModule&amp;gt;
    # Stroom Change: End

    #
    # The location and format of the access logfile (Common Logfile Format).
    # If you do not define any access logfiles within a &amp;lt;VirtualHost&amp;gt;
    # container, they will be logged here.  Contrariwise, if you *do*
    # define per-&amp;lt;VirtualHost&amp;gt; access logfiles, transactions will be
    # logged therein and *not* in this file.
    #
    #CustomLog &amp;quot;logs/access_log&amp;quot; common

    #
    # If you prefer a logfile with access, agent, and referer information
    # (Combined Logfile Format) you can use the following directive.
    #
    # Stroom Change: Start - Make the access log use a new format
    # CustomLog &amp;quot;logs/access_log&amp;quot; combined
    CustomLog logs/access_log blackboxSSLUser
    # Stroom Change: End
&amp;lt;/IfModule&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Remember, deploy this file on all nodes.&lt;/p&gt;
&lt;h3 id=&#34;configuration-of-sslconf&#34;&gt;Configuration of ssl.conf&lt;/h3&gt;
&lt;p&gt;We modify &lt;code&gt;/etc/httpd/conf.d/ssl.conf&lt;/code&gt; on all nodes, backing up first,&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-base&#34;&gt;cp /etc/httpd/conf.d/ssl.conf /etc/httpd/conf.d/ssl.conf.ORIG
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The configuration of the &lt;code&gt;/etc/httpd/conf.d/ssl.conf&lt;/code&gt; &lt;strong&gt;does&lt;/strong&gt; change depending on the Stroom scenario deployed. In the following we will indicate
differences by tagged sub-headings. If the configuration applies irrespective of scenario, then &lt;strong&gt;All scenarios&lt;/strong&gt; is the tag, else the tag indicated the
type of Stroom deployment.&lt;/p&gt;
&lt;h4 id=&#34;sslconf-http-to-https-redirection---all-scenarios&#34;&gt;ssl.conf: HTTP to HTTPS Redirection - All scenarios&lt;/h4&gt;
&lt;p&gt;Before the &lt;VirtualHost _default_:443&gt; context we add http to https redirection by adding the directives (noting we specify the actual server name)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;VirtualHost *:80&amp;gt;
  ServerName stroomp00.strmdev00.org
  Redirect permanent &amp;quot;/&amp;quot; &amp;quot;https://stroomp00.strmdev00.org/&amp;quot;
&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, we change&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
## SSL Virtual Host Context
##

&amp;lt;VirtualHost _default_:443&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
## SSL Virtual Host Context
##

# Stroom Change: Start - Add http redirection to https
&amp;lt;VirtualHost *:80&amp;gt;
  ServerName stroomp00.strmdev00.org
  Redirect permanent &amp;quot;/&amp;quot; &amp;quot;https://stroomp00.strmdev00.org/&amp;quot;
&amp;lt;/VirtualHost&amp;gt;
# Stroom Change: End

&amp;lt;VirtualHost _default_:443&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;sslconf-virtualhost-directives---multi-node-application-and-proxy-deployment&#34;&gt;ssl.conf: VirtualHost directives - Multi Node &amp;lsquo;Application and Proxy&amp;rsquo; deployment&lt;/h4&gt;
&lt;p&gt;Within the &lt;VirtualHost _default_:443&gt; context we set the directives, in this case, we use the CNAME &lt;code&gt;stroomp.strmdev00.org&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ServerName stroomp.strmdev00.org
JkMount /stroom* loadbalancer
JkMount /stroom/remoting/cluster* local
JkMount /stroom/datafeed* loadbalancer_proxy
JkMount /stroom/remoting* loadbalancer_proxy
JkMount /stroom/datafeeddirect* loadbalancer
JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, we change&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
&amp;lt;VirtualHost _default_:443&amp;gt;

# General setup for the virtual host, inherited from global configuration
#DocumentRoot &amp;quot;/var/www/html&amp;quot;
#ServerName www.example.com:443

# Use separate log files for the SSL virtual host; note that LogLevel
# is not inherited from httpd.conf.
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
&amp;lt;VirtualHost _default_:443&amp;gt;

# General setup for the virtual host, inherited from global configuration
#DocumentRoot &amp;quot;/var/www/html&amp;quot;
#ServerName www.example.com:443
# Stroom Change: Start - Set servername and mod_jk connectivity
ServerName stroomp.strmdev00.org
JkMount /stroom* loadbalancer
JkMount /stroom/remoting/cluster* local
JkMount /stroom/datafeed* loadbalancer_proxy
JkMount /stroom/remoting* loadbalancer_proxy
JkMount /stroom/datafeeddirect* loadbalancer
JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories
# Stroom Change: End

# Use separate log files for the SSL virtual host; note that LogLevel
# is not inherited from httpd.conf.
...
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;sslconf-virtualhost-directives---standalone-or-forwarding-proxy-deployment&#34;&gt;ssl.conf: VirtualHost directives - Standalone or Forwarding Proxy deployment&lt;/h4&gt;
&lt;p&gt;Within the &lt;VirtualHost _default_:443&gt; context set the directives, in this case, for a node named say &lt;code&gt;stroomfp0.strmdev00.org&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ServerName stroomfp0.strmdev00.org
JkMount /stroom/datafeed* local_proxy
JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, we change&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
&amp;lt;VirtualHost _default_:443&amp;gt;

# General setup for the virtual host, inherited from global configuration
#DocumentRoot &amp;quot;/var/www/html&amp;quot;
#ServerName www.example.com:443

# Use separate log files for the SSL virtual host; note that LogLevel
# is not inherited from httpd.conf.
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
&amp;lt;VirtualHost _default_:443&amp;gt;

# General setup for the virtual host, inherited from global configuration
#DocumentRoot &amp;quot;/var/www/html&amp;quot;
#ServerName www.example.com:443
# Stroom Change: Start - Set servername and mod_jk connectivity
ServerName stroomfp0.strmdev00.org
JkMount /stroom/datafeed* local_proxy
JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories
# Stroom Change: End

# Use separate log files for the SSL virtual host; note that LogLevel
# is not inherited from httpd.conf.
...
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;sslconf-virtualhost-directives---single-node-application-and-proxy-deployment&#34;&gt;ssl.conf: VirtualHost directives - Single Node &amp;lsquo;Application and Proxy&amp;rsquo; deployment&lt;/h4&gt;
&lt;p&gt;Within the &lt;VirtualHost _default_:443&gt; context set the directives, in this case, for a node name &lt;code&gt;stroomp00.strmdev00.org&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ServerName stroomp00.strmdev00.org
JkMount /stroom* local
JkMount /stroom/remoting/cluster* local
JkMount /stroom/datafeed* local_proxy
JkMount /stroom/remoting* local_proxy
JkMount /stroom/datafeeddirect* local
JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, we change&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
&amp;lt;VirtualHost _default_:443&amp;gt;

# General setup for the virtual host, inherited from global configuration
#DocumentRoot &amp;quot;/var/www/html&amp;quot;
#ServerName www.example.com:443

# Use separate log files for the SSL virtual host; note that LogLevel
# is not inherited from httpd.conf.
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
&amp;lt;VirtualHost _default_:443&amp;gt;

# General setup for the virtual host, inherited from global configuration
#DocumentRoot &amp;quot;/var/www/html&amp;quot;
#ServerName www.example.com:443
# Stroom Change: Start - Set servername and mod_jk connectivity
ServerName stroomp00.strmdev00.org
JkMount /stroom* local
JkMount /stroom/remoting/cluster* local
JkMount /stroom/datafeed* local_proxy
JkMount /stroom/remoting* local_proxy
JkMount /stroom/datafeeddirect* local
JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories
# Stroom Change: End

# Use separate log files for the SSL virtual host; note that LogLevel
# is not inherited from httpd.conf.
...
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;sslconf-certificate-file-changes---all-scenarios&#34;&gt;ssl.conf: Certificate file changes - All scenarios&lt;/h4&gt;
&lt;p&gt;We replace the standard certificate files with the generated certificates. In the example below, we are using the multi node scenario, in
that the key file names are &lt;code&gt;stroomp.crt&lt;/code&gt; and &lt;code&gt;stroomp.key&lt;/code&gt;. For other scenarios, use the appropriate file names generated. We replace&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SSLCertificateFile /etc/pki/tls/certs/localhost.crt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SSLCertificateFile /home/stroomuser/stroom-jks/public/stroomp.crt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SSLCertificateKeyFile /etc/pki/tls/private/localhost.key
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SSLCertificateKeyFile /home/stroomuser/stroom-jks/private/stroomp.key
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, change&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
# pass phrase.  Note that a kill -HUP will prompt again.  A new
# certificate can be generated using the genkey(1) command.
SSLCertificateFile /etc/pki/tls/certs/localhost.crt

#   Server Private Key:
#   If the key is not combined with the certificate, use this
#   directive to point at the key file.  Keep in mind that if
#   you&#39;ve both a RSA and a DSA private key you can configure
#   both in parallel (to also allow the use of DSA ciphers, etc.)
SSLCertificateKeyFile /etc/pki/tls/private/localhost.key

#   Server Certificate Chain:
#   Point SSLCertificateChainFile at a file containing the
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
# pass phrase.  Note that a kill -HUP will prompt again.  A new
# certificate can be generated using the genkey(1) command.
# Stroom Change: Start - Replace with Stroom server certificate
# SSLCertificateFile /etc/pki/tls/certs/localhost.crt
SSLCertificateFile /home/stroomuser/stroom-jks/public/stroomp.crt
# Stroom Change: End

#   Server Private Key:
#   If the key is not combined with the certificate, use this
#   directive to point at the key file.  Keep in mind that if
#   you&#39;ve both a RSA and a DSA private key you can configure
#   both in parallel (to also allow the use of DSA ciphers, etc.)
# Stroom Change: Start - Replace with Stroom server private key file
# SSLCertificateKeyFile /etc/pki/tls/private/localhost.key
SSLCertificateKeyFile /home/stroomuser/stroom-jks/private/stroomp.key
# Stroom Change: End

#   Server Certificate Chain:
#   Point SSLCertificateChainFile at a file containing the
...
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;sslconf-certificate-bundleno-ca-verification---all-scenarios&#34;&gt;ssl.conf: Certificate Bundle/NO-CA Verification - All scenarios&lt;/h4&gt;
&lt;p&gt;If you have signed your Stroom server certificate with a Certificate Authority, then change&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SSLCACertificateFile /etc/pki/tls/certs/ca-bundle.crt
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to be your own certificate bundle which you should probably store as &lt;code&gt;~stroomuser/stroom-jks/public/stroomp-ca-bundle.crt&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now if you are using a self signed certificate, you will need to set the Client Authentication to have a value of&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SSLVerifyClient optional_no_ca
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;noting that this may change if you actually use a CA.
That is, changing&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
#   Client Authentication (Type):
#   Client certificate verification type and depth.  Types are
#   none, optional, require and optional_no_ca.  Depth is a
#   number which specifies how deeply to verify the certificate
#   issuer chain before deciding the certificate is not valid.
#SSLVerifyClient require
#SSLVerifyDepth  10

#   Access Control:
#   With SSLRequire you can do per-directory access control based
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
#   Client Authentication (Type):
#   Client certificate verification type and depth.  Types are
#   none, optional, require and optional_no_ca.  Depth is a
#   number which specifies how deeply to verify the certificate
#   issuer chain before deciding the certificate is not valid.
#SSLVerifyClient require
#SSLVerifyDepth  10
# Stroom Change: Start - Set optional_no_ca (given we have a self signed certificate)
SSLVerifyClient optional_no_ca
# Stroom Change: End

#   Access Control:
#   With SSLRequire you can do per-directory access control based
...
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;sslconf-servlet-protection---single-or-multi-node-scenarios-not-for-standaloneforwarding-proxy&#34;&gt;ssl.conf: Servlet Protection - Single or Multi Node scenarios (not for Standalone/Forwarding Proxy)&lt;/h4&gt;
&lt;p&gt;We now need to secure certain Stroom Application servlets, to ensure they are only accessed under appropriate control.&lt;/p&gt;
&lt;p&gt;This set of servlets will be accessible by all nodes in the subnet 192.168.2 (as well as localhost). We achieve this by adding after the example Location directives&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;Location ~ &amp;quot;stroom/(status|echo|sessionList|debug)&amp;quot; &amp;gt;
 Require all denied
 Require ip 127.0.0.1 192.168.2
&amp;lt;/Location&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We further restrict the clustercall and export servlets to just the localhost. If we had multiple Stroom processing nodes, you would specify each node, or preferably, the subnet they are on. In our multi node case this is 192.168.2.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;Location ~ &amp;quot;stroom/export/|stroom/remoting/clustercall.rpc&amp;quot; &amp;gt;
 Require all denied
 Require ip 127.0.0.1 192.168.2
&amp;lt;/Location&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, the following&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
#            and %{TIME_WDAY} &amp;gt;= 1 and %{TIME_WDAY} &amp;lt;= 5 \
#            and %{TIME_HOUR} &amp;gt;= 8 and %{TIME_HOUR} &amp;lt;= 20       ) \
#           or %{REMOTE_ADDR} =~ m/^192\.76\.162\.[0-9]+$/
#&amp;lt;/Location&amp;gt;

#   SSL Engine Options:
#   Set various options for the SSL engine.
#   o FakeBasicAuth:
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;changes to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
#            and %{TIME_WDAY} &amp;gt;= 1 and %{TIME_WDAY} &amp;lt;= 5 \
#            and %{TIME_HOUR} &amp;gt;= 8 and %{TIME_HOUR} &amp;lt;= 20       ) \
#           or %{REMOTE_ADDR} =~ m/^192\.76\.162\.[0-9]+$/
#&amp;lt;/Location&amp;gt;

# Stroom Change: Start - Lock access to certain servlets
&amp;lt;Location ~ &amp;quot;stroom/(status|echo|sessionList|debug)&amp;quot; &amp;gt;
 Require all denied
 Require ip 127.0.0.1 192.168.2
&amp;lt;/Location&amp;gt;
# Lock these Servlets more securely - to just localhost and processing node(s)
&amp;lt;Location ~ &amp;quot;stroom/export/|stroom/remoting/clustercall.rpc&amp;quot; &amp;gt;
 Require all denied
 Require ip 127.0.0.1 192.168.2
&amp;lt;/Location&amp;gt;
# Stroom Change: End

#   SSL Engine Options:
#   Set various options for the SSL engine.
#   o FakeBasicAuth:
...
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;sslconf-log-formats---all-scenarios&#34;&gt;ssl.conf: Log formats - All scenarios&lt;/h4&gt;
&lt;p&gt;Finally, as we make use of the Black Box Apache log format, we replace the standard format&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CustomLog logs/ssl_request_log \
        &amp;quot;%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \&amp;quot;%r\&amp;quot; %b&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;CustomLog logs/ssl_request_log blackboxSSLUser
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, change&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
#   Per-Server Logging:
#   The home of a custom SSL log file. Use this when you want a
#   compact non-error SSL logfile on a virtual host basis.
CustomLog logs/ssl_request_log \
          &amp;quot;%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \&amp;quot;%r\&amp;quot; %b&amp;quot;

&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;...
#   Per-Server Logging:
#   The home of a custom SSL log file. Use this when you want a
#   compact non-error SSL logfile on a virtual host basis.
# Stroom Change: Start - Change ssl_request log to use our BlackBox format
# CustomLog logs/ssl_request_log \
#           &amp;quot;%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \&amp;quot;%r\&amp;quot; %b&amp;quot;
CustomLog logs/ssl_request_log blackboxSSLUser
# Stroom Change: End

&amp;lt;/VirtualHost&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Remember, in the case of Multi node stroom Application servers, deploy this file on all servers.&lt;/p&gt;
&lt;h3 id=&#34;apache-mod_jk-configuration&#34;&gt;Apache Mod_JK configuration&lt;/h3&gt;
&lt;p&gt;Apache Mod_JK has two configuration files&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/etc/httpd/conf.d/mod_jk.conf - for the http server configuration&lt;/li&gt;
&lt;li&gt;/etc/httpd/conf/workers.properties - to configure the Tomcat workers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In multi node scenarios, &lt;code&gt;/etc/httpd/conf.d/mod_jk.conf&lt;/code&gt; is the same on all servers, but the &lt;code&gt;/etc/httpd/conf/workers.properties&lt;/code&gt; file is different.
The contents of these two configuration files differ depending on the Stroom deployment. The following provide the various deployment scenarios.&lt;/p&gt;
&lt;h4 id=&#34;mod_jk-multi-node-application-and-proxy-deployment&#34;&gt;Mod_JK Multi Node Application and Proxy Deployment&lt;/h4&gt;
&lt;p&gt;For a Stroom Multi node Application and Proxy server,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;we configure &lt;code&gt;/etc/httpd/conf.d/mod_jk.conf&lt;/code&gt; as per&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;F=/etc/httpd/conf.d/mod_jk.conf
printf &#39;LoadModule jk_module modules/mod_jk.so\n&#39; &amp;gt; ${F}
printf &#39;JkWorkersFile conf/workers.properties\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogFile logs/mod_jk.log\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogLevel info\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogStampFormat  &amp;quot;[%%a %%b %%d %%H:%%M:%%S %%Y]&amp;quot;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkRequestLogFormat &amp;quot;%%w %%V %%T&amp;quot;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom* loadbalancer\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/remoting/cluster* local\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/datafeed* loadbalancer_proxy\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/remoting* loadbalancer_proxy\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/datafeeddirect* loadbalancer\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# Note: Replaced JkShmFile logs/jk.shm due to SELinux issues. Refer to\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=225452\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# The following makes use of the existing /run/httpd directory\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkShmFile run/jk.shm\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;&amp;lt;Location /jkstatus/&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  JkMount status\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Order deny,allow\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Deny from all\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Allow from 127.0.0.1\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;&amp;lt;/Location&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
chmod 640 ${F}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;we configure &lt;code&gt;/etc/httpd/conf/workers.properties&lt;/code&gt; as per&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since we are deploying for a cluster with load balancing, we need a &lt;em&gt;workers.properties&lt;/em&gt; file per node. Executing the following will result in two files (&lt;em&gt;workers.properties.stroomp00&lt;/em&gt; and &lt;em&gt;workers.properties.stroomp01&lt;/em&gt;) which should be deployed to their respective servers.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cd /tmp
# Set the list of nodes
Nodes=&amp;quot;stroomp00.strmdev00.org stroomp01.strmdev00.org&amp;quot;
for oN in ${Nodes}; do
  _n=`echo ${oN} | cut -f1 -d\.`
  (
  printf &#39;# Workers.properties for Stroom Cluster member: %s %s\n&#39; ${oN}
  printf &#39;worker.list=loadbalancer,loadbalancer_proxy,local,local_proxy,status\n&#39;
  L_t=&amp;quot;&amp;quot;
  Lp_t=&amp;quot;&amp;quot;
  for FQDN in ${Nodes}; do
    N=`echo ${FQDN} | cut -f1 -d\.`
    printf &#39;worker.%s.port=8009\n&#39; ${N}
    printf &#39;worker.%s.host=%s\n&#39; ${N} ${FQDN}
    printf &#39;worker.%s.type=ajp13\n&#39; ${N}
    printf &#39;worker.%s.lbfactor=1\n&#39; ${N}
    printf &#39;worker.%s.max_packet_size=65536\n&#39; ${N}
    printf &#39;worker.%s_proxy.port=9009\n&#39; ${N}
    printf &#39;worker.%s_proxy.host=%s\n&#39; ${N} ${FQDN}
    printf &#39;worker.%s_proxy.type=ajp13\n&#39; ${N}
    printf &#39;worker.%s_proxy.lbfactor=1\n&#39; ${N}
    printf &#39;worker.%s_proxy.max_packet_size=65536\n&#39; ${N}
    L_t=&amp;quot;${L_t}${N},&amp;quot;
    Lp_t=&amp;quot;${Lp_t}${N}_proxy,&amp;quot;
  done
  L=`echo $L_t | sed -e &#39;s/.$//&#39;`
  Lp=`echo $Lp_t | sed -e &#39;s/.$//&#39;`
  printf &#39;worker.loadbalancer.type=lb\n&#39;
  printf &#39;worker.loadbalancer.balance_workers=%s\n&#39; $L
  printf &#39;worker.loadbalancer.sticky_session=1\n&#39;
  printf &#39;worker.loadbalancer_proxy.type=lb\n&#39;
  printf &#39;worker.loadbalancer_proxy.balance_workers=%s\n&#39; $Lp
  printf &#39;worker.loadbalancer_proxy.sticky_session=1\n&#39;
  printf &#39;worker.local.type=lb\n&#39;
  printf &#39;worker.local.balance_workers=%s\n&#39; ${_n}
  printf &#39;worker.local.sticky_session=1\n&#39;
  printf &#39;worker.local_proxy.type=lb\n&#39;
  printf &#39;worker.local_proxy.balance_workers=%s_proxy\n&#39; ${_n}
  printf &#39;worker.local_proxy.sticky_session=1\n&#39;
  printf &#39;worker.status.type=status\n&#39;
  ) &amp;gt; workers.properties.${_n}
  chmod 640 workers.properties.${_n}
done
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now depending in the node you are on, copy the relevant workers.properties.nodename file to /etc/httpd/conf/workers.properties. The following command makes this simple.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cp workers.properties.`hostname -s` /etc/httpd/conf/workers.properties
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you were to add an additional node to a multi node cluster, say the node &lt;code&gt;stroomp02.strmdev00.org&lt;/code&gt;, then you would re-run the above script with&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;Nodes=&amp;quot;stroomp00.strmdev00.org stroomp01.strmdev00.org stroomp02.strmdev00.org&amp;quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then redeploy all three files to the respective servers. Also note, that for the newly created workers.properties files for the existing nodes to
take effect you will need to restart the Apache Httpd service on both nodes.&lt;/p&gt;
&lt;p&gt;Remember, in multi node cluster deployments, the following files are the same and hence can be created on one node, but copied to the
others not forgetting to backup the other node&amp;rsquo;s original files. That is, the files&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/var/www/html/index.html&lt;/li&gt;
&lt;li&gt;/etc/httpd/conf.d/mod_jk.conf&lt;/li&gt;
&lt;li&gt;/etc/httpd/conf/httpd.conf&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;are to be the same on all nodes. Only the /etc/httpd/conf.d/ssl.conf and /etc/httpd/conf/workers.properties files change.&lt;/p&gt;
&lt;h4 id=&#34;mod_jk-standalone-or-forwarding-stroom-proxy-deployment&#34;&gt;Mod_JK Standalone or Forwarding Stroom Proxy Deployment&lt;/h4&gt;
&lt;p&gt;For a Stroom Standalone or Forwarding proxy,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;we configure &lt;code&gt;/etc/httpd/conf.d/mod_jk.conf&lt;/code&gt; as per&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;F=/etc/httpd/conf.d/mod_jk.conf
printf &#39;LoadModule jk_module modules/mod_jk.so\n&#39; &amp;gt; ${F}
printf &#39;JkWorkersFile conf/workers.properties\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogFile logs/mod_jk.log\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogLevel info\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogStampFormat  &amp;quot;[%%a %%b %%d %%H:%%M:%%S %%Y]&amp;quot;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkRequestLogFormat &amp;quot;%%w %%V %%T&amp;quot;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/datafeed* local_proxy\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# Note: Replaced JkShmFile logs/jk.shm due to SELinux issues. Refer to\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=225452\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# The following makes use of the existing /run/httpd directory\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkShmFile run/jk.shm\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;&amp;lt;Location /jkstatus/&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  JkMount status\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Order deny,allow\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Deny from all\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Allow from 127.0.0.1\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;&amp;lt;/Location&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
chmod 640 ${F}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;we configure &lt;code&gt;/etc/httpd/conf/workers.properties&lt;/code&gt; as per&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The variable &lt;strong&gt;N&lt;/strong&gt; in the script below is to be the node name (not FQDN) of your sever (i.e. stroomfp0).&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;N=stroomfp0
FQDN=`hostname -f`
F=/etc/httpd/conf/workers.properties
printf &#39;worker.list=local_proxy,status\n&#39; &amp;gt; ${F}
printf &#39;worker.%s_proxy.port=9009\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s_proxy.host=%s\n&#39; ${N} ${FQDN} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s_proxy.type=ajp13\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s_proxy.lbfactor=1\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.local_proxy.type=lb\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;worker.local_proxy.balance_workers=%s_proxy\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.local_proxy.sticky_session=1\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;worker.status.type=status\n&#39; &amp;gt;&amp;gt; ${F}
chmod 640 ${F}
&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&#34;mod_jk-single-node-application-and-proxy-deployment&#34;&gt;Mod_JK Single Node Application and Proxy Deployment&lt;/h4&gt;
&lt;p&gt;For a Stroom Single node Application and Proxy server,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;we configure &lt;code&gt;/etc/httpd/conf.d/mod_jk.conf&lt;/code&gt; as per&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;F=/etc/httpd/conf.d/mod_jk.conf
printf &#39;LoadModule jk_module modules/mod_jk.so\n&#39; &amp;gt; ${F}
printf &#39;JkWorkersFile conf/workers.properties\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogFile logs/mod_jk.log\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogLevel info\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkLogStampFormat  &amp;quot;[%%a %%b %%d %%H:%%M:%%S %%Y]&amp;quot;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkOptions +ForwardKeySize +ForwardURICompat +ForwardSSLCertChain -ForwardDirectories\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkRequestLogFormat &amp;quot;%%w %%V %%T&amp;quot;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom* local\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/remoting/cluster* local\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/datafeed* local_proxy\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/remoting* local_proxy\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkMount /stroom/datafeeddirect* local\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# Note: Replaced JkShmFile logs/jk.shm due to SELinux issues. Refer to\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=225452\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;# The following makes use of the existing /run/httpd directory\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;JkShmFile run/jk.shm\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;&amp;lt;Location /jkstatus/&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  JkMount status\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Order deny,allow\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Deny from all\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;  Allow from 127.0.0.1\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;&amp;lt;/Location&amp;gt;\n&#39; &amp;gt;&amp;gt; ${F}
chmod 640 ${F}
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;we configure &lt;code&gt;/etc/httpd/conf/workers.properties&lt;/code&gt; as per&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The variable &lt;strong&gt;N&lt;/strong&gt; in the script below is to be the node name (not FQDN) of your sever (i.e. stroomp00).&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;N=stroomp00
FQDN=`hostname -f`
F=/etc/httpd/conf/workers.properties
printf &#39;worker.list=local,local_proxy,status\n&#39; &amp;gt; ${F}
printf &#39;worker.%s.port=8009\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s.host=%s\n&#39; ${N} ${FQDN} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s.type=ajp13\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s.lbfactor=1\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s.max_packet_size=65536\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s_proxy.port=9009\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s_proxy.host=%s\n&#39; ${N} ${FQDN} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s_proxy.type=ajp13\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s_proxy.lbfactor=1\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.%s_proxy.max_packet_size=65536\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.local.type=lb\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;worker.local.balance_workers=%s\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.local.sticky_session=1\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;worker.local_proxy.type=lb\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;worker.local_proxy.balance_workers=%s_proxy\n&#39; ${N} &amp;gt;&amp;gt; ${F}
printf &#39;worker.local_proxy.sticky_session=1\n&#39; &amp;gt;&amp;gt; ${F}
printf &#39;worker.status.type=status\n&#39; &amp;gt;&amp;gt; ${F}
chmod 640 ${F}
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&#34;final-host-configuration-and-web-service-enablement&#34;&gt;Final host configuration and web service enablement&lt;/h2&gt;
&lt;p&gt;Now tidy up the SELinux context for access on all nodes and files via the commands&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;setsebool -P httpd_enable_homedirs on
setsebool -P httpd_can_network_connect on
chcon --reference /etc/httpd/conf.d/README /etc/httpd/conf.d/mod_jk.conf
chcon --reference /etc/httpd/conf/magic /etc/httpd/conf/workers.properties
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We also enable both http and https services via the firewall on all nodes. If you don&amp;rsquo;t want to present a http access point,
then don&amp;rsquo;t enable it in the firewall setting. This is done with&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;firewall-cmd --zone=public --add-service=http --permanent
firewall-cmd --zone=public --add-service=https --permanent
firewall-cmd --reload
firewall-cmd --zone=public --list-all
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Finally enable then start the httpd service, correcting any errors. It should be noted that on any errors,
the suggestion of a systemctl status or viewing the journal are good, but also review information in the httpd error logs found in &lt;code&gt;/var/log/httpd/&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;systemctl enable httpd.service
systemctl start httpd.service
&lt;/code&gt;&lt;/pre&gt;

      </description>
    </item>
    
    <item>
      <title>Docs: Apache HTTPD Event Feed</title>
      <link>/docs/howtos/eventfeeds/createapachehttpdeventfeed/</link>
      <pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>/docs/howtos/eventfeeds/createapachehttpdeventfeed/</guid>
      <description>
        
        
        &lt;!-- Created with Stroom v6.1-beta.16 --&gt;

&lt;div class=&#34;alert alert-primary&#34; role=&#34;alert&#34;&gt;
&lt;h4 class=&#34;alert-heading&#34;&gt;See Also&lt;/h4&gt;


    &lt;p&gt;&lt;a href=&#34;../../docs/howtos/general/enablingprocessorshowto/&#34;&gt;HOWTO - Enabling Processors for a Pipeline&lt;/a&gt;&lt;/p&gt;


&lt;/div&gt;


&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;The following will take you through the process of creating an Event Feed in Stroom.&lt;/p&gt;
&lt;p&gt;In this example, the logs are in a well-defined, line based, text format so we will use a Data Splitter parser to transform the logs into simple record-based XML and then a XSLT translation to normalise them into the Event schema.&lt;/p&gt;
&lt;p&gt;A separate document will describe the method of automating the storage of normalised events for this feed.
Further, we will not Decorate these events.
Again, Event Decoration is described in another document.&lt;/p&gt;
&lt;h2 id=&#34;event-log-source&#34;&gt;Event Log Source&lt;/h2&gt;
&lt;p&gt;For this example, we will use logs from an Apache HTTPD Web server.
In fact, the web server in front of Stroom v5 and earlier.&lt;/p&gt;
&lt;p&gt;To get the optimal information from the Apache HTTPD access logs, we define our log format based on an extension of the BlackBox format.
The format is described and defined below.
This is an extract from a httpd configuration file (/etc/httpd/conf/httpd.conf)&lt;/p&gt;






&lt;div class=&#34;text-file card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;&#34;&gt;

  &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
    
    &lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;
# Stroom - Black Box Auditing configuration
#
# %a - Client IP address (not hostname (%h) to ensure ip address only)
# When logging the remote host, it is important to log the client IP address, not the
# hostname. We do this with the &#39;%a&#39; directive. Even if HostnameLookups are turned on,
# using &#39;%a&#39; will only record the IP address. For the purposes of BlackBox formats,
# reversed DNS should not be trusted

# %{REMOTE_PORT}e - Client source port
# Logging the client source TCP port can provide some useful network data and can help
# one associate a single client with multiple requests.
# If two clients from the same IP address make simultaneous connections, the &#39;common log&#39;
# file format cannot distinguish between those clients. Otherwise, if the client uses
# keep-alives, then every hit made from a single TCP session will be associated by the same
# client port number.
# The port information can indicate how many connections our server is handling at once,
# which may help in tuning server TCP/OP settings. It will also identify which client ports
# are legitimate requests if the administrator is examining a possible SYN-attack against a
# server.
# Note we are using the REMOTE_PORT environment variable. Environment variables only come
# into play when mod_cgi or mod_cgid is handling the request.

# %X - Connection status (use %c for Apache 1.3)
# The connection status directive tells us detailed information about the client connection.
# It returns one of three flags:
# x if the client aborted the connection before completion,
# + if the client has indicated that it will use keep-alives (and request additional URLS),
# - if the connection will be closed after the event
# Keep-Alive is a HTTP 1.1. directive that informs a web server that a client can request multiple
# files during the same connection. This way a client doesn&#39;t need to go through the overhead
# of re-establishing a TCP connection to retrieve a new file.

# %t - time - or [%{%d/%b/%Y:%T}t.%{msec_frac}t %{%z}t] for Apache 2.4
# The %t directive records the time that the request started.
# NOTE: When deployed on an Apache 2.4, or better, environment, you should use
# strftime format in order to get microsecond resolution.

# %l - remote logname

# %u - username [in quotes]
# The remote user (from auth; This may be bogus if the return status (%s) is 401
# for non-ssl services)
# For SSL services, user names need to be delivered as DNs to deliver PKI user details
# in full. To pass through PKI certificate properties in the correct form you need to
# add the following directives to your Apache configuration:
#   SSLUserName SSL_CLIENT_S_DN
#   SSLOptions +StdEnvVars
# If you cannot, then use %{SSL_CLIENT_S_DN}x in place of %u and use blackboxSSLUser
# LogFormat nickname

# %r - first line of text sent by web client [in quotes]
# This is the first line of text send by the web client, which includes the request
# method, the full URL, and the HTTP protocol.

# %s - status code before any redirection
# This is the status code of the original request.

# %&amp;gt;s - status code after any redirection has taken place
# This is the final status code of the request, after any internal redirections may
# have taken place.

# %D - time in microseconds to handle the request
# This is the number of microseconds the server took to handle the request in microseconds

# %I - incoming bytes
# This is the bytes received, include request and headers. It cannot, by definition be zero.

# %O - outgoing bytes
# This is the size in bytes of the outgoing data, including HTTP headers. It cannot, by
# definition be zero.

# %B - outgoing content bytes
# This is the size in bytes of the outgoing data, EXCLUDING HTTP headers. Unlike %b, which
# records &#39;-&#39; for zero bytes transferred, %B will record &#39;0&#39;.

# %{Referer}i - Referrer HTTP Request Header [in quotes]
# This is typically the URL of the page that made the request. If linked from
# e-mail or direct entry this value will be empty. Note, this can be spoofed
# or turned off

# %{User-Agent}i - User agent HTTP Request Header [in quotes]
# This is the identifying information the client (browser) reports about itself.
# It can be spoofed or turned off

# %V - the server name according to the UseCannonicalName setting
# This identifies the virtual host in a multi host webservice

# %p - the canonical port of the server servicing the request

# Define a variation of the Black Box logs
#
# Note, you only need to use the &#39;blackboxSSLUser&#39; nickname if you cannot set the
# following directives for any SSL configurations
# SSLUserName SSL_CLIENT_S_DN
# SSLOptions +StdEnvVars
# You will also note the variation for no logio module. The logio module supports
# the %I and %O formatting directive
#
&amp;lt;IfModule mod_logio.c&amp;gt;
   LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;../../&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D %I/%O/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxUser
   LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%{SSL_CLIENT_S_DN../../&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D %I/%O/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxSSLUser
&amp;lt;/IfModule&amp;gt;
&amp;lt;IfModule !mod_logio.c&amp;gt;
   LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;../../&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D 0/0/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/$p&amp;quot; blackboxUser
   LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%{SSL_CLIENT_S_DN../../&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D 0/0/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/$p&amp;quot; blackboxSSLUser
&amp;lt;/IfModule&amp;gt;


&lt;/code&gt;&lt;/pre&gt;


    &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
    &lt;div class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;
      
      &lt;span class=&#34;&#34; style=&#34;font-size: smaller&#34;&gt;Apache BlackBox Auditing Configuration&lt;/span&gt;
      
      (
      &lt;a href=&#34;../../files/HOWTOs/EventFeeds/CreateApacheHTTPDEventFeed/ApacheHTTPDAuditConfig.txt&#34; class=&#34;&#34; style=&#34;font-size: smaller&#34;&gt;Download ApacheHTTPDAuditConfig.txt&lt;/a&gt;
      &lt;i class=&#34;external-link-icon fas fa-file-download fa-sm text-secondary&#34; title=&#34;External link&#34;&gt;&lt;/i&gt;
      )
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;As Stroom can use PKI for login, you can configure Stroomâ€™s Apache to make use of the blackboxSSLUser log format.
A sample set of logs in this format appear below.&lt;/p&gt;






&lt;div class=&#34;text-file card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;&#34;&gt;

  &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
    
    &lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;192.168.4.220/61801 - [18/Jan/2020:12:39:04 -0800] - &amp;quot;/C=USA/ST=CA/L=Los Angeles/O=Default Company Ltd/CN=Burn Frank (burn)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 21221 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.4.220/61854 - [18/Jan/2020:12:40:04 -0800] - &amp;quot;/C=USA/ST=CA/L=Los Angeles/O=Default Company Ltd/CN=Burn Frank (burn)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 7889 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.4.220/61909 - [18/Jan/2020:12:41:04 -0800] - &amp;quot;/C=USA/ST=CA/L=Los Angeles/O=Default Company Ltd/CN=Burn Frank (burn)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 6901 2389/3796/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.4.220/61962 - [18/Jan/2020:12:42:04 -0800] - &amp;quot;/C=USA/ST=CA/L=Los Angeles/O=Default Company Ltd/CN=Burn Frank (burn)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 11219 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.8.151/62015 - [18/Jan/2020:12:43:04 +1100] - &amp;quot;/C=AUS/ST=NSW/L=Sydney/O=Default Company Ltd/CN=Max Bergman (maxb)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 4265 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.8.151/62092 - [18/Jan/2020:12:44:04 +1100] - &amp;quot;/C=AUS/ST=NSW/L=Sydney/O=Default Company Ltd/CN=Max Bergman (maxb)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 9791 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.8.151/62147 - [18/Jan/2020:12:44:10 +1100] - &amp;quot;/C=AUS/ST=NSW/L=Sydney/O=Default Company Ltd/CN=Max Bergman (maxb)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 9791 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.8.151/62147 - [18/Jan/2020:12:44:20 +1100] - &amp;quot;/C=AUS/ST=NSW/L=Sydney/O=Default Company Ltd/CN=Max Bergman (maxb)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 11509 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.8.151/62202 - [18/Jan/2020:12:44:21 +1100] - &amp;quot;/C=AUS/ST=NSW/L=Sydney/O=Default Company Ltd/CN=Max Bergman (maxb)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 4627 2389/3796/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.8.151/62294 - [18/Jan/2020:12:44:21 +1100] - &amp;quot;/C=AUS/ST=NSW/L=Sydney/O=Default Company Ltd/CN=Max Bergman (maxb)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 12367 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.8.151/62349 - [18/Jan/2020:12:44:25 +1100] - &amp;quot;/C=AUS/ST=NSW/L=Sydney/O=Default Company Ltd/CN=Max Bergman (maxb)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 12765 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.234.9/62429 - [18/Jan/2020:12:50:06 +0000] - &amp;quot;/C=GBR/ST=GLOUCESTERSHIRE/L=Bristol/O=Default Company Ltd/CN=Kostas Kosta (kk)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 12245 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.234.9/62429 - [18/Jan/2020:12:50:04 +0000] - &amp;quot;/C=GBR/ST=GLOUCESTERSHIRE/L=Bristol/O=Default Company Ltd/CN=Kostas Kosta (kk)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 12245 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.234.9/62495 - [18/Jan/2020:12:51:04 +0000] - &amp;quot;/C=GBR/ST=GLOUCESTERSHIRE/L=Bristol/O=Default Company Ltd/CN=Kostas Kosta (kk)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 4327 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.234.9/62549 - [18/Jan/2020:12:52:04 +0000] - &amp;quot;/C=GBR/ST=GLOUCESTERSHIRE/L=Bristol/O=Default Company Ltd/CN=Kostas Kosta (kk)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 7148 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443
192.168.234.9/62626 - [18/Jan/2020:12:52:06 +0000] - &amp;quot;/C=GBR/ST=GLOUCESTERSHIRE/L=Bristol/O=Default Company Ltd/CN=Kostas Kosta (kk)&amp;quot; &amp;quot;POST /stroom/stroom/dispatch.rpc HTTP/1.1&amp;quot; 200/200 11386 2289/415/14 &amp;quot;https://stroomnode00.strmdev00.org/stroom/&amp;quot; &amp;quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.113 Safari/537.36&amp;quot; stroomnode00.strmdev00.org/443

&lt;/code&gt;&lt;/pre&gt;


    &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
    &lt;div class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;
      
      &lt;span class=&#34;&#34; style=&#34;font-size: smaller&#34;&gt;Apache BlackBox sample log&lt;/span&gt;
      
      (
      &lt;a href=&#34;../../files/HOWTOs/EventFeeds/CreateApacheHTTPDEventFeed/sampleApacheBlackBox.log&#34; class=&#34;&#34; style=&#34;font-size: smaller&#34;&gt;Download sampleApacheBlackBox.log&lt;/a&gt;
      &lt;i class=&#34;external-link-icon fas fa-file-download fa-sm text-secondary&#34; title=&#34;External link&#34;&gt;&lt;/i&gt;
      )
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;Save a copy of this data to your local environment for use later in this HOWTO.
Save this file as a text document with ANSI encoding.&lt;/p&gt;
&lt;h2 id=&#34;create-the-feed-and-its-pipeline&#34;&gt;Create the Feed and its Pipeline&lt;/h2&gt;
&lt;p&gt;To reflect the source of these Accounting Logs, we will name our feed and its pipeline Apache-SSLBlackBox-V2.0-EVENTS and it will be stored in the system group Apache HTTPD under the main system group - &lt;code&gt;Event Sources&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id=&#34;create-system-group&#34;&gt;Create System Group&lt;/h3&gt;
&lt;p&gt;To create the system group Apache  HTTPD, navigate to the &lt;em&gt;Event Sources/Infrastructure/WebServer&lt;/em&gt; system group within the Explorer pane (if this system group structure does not already exist in your Stroom instance then refer to the &lt;strong&gt;HOWTO Stroom Explorer Management&lt;/strong&gt; for guidance).
Left click to highlight the
&lt;em&gt;WebServer&lt;/em&gt; system group then right click to bring up the object context menu.
Navigate to the &lt;em&gt;New&lt;/em&gt; icon, then the &lt;em&gt;Folder&lt;/em&gt; icon to reveal the &lt;em&gt;New Folder&lt;/em&gt; selection window.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-00.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-00.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-00.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-00.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Navigate Explorer&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;In the New Folder window enter Apache HTTPD into the &lt;strong&gt;Name:&lt;/strong&gt; text entry box.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-01.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-01.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-01.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-01.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Create System Group&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The click on 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
 at which point you will be presented with the Apache HTTPD system group configuration tab.
Also note, the &lt;em&gt;WebServer&lt;/em&gt; system group within the Explorer pane has automatically expanded to display the &lt;code&gt;Apache HTTPD&lt;/code&gt; system group.&lt;/p&gt;
&lt;p&gt;Close the Apache HTTPD system group configuration tab by clicking on the close item icon on the right-hand side of the tab 







  








&lt;span class=&#34;stroom-tab stroom-tab-active&#34; title=&#34;Folder tab - &#39;Apache HTTPD&#39;&#34; &gt;
  &lt;img
    class=&#34;stroom-icon&#34; 
    src=&#34;../../images/stroom-ui/document/Folder.svg&#34; 
    title=&#34;Apache HTTPD&#34; 
    alt=&#34;Folder.svg&#34;&gt;
  &lt;span class=&#34;stroom-tab-name&#34;&gt;Apache HTTPD&lt;/span&gt;
  &lt;span class=&#34;stroom-tab-cross&#34;&gt;Ã—&lt;/span&gt;
&lt;/span&gt;
.&lt;/p&gt;
&lt;p&gt;We now need to create, in order&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the Feed,&lt;/li&gt;
&lt;li&gt;the Text Parser,&lt;/li&gt;
&lt;li&gt;the Translation and finally,&lt;/li&gt;
&lt;li&gt;the Pipeline.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;create-feed&#34;&gt;Create Feed&lt;/h3&gt;
&lt;p&gt;Within the Explorer pane, and having selected the Apache HTTPD group, right click to bring up object context menu.
Navigate to New, Feed&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-03.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-03.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-03.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-03.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Apache Create Feed&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Select the Feed icon 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/document/Feed.svg&#34; 
  title=&#34;Feed&#34; 
  alt=&#34;document/Feed.svg&#34;&gt;
, when the &lt;strong&gt;New Feed&lt;/strong&gt; selection window comes up, ensure the &lt;code&gt;Apache HTTPD&lt;/code&gt; system group is selected or navigate to it.
Then enter the name of the feed, Apache-SSLBlackBox-V2.0-EVENTS, into the &lt;strong&gt;Name:&lt;/strong&gt; text entry box the press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
.&lt;/p&gt;
&lt;p&gt;It should be noted that the default Stroom FeedName pattern will not accept this name.
One needs to modify the &lt;code&gt;stroom.feedNamePattern&lt;/code&gt; stroom property to change the default pattern to &lt;code&gt;^[a-zA-Z0-9_-\.]{3,}$&lt;/code&gt;.
See the &lt;a href=&#34;../../docs/howtos/administration/systemproperties/&#34;&gt;HOWTO on System Properties&lt;/a&gt; document to see how to make this change.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-04.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-04.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-04.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-04.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Feed dialog&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;At this point you will be presented with the new feed&amp;rsquo;s configuration tab and the feed&amp;rsquo;s Explorer object will automatically appear in the Explorer pane within the &lt;code&gt;Apache HTTPD&lt;/code&gt; system group.&lt;/p&gt;
&lt;p&gt;Select the &lt;em&gt;Settings&lt;/em&gt; tab on the feed&amp;rsquo;s configuration tab.
Enter an appropriate description into the &lt;strong&gt;Description:&lt;/strong&gt; text entry box, for instance:&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Apache HTTPD events for BlackBox Version 2.0.  These events are from a Secure service  (https).&amp;rdquo;&lt;/p&gt;
&lt;p&gt;In the &lt;strong&gt;Classification:&lt;/strong&gt; text entry box, enter a Classification of the data that the event feed will contain - that is the classification or sensitivity of the accounting logâ€™s content itself.&lt;/p&gt;
&lt;p&gt;As this is not a Reference Feed, leave the &lt;strong&gt;Reference Feed:&lt;/strong&gt; check box unchecked.&lt;/p&gt;
&lt;p&gt;We leave the &lt;strong&gt;Feed Status:&lt;/strong&gt; at &lt;em&gt;Receive&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;We leave the &lt;strong&gt;Stream Type:&lt;/strong&gt; as &lt;em&gt;Raw Events&lt;/em&gt; as this we will be sending batches (streams) of raw event logs.&lt;/p&gt;
&lt;p&gt;We leave the &lt;strong&gt;Data Encoding:&lt;/strong&gt; as UTF-8 as the raw logs are in this form.&lt;/p&gt;
&lt;p&gt;We leave the &lt;strong&gt;Context Encoding:&lt;/strong&gt; as UTF-8 as there no context events for this feed.&lt;/p&gt;
&lt;p&gt;We leave the &lt;strong&gt;Retention Period:&lt;/strong&gt; at &lt;em&gt;Forever&lt;/em&gt; as we do not want to delete the raw logs.&lt;/p&gt;
&lt;p&gt;This results in&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-05.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-05.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-05.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-05.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Feed tab&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Save the feed by clicking on the save icon 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/save.svg&#34; 
  title=&#34;Save&#34; 
  alt=&#34;save.svg&#34;&gt;
.&lt;/p&gt;
&lt;h3 id=&#34;create-text-converter&#34;&gt;Create Text Converter&lt;/h3&gt;
&lt;p&gt;Within the Explorer pane, and having selected the &lt;code&gt;Apache HTTPD&lt;/code&gt; system group, right click to bring up object context menu, then select:&lt;/p&gt;
&lt;p&gt;










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/add.svg&#34; 
  title=&#34;New&#34; 
  alt=&#34;add.svg&#34;&gt;
 &lt;em&gt;New&lt;/em&gt; =&amp;gt; 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/document/TextConverter.svg&#34; 
  title=&#34;Text converter&#34; 
  alt=&#34;document/TextConverter.svg&#34;&gt;
 &lt;em&gt;Text Converter&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When the &lt;strong&gt;New Text Converter&lt;/strong&gt;&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-07.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-07.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-07.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-07.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Text Converter&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;selection window comes up enter the name of the feed, Apache-SSLBlackBox-V2.0-EVENTS, into the &lt;strong&gt;Name:&lt;/strong&gt; text entry box then press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
.
At this point you will be presented with the new text converter&amp;rsquo;s configuration tab.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-08.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-08.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-08.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-08.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Text Converter configuration tab&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Enter an appropriate description into the &lt;strong&gt;Description:&lt;/strong&gt; text entry box, for instance&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Apache HTTPD events for BlackBox Version 2.0 - text converter.
See Conversion for complete documentation.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Set the &lt;strong&gt;Converter Type:&lt;/strong&gt; to be Data Splitter from drop down menu.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-09.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-09.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-09.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-09.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Text Converter configuration settings&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Save the text converter by clicking on the save icon 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/save.svg&#34; 
  title=&#34;Save&#34; 
  alt=&#34;save.svg&#34;&gt;
.&lt;/p&gt;
&lt;h3 id=&#34;create-xslt-translation&#34;&gt;Create XSLT Translation&lt;/h3&gt;
&lt;p&gt;Within the Explorer pane, and having selected the &lt;code&gt;Apache HTTPD&lt;/code&gt; system group, right click to bring up object context menu, then select:&lt;/p&gt;
&lt;p&gt;










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/add.svg&#34; 
  title=&#34;New&#34; 
  alt=&#34;add.svg&#34;&gt;
 &lt;em&gt;New&lt;/em&gt; =&amp;gt; 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/document/XSLT.svg&#34; 
  title=&#34;Xslt&#34; 
  alt=&#34;document/XSLT.svg&#34;&gt;
 &lt;em&gt;XSLT&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When the &lt;strong&gt;New XSLT&lt;/strong&gt; selection window comes up,&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-11.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-11.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-11.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-11.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New XSLT&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;enter the name of the feed, Apache-SSLBlackBox-V2.0-EVENTS, into the &lt;strong&gt;Name:&lt;/strong&gt; text entry box then press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
.
At this point you will be presented with the new XSLT&amp;rsquo;s configuration tab.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-12.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-12.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-12.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-12.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New XSLT tab&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Enter an appropriate description into the &lt;strong&gt;Description:&lt;/strong&gt; text entry box, for instance&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Apache HTTPD events for  BlackBox Version 2.0  - translation.
See Translation for complete documentation.&amp;rdquo;&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-13.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-13.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-13.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-13.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New XSLT settings&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Save the XSLT by clicking on the save 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/save.svg&#34; 
  title=&#34;Save&#34; 
  alt=&#34;save.svg&#34;&gt;
 icon.&lt;/p&gt;
&lt;h3 id=&#34;create-pipeline&#34;&gt;Create Pipeline&lt;/h3&gt;
&lt;p&gt;In the process of creating this pipeline we have assumed that the  &lt;strong&gt;Template Pipeline&lt;/strong&gt; content pack has been loaded, so that we can &lt;em&gt;Inherit&lt;/em&gt; a pipeline structure from this content pack and configure it to support this specific feed.&lt;/p&gt;
&lt;p&gt;Within the Explorer pane, and having selected the Apache HTTPD system group, right click to bring up object context menu, then select:&lt;/p&gt;
&lt;p&gt;










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/add.svg&#34; 
  title=&#34;New&#34; 
  alt=&#34;add.svg&#34;&gt;
 &lt;em&gt;New&lt;/em&gt; =&amp;gt; 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/document/Pipeline.svg&#34; 
  title=&#34;Pipeline&#34; 
  alt=&#34;document/Pipeline.svg&#34;&gt;
 &lt;em&gt;Pipeline&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;When the &lt;strong&gt;New Pipeline&lt;/strong&gt; selection window comes up, navigate to, then select the Apache HTTPD system group and then enter the name of the pipeline, Apache-SSLBlackBox-V2.0-EVENTS
into the &lt;strong&gt;Name:&lt;/strong&gt; text entry box then press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
.
At this you will be presented with the new pipelineâ€™s configuration tab&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-15.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-15.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-15.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-15.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline tab&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;As usual, enter an appropriate &lt;strong&gt;Description:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Apache HTTPD events for BlackBox Version 2.0  - pipeline.
This pipeline uses the standard event pipeline to store the events in the Event Store.&amp;rdquo;&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-16.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-16.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-16.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-16.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline settings&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Save the pipeline by clicking on the save icon 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/save.svg&#34; 
  title=&#34;Save&#34; 
  alt=&#34;save.svg&#34;&gt;
.&lt;/p&gt;
&lt;p&gt;We now need to select the structure this pipeline will use.
We need to move from the &lt;strong&gt;Settings&lt;/strong&gt; sub-item on the pipeline configuration tab to the &lt;strong&gt;Structure&lt;/strong&gt; sub-item.
This is done by clicking on the &lt;strong&gt;Structure&lt;/strong&gt; link, at which we see&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-17.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-17.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-17.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-17.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline Structure&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Next we will choose an Event Data pipeline.
This is done by inheriting it from a defined set of Template Pipelines.
To do this, click on the menu selection icon  to the right of the Inherit From: text display box.&lt;/p&gt;
&lt;p&gt;When the &lt;strong&gt;Choose item&lt;/strong&gt;&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-18.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-18.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-18.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-18.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline inherited from&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;selection window appears, select from the &lt;code&gt;Template Pipelines&lt;/code&gt; system group.
In this instance, as our input data is text, we select (left click) the 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/document/Pipeline.svg&#34; 
  title=&#34;Pipeline&#34; 
  alt=&#34;Document/Pipeline.svg&#34;&gt;
 &lt;em&gt;Event Data (Text)&lt;/em&gt; pipeline&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-19.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-19.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-19.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-19.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline inherited selection&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;then press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
.
At this we see the inherited pipeline structure of&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-20.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-20.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-20.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-20.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline inherited structure&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;For the purpose of this HOWTO, we are only interested in two of the eleven (11) elements in this pipeline&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the Text Converter labelled &lt;em&gt;dsParser&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;the XSLT Translation labelled &lt;em&gt;translationFilter&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We now need to associate our Text Converter and Translation with the pipeline so that we can pass raw events (logs) through our pipeline in order to save them in the Event Store.&lt;/p&gt;
&lt;p&gt;To associate the Text Converter, select the Text Converter icon, to display.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-21.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-21.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-21.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-21.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline associate textconverter&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Now identify to the &lt;strong&gt;Property&lt;/strong&gt; pane (the middle pane of the pipeline configuration tab), then and double click on the &lt;em&gt;textConverter&lt;/em&gt; Property Name to display the &lt;strong&gt;Edit
Property&lt;/strong&gt; selection window that allows you to edit the given property&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-22.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-22.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-22.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-22.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline textconverter association&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;We leave the Property &lt;strong&gt;Source:&lt;/strong&gt; as Inherit but we need to change the Property &lt;strong&gt;Value:&lt;/strong&gt; from &lt;em&gt;None&lt;/em&gt; to be our newly created Apache-SSLBlackBox-V2.0-EVENTS Text Converter.&lt;/p&gt;
&lt;p&gt;To do this, position the cursor over the menu selection icon 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/assorted/popup.png&#34; 
  title=&#34;Menu selection&#34; 
  alt=&#34;assorted/popup.png&#34;&gt;
 to the right of the &lt;strong&gt;Value:&lt;/strong&gt; text display box and click to select.
Navigate to the &lt;code&gt;Apache HTTPD&lt;/code&gt; system group then select the Apache-SSLBlackBox-V2.0-EVENTS text Converter&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-23.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-23.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-23.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-23.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline textconverter association&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;then press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
.
At this we will see the Property &lt;em&gt;Value&lt;/em&gt; set&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-24.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-24.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-24.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-24.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline textconverter association&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Again press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
 to finish editing this property and we see that the &lt;em&gt;textConverter&lt;/em&gt; Property has been set to &lt;strong&gt;Apache-SSLBlackBox-V2.0-EVENTS&lt;/strong&gt;&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-25.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-25.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-25.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-25.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline textconverter association&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;We perform the same actions to associate the translation.&lt;/p&gt;
&lt;p&gt;First, we select the translation Filterâ€™s 








  
  










&lt;span class=&#34;pipeline-element&#34; title=&#34;translationFilter&#34; &gt;
  &lt;img
    class=&#34;stroom-icon&#34; 
    style=&#34;max-width: 15px;&#34;
    src=&#34;../../images/stroom-ui/pipeline/xslt.svg&#34; 
    title=&#34;translationFilter&#34; 
    alt=&#34;xslt.svg&#34;&gt;
  &lt;span&gt;translationFilter&lt;/span&gt;
&lt;/span&gt;
 element and then within translation Filterâ€™s &lt;strong&gt;Property&lt;/strong&gt; pane we double click on the &lt;em&gt;xslt&lt;/em&gt; Property Name to bring up the &lt;strong&gt;Property Editor&lt;/strong&gt;.
As before, bring up the &lt;strong&gt;Choose item&lt;/strong&gt; selection window, navigate to the &lt;code&gt;Apache HTTPD&lt;/code&gt; system group and select the
Apache-SSLBlackBox-V2.0-EVENTS xslt Translation.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-26.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-26.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-26.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-26.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline Translation association&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;We leave the remaining properties in the translation Filterâ€™s &lt;strong&gt;Property&lt;/strong&gt; pane at their default values.
The result is the assignment of our translation to the &lt;em&gt;xslt&lt;/em&gt; Property.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-27.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-27.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-27.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-27.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New Pipeline Translation association&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;For the moment, we will not associate a decoration filter.&lt;/p&gt;
&lt;p&gt;Save the pipeline by clicking on its 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/save.svg&#34; 
  title=&#34;Save&#34; 
  alt=&#34;save.svg&#34;&gt;
 icon.&lt;/p&gt;
&lt;h3 id=&#34;manually-load-raw-event-test-data&#34;&gt;Manually load Raw Event test data&lt;/h3&gt;
&lt;p&gt;Having established the pipeline, we can now start authoring our text converter and translation.
The first step is to load some Raw Event test data.
Previously in the &lt;strong&gt;Event Log Source&lt;/strong&gt; of this HOWTO you saved a copy of the file &lt;em&gt;sampleApacheBlackBox.log&lt;/em&gt; to your local environment.
It contains only a few events as the content is consistently formatted.
We could feed the test data by posting the file to Stroomâ€™s accounting/datafeed url, but for this example we will manually load the file.
Once developed, raw data is posted to the web service.&lt;/p&gt;
&lt;p&gt;Select the 














&lt;span class=&#34;stroom-tab &#34; title=&#34;Feed tab - &#39;ApacheHHTPDFeed&#39;&#34; &gt;
  &lt;img
    class=&#34;stroom-icon&#34; 
    src=&#34;../../images/stroom-ui/document/Feed.svg&#34; 
    title=&#34;ApacheHHTPDFeed&#34; 
    alt=&#34;Feed.svg&#34;&gt;
  &lt;span class=&#34;stroom-tab-name&#34;&gt;ApacheHHTPDFeed&lt;/span&gt;
  &lt;span class=&#34;stroom-tab-cross&#34;&gt;Ã—&lt;/span&gt;
&lt;/span&gt;
 tab and select the &lt;strong&gt;Data&lt;/strong&gt; sub-tab to display&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-29.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-29.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-29.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-29.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Data Loading&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;This window is divided into three panes.&lt;/p&gt;
&lt;p&gt;The top pane displays the &lt;em&gt;Stream Table&lt;/em&gt;, which is a table of the latest streams that belong to the feed (clearly itâ€™s empty).&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-30.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-30.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-30.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-30.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Data Loading - Stream Table&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Note that a Raw Event &lt;em&gt;stream&lt;/em&gt; is made up of data from a single file of data or aggregation of multiple data files and also meta-data associated with the data file(s).
For example, file names, file size, etc.&lt;/p&gt;
&lt;p&gt;The middle pane displays a &lt;em&gt;Specific&lt;/em&gt; feed and any linked streams.
To display a &lt;em&gt;Specific&lt;/em&gt; feed, you select it from the &lt;em&gt;Stream Table&lt;/em&gt; above.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-31.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-31.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-31.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-31.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Data Loading - Specific Stream&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The bottom pane displays the selected streamâ€™s data or meta-data.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-32.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-32.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-32.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-32.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Data Loading - Data/Metadata&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Note the Upload icon 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/upload.svg&#34; 
  title=&#34;Upload&#34; 
  alt=&#34;upload.svg&#34;&gt;
 in the top left of the Stream table pane.
On clicking the Upload icon, we are presented with the data &lt;strong&gt;Upload&lt;/strong&gt; selection window.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-33.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-33.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-33.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-33.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Data Loading - Upload Data&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;As stated earlier, raw event data is normally posted as a file to the Stroom web server.
As part of this posting action, a set of well-defined HTTP &lt;em&gt;extra headers&lt;/em&gt; are sent as part of the post.
These headers, in the form of key value pairs, provide additional context associated with the system sending the logs.
These standard headers become Stroom &lt;em&gt;feed attributes&lt;/em&gt; available to the Stroom translation.
Common attributes are&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;System - the name of the System providing the logs&lt;/li&gt;
&lt;li&gt;Environment - the environment of the system (Production, Quality Assurance, Reference, Development)&lt;/li&gt;
&lt;li&gt;Feed - the feedname itself&lt;/li&gt;
&lt;li&gt;MyHost - the fully qualified domain name of the system sending the logs&lt;/li&gt;
&lt;li&gt;MyIPaddress - the IP address of the system sending the logs&lt;/li&gt;
&lt;li&gt;MyNameServer - the name server the system resolves names through&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since our translation will want these feed attributes, we will set them in the Meta Data text entry box of the &lt;strong&gt;Upload&lt;/strong&gt; selection window.
Note we can skip &lt;em&gt;Feed&lt;/em&gt; as this will automatically be assigned correctly as part of the upload action (setting it to Apache-SSLBlackBox-V2.0-EVENTS obviously).
Our &lt;strong&gt;Meta Data:&lt;/strong&gt; will have&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;System:LinuxWebServer&lt;/li&gt;
&lt;li&gt;Environment:Production&lt;/li&gt;
&lt;li&gt;MyHost:stroomnode00.strmdev00.org&lt;/li&gt;
&lt;li&gt;MyIPaddress:192.168.2.245&lt;/li&gt;
&lt;li&gt;MyNameServer:192.168.2.254&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We select a &lt;strong&gt;Stream Type:&lt;/strong&gt; of &lt;em&gt;Raw Events&lt;/em&gt; as this data is for an &lt;em&gt;Event Feed&lt;/em&gt;.
As this is not a &lt;em&gt;Reference Feed&lt;/em&gt; we ignore the &lt;strong&gt;Effective:&lt;/strong&gt; entry box (a date/time selector).&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-34.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-34.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-34.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-34.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Upload Data&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;We now click the &lt;strong&gt;Choose File&lt;/strong&gt; button, then navigate to the location of the raw log file you downloaded earlier, &lt;em&gt;sampleApacheBlackBox.log&lt;/em&gt;&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-35.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-35.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-35.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-35.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Upload Data&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;then click &lt;strong&gt;Open&lt;/strong&gt; to return to the &lt;strong&gt;Upload&lt;/strong&gt; selection window where we can then press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
 to perform the upload.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-36.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-36.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-36.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-36.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Upload Data&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;An Alert dialog window is presented 






  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-37.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-37.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-37.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-37.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Alert&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;
  which should be &lt;strong&gt;closed&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;The stream we have just loaded will now be displayed in the  &lt;em&gt;Streams Table&lt;/em&gt; pane.
Note that the &lt;em&gt;Specific Stream&lt;/em&gt;
and &lt;em&gt;Data/Meta-data&lt;/em&gt; panes are still blank.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-38.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-38.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-38.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-38.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Data Loading - Streams Table&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;If we select the stream by clicking anywhere along its line, the stream is highlighted and the &lt;em&gt;Specific Stream&lt;/em&gt; and Data/Meta-data_ panes now display data.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-39.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-39.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-39.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-39.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Data Loading - Streams Table&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The &lt;em&gt;Specific Stream&lt;/em&gt; pane only displays the Raw Event stream and the &lt;em&gt;Data/Meta-data&lt;/em&gt; pane displays the content of the log file just uploaded (the &lt;strong&gt;Data&lt;/strong&gt; link).
If we were to click on the &lt;strong&gt;Meta&lt;/strong&gt; link at the top of the &lt;em&gt;Data/Meta-data&lt;/em&gt; pane, the log data is replaced by this streamâ€™s meta-data.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-40.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-40.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-40.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-40.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Data Loading - Meta-data&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Note that, in addition to the feed attributes we set, the upload process added additional feed attributes of&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Feed - the feed name&lt;/li&gt;
&lt;li&gt;ReceivedTime - the time the feed was received by Stroom&lt;/li&gt;
&lt;li&gt;RemoteFile - the name of the file loaded&lt;/li&gt;
&lt;li&gt;StreamSize - the size, in bytes, of the loaded data within the stream&lt;/li&gt;
&lt;li&gt;user-agent - the user agent used to present the stream to Stroom - in this case, the Stroom user Interface&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We now have data that will allow us to develop our text converter and translation.&lt;/p&gt;
&lt;h3 id=&#34;step-data-through-pipeline---source&#34;&gt;Step data through Pipeline - Source&lt;/h3&gt;
&lt;p&gt;We now need to step our data through the pipeline.&lt;/p&gt;
&lt;p&gt;To do this, set the check-box on the &lt;em&gt;Specific Stream&lt;/em&gt; pane and we note that the previously grayed out action icons (










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/process.svg&#34; 
  title=&#34;Process&#34; 
  alt=&#34;process.svg&#34;&gt;
 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/delete.svg&#34; 
  title=&#34;Delete&#34; 
  alt=&#34;delete.svg&#34;&gt;
 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/download.svg&#34; 
  title=&#34;Download&#34; 
  alt=&#34;download.svg&#34;&gt;
) are now enabled.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-43.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-43.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-43.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-43.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Select Stream to Step&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;We now want to step our data through the first element of the pipeline, the Text Converter.
We enter Stepping Mode by pressing the stepping button 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/stepping.svg&#34; 
  title=&#34;Stepping&#34; 
  alt=&#34;stepping.svg&#34;&gt;
 found at the bottom right corner of the &lt;em&gt;Data/Meta-data&lt;/em&gt; pane.&lt;/p&gt;
&lt;p&gt;We will then be requested to choose a pipeline to step with, at which, you should navigate to the Apache-SSLBlackBox-V2.0-EVENTS pipeline as per&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-44.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-44.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-44.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-44.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Select pipeline to Step&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;then press 



&lt;span class=&#34;stroom-button&#34; title=&#34;Ok button&#34; &gt;
  &lt;span class=&#34;stroom-button-text&#34;&gt;Ok&lt;/span&gt;
&lt;/span&gt;
.&lt;/p&gt;
&lt;p&gt;At this point, we enter the pipeline Stepping tab&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-45.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-45.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-45.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-45.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Source&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;which, initially displays the Raw Event data from our stream.
This is the Source display for the Event Pipeline.&lt;/p&gt;
&lt;h3 id=&#34;step-data-through-pipeline---text-converter&#34;&gt;Step data through Pipeline - Text Converter&lt;/h3&gt;
&lt;p&gt;We click on the 








  
  








&lt;span class=&#34;pipeline-element&#34; title=&#34;dsParser&#34; &gt;
  &lt;img
    class=&#34;stroom-icon&#34; 
    style=&#34;max-width: 15px;&#34;
    src=&#34;../../images/stroom-ui/pipeline/text.svg&#34; 
    title=&#34;dsParser&#34; 
    alt=&#34;text.svg&#34;&gt;
  &lt;span&gt;dsParser&lt;/span&gt;
&lt;/span&gt;
 element to enter the Text Converter stepping window.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-46.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-46.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-46.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-46.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Text Converter&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;This &lt;em&gt;stepping&lt;/em&gt; tab is divided into three sub-panes.
The top one is the Text Converter editor and it will allow you to edit the text conversion.
The bottom left window displays the &lt;em&gt;input&lt;/em&gt; to the Text Converter.
The bottom right window displays the &lt;em&gt;output&lt;/em&gt; from the Text Converter for the given input.&lt;/p&gt;
&lt;p&gt;We also note an error indicator - that of an error in the editor pane as indicated by the black back-grounded x and rectangular black boxes to the right of the editorâ€™s scroll bar.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-47.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-47.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-47.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-47.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Error&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;In essence, this means that we have no text converter to pass the Raw Event data through.&lt;/p&gt;
&lt;p&gt;To correct this, we will author our text converter using the Data Splitter &lt;em&gt;language&lt;/em&gt;.
Normally this is done incrementally to more easily develop the parser.
The minimum text converter contains&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.1&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;dataSplitter xmlns=&amp;quot;data-splitter:3&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;data-splitter:3 file://data-splitter-v3.0.1.xsd&amp;quot; version=&amp;quot;3.0&amp;quot;&amp;gt;
    &amp;lt;split  delimiter=&amp;quot;\n&amp;quot;&amp;gt;
        &amp;lt;group&amp;gt;
            &amp;lt;regex pattern=&amp;quot;^(.*)$&amp;quot;&amp;gt;
                &amp;lt;data name=&amp;quot;rest&amp;quot; value=&amp;quot;$1&amp;quot; /&amp;gt;
            &amp;lt;/regex&amp;gt;
        &amp;lt;/group&amp;gt;
    &amp;lt;/split&amp;gt;
&amp;lt;/dataSplitter&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we now press the Step First 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/fast-backward-green.svg&#34; 
  title=&#34;Step first&#34; 
  alt=&#34;fast-backward-green.svg&#34;&gt;
 icon the error will disappear and the stepping window will show.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-48.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-48.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-48.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-48.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Text Converter Simple A&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;As we can see, the first line of our Raw Event is displayed in the &lt;em&gt;input&lt;/em&gt; pane and the &lt;em&gt;output&lt;/em&gt; window holds the converted XML output where we just have a single &lt;em&gt;data&lt;/em&gt; element with a &lt;em&gt;name&lt;/em&gt; attribute of &lt;em&gt;rest&lt;/em&gt; and a &lt;em&gt;value&lt;/em&gt; attribute of the complete raw event as our regular expression matched the entire line.&lt;/p&gt;
&lt;p&gt;The next incremental step in the parser, would be to &lt;em&gt;parse out&lt;/em&gt; additional &lt;em&gt;data&lt;/em&gt; elements.
For example, in this next iteration we extract the client ip address, the client port and hold the rest of the Event in the rest data element.&lt;/p&gt;
&lt;p&gt;With the text converter containing&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.1&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;dataSplitter xmlns=&amp;quot;data-splitter:3&amp;quot; xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; xsi:schemaLocation=&amp;quot;data-splitter:3 file://data-splitter-v3.0.1.xsd&amp;quot; version=&amp;quot;3.0&amp;quot;&amp;gt;
    &amp;lt;split  delimiter=&amp;quot;\n&amp;quot;&amp;gt;
        &amp;lt;group&amp;gt;
            &amp;lt;regex pattern=&amp;quot;^([^/]+)/([^  ]+) (.*)$&amp;quot;&amp;gt;
                &amp;lt;data name=&amp;quot;clientip&amp;quot;  value=&amp;quot;$1&amp;quot; /&amp;gt;
                &amp;lt;data name=&amp;quot;clientport&amp;quot;  value=&amp;quot;$2&amp;quot; /&amp;gt;
                &amp;lt;data name=&amp;quot;rest&amp;quot; value=&amp;quot;$3&amp;quot; /&amp;gt;
            &amp;lt;/regex&amp;gt;
        &amp;lt;/group&amp;gt;
    &amp;lt;/split&amp;gt;
&amp;lt;/dataSplitter&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and a click on the Refresh Current Step 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/refresh-green.svg&#34; 
  title=&#34;Refresh&#34; 
  alt=&#34;refresh-green.svg&#34;&gt;
 icon we will see the &lt;em&gt;output&lt;/em&gt; pane contain&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-49.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-49.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-49.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-49.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Text Converter Simple B&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;We continue this incremental parsing until we have our complete parser.&lt;/p&gt;
&lt;p&gt;The following is our complete Text Converter which generates xml records as defined by the Stroom &lt;strong&gt;records v3.0&lt;/strong&gt; schema.&lt;/p&gt;






&lt;div class=&#34;text-file card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;&#34;&gt;

  &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
    
    &lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.1&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;
&amp;lt;dataSplitter 
    xmlns=&amp;quot;data-splitter:3&amp;quot; 
    xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; 
    xsi:schemaLocation=&amp;quot;data-splitter:3 file://data-splitter-v3.0.1.xsd&amp;quot; 
    version=&amp;quot;3.0&amp;quot;&amp;gt;

&amp;lt;!-- CLASSIFICATION: UNCLASSIFIED --&amp;gt;

&amp;lt;!-- Release History:
Release 20131001, 1 Oct 2013 - Initial release 

General Notes: 
This data splitter takes audit events for the Stroom variant of the Black Box Apache Auditing.

Event Format: The following is extracted from the Configuration settings for the Stroom variant of the Black Box Apache Auditing format.

#  Stroom - Black  Box  Auditing configuration
#
#  %a  - Client  IP address  (not  hostname (%h) to ensure ip address only)
#  When  logging the remote host,  it is important to log the client  IP address, not the
#  hostname. We do   this  with the &#39;%a&#39; directive.  Even  if HostnameLookups  are turned on,
#  using &#39;%a&#39; will  only record the IP address.  For the purposes of BlackBox formats,
#  reversed DNS should not  be trusted

#  %{REMOTE_PORT}e  - Client source port
#  Logging the client  source TCP  port  can provide some   useful  network data and can help
#  one associate a single client  with multiple requests.
#  If two   clients from the  same IP address  make   simultaneous connections, the &#39;common  log&#39;
#  file format cannot distinguish  between those  clients. Otherwise, if  the client uses
#  keep-alives, then every hit  made   from a single  TCP  session will  be associated  by   the  same
#  client  port number.
#  The   port information can indicate  how  many   connections our server is  handling at  once,
#  which may  help in tuning server TCP/OP   settings. It will also identify which client ports
#  are legitimate requests if  the administrator is examining a possible  SYN-attack against  a
#  server.
#  Note we  are using the REMOTE_PORT  environment variable. Environment variables  only come
#  into play when   mod_cgi or  mod_cgid is  handling the request.

#  %X   - Connection status  (use %c  for  Apache 1.3)
#  The   connection status  directive  tells us detailed  information about the client  connection.
#  It returns  one of three flags:
#  x  if the client aborted the connection before completion,
#  +  if  the client has indicated that it will  use keep-alives (and request additional  URLS),
#  - if the connection will  be closed after  the event
#  Keep-Alive is a HTTP 1.1.  directive  that  informs a web  server that  a client  can request multiple
#  files during the  same connection.  This way  a client  doesn&#39;t need to go   through the  overhead
#  of re-establishing  a TCP  connection to retrieve  a new  file.

#  %t  - time - or  [%{%d/%b/%Y:%T}t.%{msec_frac}t %{%z}t] for  Apache 2.4
#  The   %t  directive  records the time that  the request started.
#  NOTE:  When  deployed on   an  Apache 2.4, or better,  environment, you   should use
#  strftime  format in  order  to  get  microsecond resolution.

#  %l  - remote logname
#

#  %u - username [in quotes]
#  The   remote user  (from auth;  This may  be bogus if the return status  (%s) is  401
#  for non-ssl services)
#  For SSL  services,  user names need to  be delivered  as DNs  to deliver PKI   user details
#  in full.  To  pass through PKI   certificate  properties in the correct form you   need to
#  add the following directives  to your  Apache configuration:
#  SSLUserName   SSL_CLIENT_S_DN
#  SSLOptions +StdEnvVars
#  If you   cannot,  then use %{SSL_CLIENT_S_DN}x   in place of %u and use  blackboxSSLUser
#  LogFormat nickname

#  %r  - first  line of text sent by   web  client [in quotes]
#  This is the first  line of text send by   the web  client, which includes the request
#  method, the  full URL,  and the  HTTP protocol.

#  %s  - status  code before any redirection
#  This is  the status  code of the original request.

#  %&amp;gt;s  - status  code after  any redirection  has taken place
#  This is  the final  status  code of the request, after  any internal  redirections  may
#  have taken  place.

#  %D   - time in  microseconds to handle the request
#  This is the  number of microseconds the  server  took to  handle the  request  in  microseconds

#  %I  - incoming bytes
#  This is  the bytes received, include request and headers. It  cannot, by   definition be zero.

#  %O   - outgoing bytes
#  This is  the size in bytes of the outgoing data,  including HTTP headers. It  cannot,  by
#  definition be zero.

#  %B  - outgoing content bytes
#  This is  the size in bytes of the outgoing data,  EXCLUDING  HTTP headers.  Unlike %b,   which
#  records &#39;-&#39; for zero bytes transferred,  %B  will record &#39;0&#39;.

#  %{Referer}i - Referrer HTTP Request  Header [in quotes]
#  This is  typically the URL of the page that  made   the request.  If  linked from
#  e-mail or direct  entry this  value will be empty. Note, this  can be spoofed
#  or turned off

#  %{User-Agent}i - User agent HTTP Request  Header [in quotes]
#  This is  the identifying information the client  (browser) reports about itself.
#  It can be spoofed or  turned  off
 
#  %V   - the server name   according to the UseCannonicalName setting
#  This identifies  the virtual  host in a multi host webservice

#  %p - the canonical port of the server servicing the request

#  Define a variation  of the Black Box  logs
#
#  Note, you   only need to  use the  &#39;blackboxSSLUser&#39; nickname if you cannot set  the
#  following directives  for any SSL  configurations
#  SSLUserName   SSL_CLIENT_S_DN
#  SSLOptions +StdEnvVars
#  You  will also note the variation for no   logio  module. The   logio  module supports
#  the %I  and %O   formatting directive
#

&amp;lt;IfModule mod_logio.c&amp;gt; 
LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%u\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D I/%O/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxUser 
LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%{SSL_CLIENT_S_DN}x\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D %I/%O/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/%p&amp;quot; blackboxSSLUser 
&amp;lt;/IfModule&amp;gt; 
&amp;lt;IfModule !mod_logio.c&amp;gt; 
LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%u\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D 0/0/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/$p&amp;quot; blackboxUser 
LogFormat &amp;quot;%a/%{REMOTE_PORT}e %X %t %l \&amp;quot;%{SSL_CLIENT_S_DN}x\&amp;quot; \&amp;quot;%r\&amp;quot; %s/%&amp;gt;s %D 0/0/%B \&amp;quot;%{Referer}i\&amp;quot; \&amp;quot;%{User-Agent}i\&amp;quot; %V/$p&amp;quot; blackboxSSLUser 
&amp;lt;/IfModule&amp;gt; 
--&amp;gt;

&amp;lt;!--  Match line --&amp;gt;
&amp;lt;split  delimiter=&amp;quot;\n&amp;quot;&amp;gt;
    &amp;lt;group&amp;gt;
        &amp;lt;regex pattern=&amp;quot;^([^/]+)/([^ ]+) ([^ ]+) \[([^\]]+)] ([^ ]+) &amp;amp;#34;([^&amp;amp;#34;]+)&amp;amp;#34; &amp;amp;#34;([^&amp;amp;#34;]+)&amp;amp;#34; (\d+)/(\d+) (\d+) ([^/]+)/([^/]+)/(\d+) &amp;amp;#34;([^&amp;amp;#34;]+)&amp;amp;#34; &amp;amp;#34;([^&amp;amp;#34;]+)&amp;amp;#34; ([^/]+)/([^ ]+)&amp;quot;&amp;gt;
            &amp;lt;data name=&amp;quot;clientip&amp;quot;  value=&amp;quot;$1&amp;quot; /&amp;gt;
            &amp;lt;data name=&amp;quot;clientport&amp;quot;  value=&amp;quot;$2&amp;quot; /&amp;gt;
            &amp;lt;data name=&amp;quot;constatus&amp;quot; value=&amp;quot;$3&amp;quot; /&amp;gt;
            &amp;lt;data  name=&amp;quot;time&amp;quot; value=&amp;quot;$4&amp;quot;  /&amp;gt;
            &amp;lt;data  name=&amp;quot;remotelname&amp;quot; value=&amp;quot;$5&amp;quot;  /&amp;gt;
            &amp;lt;data  name=&amp;quot;user&amp;quot; value=&amp;quot;$6&amp;quot; /&amp;gt;
            &amp;lt;data  name=&amp;quot;url&amp;quot; value=&amp;quot;$7&amp;quot;&amp;gt;
                &amp;lt;group value=&amp;quot;$7&amp;quot; ignoreErrors=&amp;quot;true&amp;quot;&amp;gt;
                &amp;lt;!-- 
                Special case the &amp;quot;GET  /&amp;quot; url string as opposed to  the  more standard  &amp;quot;method url protocol/protocol_version&amp;quot;.
                Also special  case a url  of &amp;quot;-&amp;quot;  which occurs  on   some   errors  (eg 408)
                --&amp;gt;
                    &amp;lt;regex pattern=&amp;quot;^-$&amp;quot;&amp;gt;
                        &amp;lt;data  name=&amp;quot;url&amp;quot; value=&amp;quot;error&amp;quot; /&amp;gt;
                    &amp;lt;/regex&amp;gt;
                    &amp;lt;regex pattern=&amp;quot;^([^ ]+) (/)$&amp;quot;&amp;gt;
                        &amp;lt;data  name=&amp;quot;httpMethod&amp;quot; value=&amp;quot;$1&amp;quot;  /&amp;gt;
                        &amp;lt;data  name=&amp;quot;url&amp;quot; value=&amp;quot;$2&amp;quot; /&amp;gt;
                    &amp;lt;/regex&amp;gt;
                    &amp;lt;regex pattern=&amp;quot;^([^ ]+) ([^  ]+) ([^ /]*)/([^  ]*)&amp;quot;&amp;gt;
                        &amp;lt;data  name=&amp;quot;httpMethod&amp;quot; value=&amp;quot;$1&amp;quot;  /&amp;gt;
                        &amp;lt;data  name=&amp;quot;url&amp;quot; value=&amp;quot;$2&amp;quot; /&amp;gt;
                        &amp;lt;data  name=&amp;quot;protocol&amp;quot; value=&amp;quot;$3&amp;quot; /&amp;gt;
                        &amp;lt;data  name=&amp;quot;version&amp;quot; value=&amp;quot;$4&amp;quot; /&amp;gt;
                    &amp;lt;/regex&amp;gt;
                &amp;lt;/group&amp;gt;
            &amp;lt;/data&amp;gt;
            &amp;lt;data  name=&amp;quot;responseB&amp;quot; value=&amp;quot;$8&amp;quot;  /&amp;gt;
            &amp;lt;data  name=&amp;quot;response&amp;quot; value=&amp;quot;$9&amp;quot; /&amp;gt;
            &amp;lt;data  name=&amp;quot;timeM&amp;quot; value=&amp;quot;$10&amp;quot; /&amp;gt;
            &amp;lt;data  name=&amp;quot;bytesIn&amp;quot; value=&amp;quot;$11&amp;quot; /&amp;gt;
            &amp;lt;data  name=&amp;quot;bytesOut&amp;quot; value=&amp;quot;$12&amp;quot;  /&amp;gt;
            &amp;lt;data  name=&amp;quot;bytesOutContent&amp;quot; value=&amp;quot;$13&amp;quot; /&amp;gt;
            &amp;lt;data name=&amp;quot;referer&amp;quot;  value=&amp;quot;$14&amp;quot; /&amp;gt;
            &amp;lt;data  name=&amp;quot;userAgent&amp;quot; value=&amp;quot;$15&amp;quot;  /&amp;gt;
            &amp;lt;data  name=&amp;quot;vserver&amp;quot; value=&amp;quot;$16&amp;quot; /&amp;gt;
            &amp;lt;data name=&amp;quot;vserverport&amp;quot;  value=&amp;quot;$17&amp;quot; /&amp;gt;
        &amp;lt;/regex&amp;gt;
    &amp;lt;/group&amp;gt;
&amp;lt;/split&amp;gt;
&amp;lt;/dataSplitter&amp;gt;

&lt;/code&gt;&lt;/pre&gt;


    &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
    &lt;div class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;
      
      &lt;span class=&#34;&#34; style=&#34;font-size: smaller&#34;&gt;ApacheHTTPD BlackBox - Data Splitter&lt;/span&gt;
      
      (
      &lt;a href=&#34;../../files/HOWTOs/EventFeeds/CreateApacheHTTPDEventFeed/ApacheHTTPDBlackBox-DataSplitter.txt&#34; class=&#34;&#34; style=&#34;font-size: smaller&#34;&gt;Download ApacheHTTPDBlackBox-DataSplitter.txt&lt;/a&gt;
      &lt;i class=&#34;external-link-icon fas fa-file-download fa-sm text-secondary&#34; title=&#34;External link&#34;&gt;&lt;/i&gt;
      )
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;If we now press the Step First 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/fast-backward-green.svg&#34; 
  title=&#34;Step first&#34; 
  alt=&#34;fast-backward-green.svg&#34;&gt;
 icon we will see the complete parsed record&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-50.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-50.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-50.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-50.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Text Converter Complete&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;If we click on the Step Forward 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/step-forward-green.svg&#34; 
  title=&#34;Step forward&#34; 
  alt=&#34;step-forward-green.svg&#34;&gt;
 icon we will see the next event displayed in both the &lt;em&gt;input&lt;/em&gt; and &lt;em&gt;output&lt;/em&gt; panes.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-51.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-51.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-51.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-51.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Text Converter Complete second event&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;we click on the Step Last 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/fast-forward-green.svg&#34; 
  title=&#34;Step last&#34; 
  alt=&#34;fast-forward-green.svg&#34;&gt;
 icon we will see the last event displayed in both the &lt;em&gt;input&lt;/em&gt; and &lt;em&gt;output&lt;/em&gt; panes.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-52.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-52.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-52.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-52.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Text Converter Complete last event&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;You should take note of the stepping key that has been displayed in each stepping window. The stepping key are the numbers enclosed in square brackets e.g. [7556:1:16] found in the top right-hand side of the stepping window next to the stepping icons&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-53.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-53.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-53.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-53.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Stepping Key&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The form of these keys is [ streamId &amp;lsquo;:&amp;rsquo; subStreamId &amp;lsquo;:&amp;rsquo; recordNo]&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;streamId&lt;/strong&gt; - is the stream ID and wonâ€™t change when stepping through the selected stream.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;subStreamId&lt;/strong&gt; - is the sub stream ID. When Stroom processes event streams it aggregates multiple input files and this is the file number.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;recordNo&lt;/strong&gt; - is the record number within the sub stream.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One can double click on either the &lt;strong&gt;subStreamId&lt;/strong&gt; or &lt;strong&gt;recordNo&lt;/strong&gt; numbers and enter a new number. This allows you to â€˜stepâ€™ around a stream rather than just relying on first, previous, next and last movement.&lt;/p&gt;
&lt;p&gt;Note, you should now Save 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/save.svg&#34; 
  title=&#34;Save&#34; 
  alt=&#34;save.svg&#34;&gt;
 your edited Text Converter.&lt;/p&gt;
&lt;h3 id=&#34;step-data-through-pipeline---translation&#34;&gt;Step data through Pipeline - Translation&lt;/h3&gt;
&lt;p&gt;To start authoring the xslt Translation Filter, press the 








  
  










&lt;span class=&#34;pipeline-element&#34; title=&#34;translationFilter&#34; &gt;
  &lt;img
    class=&#34;stroom-icon&#34; 
    style=&#34;max-width: 15px;&#34;
    src=&#34;../../images/stroom-ui/pipeline/xslt.svg&#34; 
    title=&#34;translationFilter&#34; 
    alt=&#34;xslt.svg&#34;&gt;
  &lt;span&gt;translationFilter&lt;/span&gt;
&lt;/span&gt;
 element which steps us to the xsl Translation Filter pane.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-54.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-54.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-54.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-54.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;pipeline Stepping tab - Translation Initial&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;As for the &lt;em&gt;Text Converter&lt;/em&gt; stepping tab, this tab is divided into three sub-panes. The top one is the xslt translation editor and it will allow you to edit the xslt translation. The bottom left window displays the &lt;em&gt;input&lt;/em&gt; to the xslt translation (which is the output from the &lt;em&gt;Text Converter&lt;/em&gt;). The bottom right window displays the &lt;em&gt;output&lt;/em&gt; from the xslt Translation filter for the given input.&lt;/p&gt;
&lt;p&gt;We now click on the pipeline Step Forward button 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/step-forward-green.svg&#34; 
  title=&#34;Step forward&#34; 
  alt=&#34;step-forward-green.svg&#34;&gt;
 to single step the Text Converter &lt;em&gt;records&lt;/em&gt; element data through our xslt Translation. We see no change as an empty translation will just perform a copy of the input data.&lt;/p&gt;
&lt;p&gt;To correct this, we will author our xslt translation. Like the Data Splitter this is also authored incrementally. A minimum xslt translation might contain&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;xsl:stylesheet 
    xpath-default-namespace=&amp;quot;records:2&amp;quot; 
    xmlns=&amp;quot;event-logging:3&amp;quot; 
    xmlns:stroom=&amp;quot;stroom&amp;quot; 
    xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot; 
    xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; 
    xmlns:xs=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot; 
    version=&amp;quot;3.0&amp;quot;&amp;gt;

  &amp;lt;!-- Ingest the records tree --&amp;gt;
  &amp;lt;xsl:template match=&amp;quot;records&amp;quot;&amp;gt;
    &amp;lt;Events xsi:schemaLocation=&amp;quot;event-logging:3 file://event-logging-v3.2.3.xsd&amp;quot; Version=&amp;quot;3.2.3&amp;quot;&amp;gt;
        &amp;lt;xsl:apply-templates /&amp;gt;
    &amp;lt;/Events&amp;gt;
  &amp;lt;/xsl:template&amp;gt;

    &amp;lt;!-- Only generate events if we have an url on input --&amp;gt;
    &amp;lt;xsl:template match=&amp;quot;record[data[@name = &#39;url&#39;]]&amp;quot;&amp;gt;
        &amp;lt;Event&amp;gt;
            &amp;lt;xsl:apply-templates select=&amp;quot;.&amp;quot; mode=&amp;quot;eventTime&amp;quot; /&amp;gt;
            &amp;lt;xsl:apply-templates select=&amp;quot;.&amp;quot; mode=&amp;quot;eventSource&amp;quot; /&amp;gt;
            &amp;lt;xsl:apply-templates select=&amp;quot;.&amp;quot; mode=&amp;quot;eventDetail&amp;quot; /&amp;gt;
        &amp;lt;/Event&amp;gt;
    &amp;lt;/xsl:template&amp;gt;

    &amp;lt;xsl:template match=&amp;quot;node()&amp;quot;  mode=&amp;quot;eventTime&amp;quot;&amp;gt;
        &amp;lt;EventTime&amp;gt;
            &amp;lt;TimeCreated/&amp;gt;
        &amp;lt;/EventTime&amp;gt;
    &amp;lt;/xsl:template&amp;gt;

    &amp;lt;xsl:template match=&amp;quot;node()&amp;quot;  mode=&amp;quot;eventSource&amp;quot;&amp;gt;
        &amp;lt;EventSource&amp;gt;
            &amp;lt;System&amp;gt;
                &amp;lt;Name  /&amp;gt;
                &amp;lt;Environment /&amp;gt;
            &amp;lt;/System&amp;gt;
            &amp;lt;Generator /&amp;gt;
            &amp;lt;Device /&amp;gt;
            &amp;lt;Client /&amp;gt;
            &amp;lt;Server /&amp;gt;
            &amp;lt;User&amp;gt;
                &amp;lt;Id /&amp;gt;
            &amp;lt;/User&amp;gt;
        &amp;lt;/EventSource&amp;gt;
    &amp;lt;/xsl:template&amp;gt;

    &amp;lt;xsl:template match=&amp;quot;node()&amp;quot;  mode=&amp;quot;eventDetail&amp;quot;&amp;gt;
        &amp;lt;EventDetail&amp;gt;
            &amp;lt;TypeId&amp;gt;SendToWebService&amp;lt;/TypeId&amp;gt;
            &amp;lt;Description /&amp;gt;
            &amp;lt;Classification /&amp;gt;
            &amp;lt;Send /&amp;gt;
        &amp;lt;/EventDetail&amp;gt;
    &amp;lt;/xsl:template&amp;gt;
&amp;lt;/xsl:stylesheet&amp;gt;
&lt;/code&gt;&lt;/pre&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-55.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-55.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-55.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-55.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Translation Minimal&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Clearly this doesnâ€™t generate useful events. Our first iterative change might be to generate the TimeCreated element value. The change would be&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;    &amp;lt;xsl:template match=&amp;quot;node()&amp;quot; mode=&amp;quot;eventTime&amp;quot;&amp;gt;
        &amp;lt;EventTime&amp;gt;
          &amp;lt;TimeCreated&amp;gt;
             &amp;lt;xsl:value-of select=&amp;quot;stroom:format-date(data[@name = &#39;time&#39;]/@value, &#39;dd/MMM/yyyy:HH:mm:ss XX&#39;)&amp;quot; /&amp;gt; 
          &amp;lt;/TimeCreated&amp;gt;
        &amp;lt;/EventTime&amp;gt;
    &amp;lt;/xsl:template&amp;gt;
&lt;/code&gt;&lt;/pre&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-56.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-56.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-56.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-56.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Translation Minimal+&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Adding in the EventSource elements (without ANY error checking!) as per&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;    &amp;lt;xsl:template match=&amp;quot;node()&amp;quot;  mode=&amp;quot;eventSource&amp;quot;&amp;gt;
        &amp;lt;EventSource&amp;gt;
            &amp;lt;System&amp;gt;
              &amp;lt;Name&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;stroom:feed-attribute(&#39;System&#39;)&amp;quot;  /&amp;gt;
              &amp;lt;/Name&amp;gt;
              &amp;lt;Environment&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;stroom:feed-attribute(&#39;Environment&#39;)&amp;quot;  /&amp;gt;
              &amp;lt;/Environment&amp;gt;
            &amp;lt;/System&amp;gt;
            &amp;lt;Generator&amp;gt;Apache  HTTPD&amp;lt;/Generator&amp;gt;
            &amp;lt;Device&amp;gt;
              &amp;lt;HostName&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;stroom:feed-attribute(&#39;MyHost&#39;)&amp;quot;  /&amp;gt;
              &amp;lt;/HostName&amp;gt;
              &amp;lt;IPAddress&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;stroom:feed-attribute(&#39;MyIPAddress&#39;)&amp;quot;  /&amp;gt;
              &amp;lt;/IPAddress&amp;gt;
            &amp;lt;/Device&amp;gt;
            &amp;lt;Client&amp;gt;
              &amp;lt;IPAddress&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name =  &#39;clientip&#39;]/@value&amp;quot;  /&amp;gt;
              &amp;lt;/IPAddress&amp;gt;
              &amp;lt;Port&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name =  &#39;clientport&#39;]/@value&amp;quot;  /&amp;gt;
              &amp;lt;/Port&amp;gt;
            &amp;lt;/Client&amp;gt;
            &amp;lt;Server&amp;gt;
              &amp;lt;HostName&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name =  &#39;vserver&#39;]/@value&amp;quot;  /&amp;gt;
              &amp;lt;/HostName&amp;gt;
              &amp;lt;Port&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name =  &#39;vserverport&#39;]/@value&amp;quot;  /&amp;gt;
              &amp;lt;/Port&amp;gt;
            &amp;lt;/Server&amp;gt;
            &amp;lt;User&amp;gt;
              &amp;lt;Id&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name=&#39;user&#39;]/@value&amp;quot; /&amp;gt;
              &amp;lt;/Id&amp;gt;
            &amp;lt;/User&amp;gt;
        &amp;lt;/EventSource&amp;gt;
    &amp;lt;/xsl:template&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And after a Refresh Current Step 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/refresh-green.svg&#34; 
  title=&#34;Refresh&#34; 
  alt=&#34;refresh-green.svg&#34;&gt;
 we see our output event â€˜growâ€™ to&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-57.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-57.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-57.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-57.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Translation Minimal++&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;We now complete our translation by expanding the &lt;em&gt;EventDetail&lt;/em&gt; elements to have the completed translation of (again with limited error checking and non-existent documentation!)&lt;/p&gt;






&lt;div class=&#34;text-file card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;&#34;&gt;

  &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
    
    &lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot; ?&amp;gt;
&amp;lt;xsl:stylesheet 
    xpath-default-namespace=&amp;quot;records:2&amp;quot; 
    xmlns=&amp;quot;event-logging:3&amp;quot; 
    xmlns:stroom=&amp;quot;stroom&amp;quot; 
    xmlns:xsl=&amp;quot;http://www.w3.org/1999/XSL/Transform&amp;quot; 
    xmlns:xsi=&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot; 
    xmlns:xs=&amp;quot;http://www.w3.org/2001/XMLSchema&amp;quot; 
    version=&amp;quot;3.0&amp;quot;&amp;gt;

  &amp;lt;!-- Ingest the records tree --&amp;gt;
  &amp;lt;xsl:template match=&amp;quot;records&amp;quot;&amp;gt;
    &amp;lt;Events xsi:schemaLocation=&amp;quot;event-logging:3 file://event-logging-v3.2.3.xsd&amp;quot; Version=&amp;quot;3.2.3&amp;quot;&amp;gt;
        &amp;lt;xsl:apply-templates /&amp;gt;
    &amp;lt;/Events&amp;gt;
  &amp;lt;/xsl:template&amp;gt;

    &amp;lt;!-- Only generate events if we have an url on input --&amp;gt;
    &amp;lt;xsl:template match=&amp;quot;record[data[@name = &#39;url&#39;]]&amp;quot;&amp;gt;
        &amp;lt;Event&amp;gt;
            &amp;lt;xsl:apply-templates select=&amp;quot;.&amp;quot; mode=&amp;quot;eventTime&amp;quot; /&amp;gt;
            &amp;lt;xsl:apply-templates select=&amp;quot;.&amp;quot; mode=&amp;quot;eventSource&amp;quot; /&amp;gt;
            &amp;lt;xsl:apply-templates select=&amp;quot;.&amp;quot; mode=&amp;quot;eventDetail&amp;quot; /&amp;gt;
        &amp;lt;/Event&amp;gt;
    &amp;lt;/xsl:template&amp;gt;

    &amp;lt;xsl:template match=&amp;quot;node()&amp;quot; mode=&amp;quot;eventTime&amp;quot;&amp;gt;
        &amp;lt;EventTime&amp;gt;
          &amp;lt;TimeCreated&amp;gt;
             &amp;lt;xsl:value-of select=&amp;quot;stroom:format-date(data[@name = &#39;time&#39;]/@value, &#39;dd/MMM/yyyy:HH:mm:ss XX&#39;)&amp;quot; /&amp;gt; 
          &amp;lt;/TimeCreated&amp;gt;
        &amp;lt;/EventTime&amp;gt;
    &amp;lt;/xsl:template&amp;gt;

    &amp;lt;xsl:template match=&amp;quot;node()&amp;quot;  mode=&amp;quot;eventSource&amp;quot;&amp;gt;
        &amp;lt;EventSource&amp;gt;
            &amp;lt;System&amp;gt;
              &amp;lt;Name&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;stroom:feed-attribute(&#39;System&#39;)&amp;quot;  /&amp;gt;
              &amp;lt;/Name&amp;gt;
              &amp;lt;Environment&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;stroom:feed-attribute(&#39;Environment&#39;)&amp;quot;  /&amp;gt;
              &amp;lt;/Environment&amp;gt;
            &amp;lt;/System&amp;gt;
            &amp;lt;Generator&amp;gt;Apache  HTTPD&amp;lt;/Generator&amp;gt;
            &amp;lt;Device&amp;gt;
              &amp;lt;HostName&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;stroom:feed-attribute(&#39;MyHost&#39;)&amp;quot;  /&amp;gt;
              &amp;lt;/HostName&amp;gt;
              &amp;lt;IPAddress&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;stroom:feed-attribute(&#39;MyIPAddress&#39;)&amp;quot;  /&amp;gt;
              &amp;lt;/IPAddress&amp;gt;
            &amp;lt;/Device&amp;gt;
            &amp;lt;Client&amp;gt;
              &amp;lt;IPAddress&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name =  &#39;clientip&#39;]/@value&amp;quot;  /&amp;gt;
              &amp;lt;/IPAddress&amp;gt;
              &amp;lt;Port&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name =  &#39;clientport&#39;]/@value&amp;quot;  /&amp;gt;
              &amp;lt;/Port&amp;gt;
            &amp;lt;/Client&amp;gt;
            &amp;lt;Server&amp;gt;
              &amp;lt;HostName&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name =  &#39;vserver&#39;]/@value&amp;quot;  /&amp;gt;
              &amp;lt;/HostName&amp;gt;
              &amp;lt;Port&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name =  &#39;vserverport&#39;]/@value&amp;quot;  /&amp;gt;
              &amp;lt;/Port&amp;gt;
            &amp;lt;/Server&amp;gt;
            &amp;lt;User&amp;gt;
              &amp;lt;Id&amp;gt;
                &amp;lt;xsl:value-of select=&amp;quot;data[@name=&#39;user&#39;]/@value&amp;quot; /&amp;gt;
              &amp;lt;/Id&amp;gt;
            &amp;lt;/User&amp;gt;
        &amp;lt;/EventSource&amp;gt;
    &amp;lt;/xsl:template&amp;gt;


    &amp;lt;!-- --&amp;gt;
    &amp;lt;xsl:template match=&amp;quot;node()&amp;quot;  mode=&amp;quot;eventDetail&amp;quot;&amp;gt;
        &amp;lt;EventDetail&amp;gt;
          &amp;lt;TypeId&amp;gt;SendToWebService&amp;lt;/TypeId&amp;gt;
          &amp;lt;Description&amp;gt;Send/Access data to Web Service&amp;lt;/Description&amp;gt;
          &amp;lt;Classification&amp;gt;
            &amp;lt;Text&amp;gt;UNCLASSIFIED&amp;lt;/Text&amp;gt;
          &amp;lt;/Classification&amp;gt;
          &amp;lt;Send&amp;gt;
            &amp;lt;Source&amp;gt;
              &amp;lt;Device&amp;gt;
                &amp;lt;IPAddress&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;clientip&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/IPAddress&amp;gt;
                &amp;lt;Port&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;vserverport&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/Port&amp;gt;
              &amp;lt;/Device&amp;gt;
            &amp;lt;/Source&amp;gt;
            &amp;lt;Destination&amp;gt;
              &amp;lt;Device&amp;gt;
                &amp;lt;HostName&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;vserver&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/HostName&amp;gt;
                &amp;lt;Port&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;vserverport&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/Port&amp;gt;
              &amp;lt;/Device&amp;gt;
            &amp;lt;/Destination&amp;gt;
            &amp;lt;Payload&amp;gt;
              &amp;lt;Resource&amp;gt;
                &amp;lt;URL&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;url&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/URL&amp;gt;
                &amp;lt;Referrer&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;referer&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/Referrer&amp;gt;
                &amp;lt;HTTPMethod&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;url&#39;]/data[@name = &#39;httpMethod&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/HTTPMethod&amp;gt;
                &amp;lt;HTTPVersion&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;url&#39;]/data[@name = &#39;version&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/HTTPVersion&amp;gt;
                &amp;lt;UserAgent&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;userAgent&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/UserAgent&amp;gt;
                &amp;lt;InboundSize&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;bytesIn&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/InboundSize&amp;gt;
                &amp;lt;OutboundSize&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;bytesOut&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/OutboundSize&amp;gt;
                &amp;lt;OutboundContentSize&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;bytesOutContent&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/OutboundContentSize&amp;gt;
                &amp;lt;RequestTime&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;timeM&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/RequestTime&amp;gt;
                &amp;lt;ConnectionStatus&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;constatus&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/ConnectionStatus&amp;gt;
                &amp;lt;InitialResponseCode&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;responseB&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/InitialResponseCode&amp;gt;
                &amp;lt;ResponseCode&amp;gt;
                    &amp;lt;xsl:value-of select=&amp;quot;data[@name = &#39;response&#39;]/@value&amp;quot;/&amp;gt;
                &amp;lt;/ResponseCode&amp;gt;
                &amp;lt;Data Name=&amp;quot;Protocol&amp;quot;&amp;gt;
                  &amp;lt;xsl:attribute select=&amp;quot;data[@name = &#39;url&#39;]/data[@name = &#39;protocol&#39;]/@value&amp;quot; name=&amp;quot;Value&amp;quot;/&amp;gt;
                &amp;lt;/Data&amp;gt;
              &amp;lt;/Resource&amp;gt;
            &amp;lt;/Payload&amp;gt;
            &amp;lt;!-- Normally our translation at this point would contain an &amp;lt;Outcome&amp;gt; attribute.
            Since all our sample data includes only successful outcomes we have ommitted the &amp;lt;Outcome&amp;gt; attribute 
            in the translation to minimise complexity--&amp;gt;
          &amp;lt;/Send&amp;gt;
        &amp;lt;/EventDetail&amp;gt;
    &amp;lt;/xsl:template&amp;gt;
&amp;lt;/xsl:stylesheet&amp;gt;

&lt;/code&gt;&lt;/pre&gt;


    &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
    &lt;div class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;
      
      &lt;span class=&#34;&#34; style=&#34;font-size: smaller&#34;&gt;Apache BlackBox Translation XSLT&lt;/span&gt;
      
      (
      &lt;a href=&#34;../../files/HOWTOs/EventFeeds/CreateApacheHTTPDEventFeed/ApacheHTTPDBlackBox-TranslationXSLT.txt&#34; class=&#34;&#34; style=&#34;font-size: smaller&#34;&gt;Download ApacheHTTPDBlackBox-TranslationXSLT.txt&lt;/a&gt;
      &lt;i class=&#34;external-link-icon fas fa-file-download fa-sm text-secondary&#34; title=&#34;External link&#34;&gt;&lt;/i&gt;
      )
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;p&gt;And after a Refresh Current Step 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/refresh-green.svg&#34; 
  title=&#34;Refresh&#34; 
  alt=&#34;refresh-green.svg&#34;&gt;
 we see the completed &lt;code&gt;&amp;lt;EventDetail&amp;gt;&lt;/code&gt; section of our output event&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-58.png&#34; href=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-58.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/HOWTOs/v6/UI-ApacheHttpEventFeed-58.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/HOWTOs/v6/UI-ApacheHttpEventFeed-58.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Translation Complete&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Note, you should now Save 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/save.svg&#34; 
  title=&#34;Save&#34; 
  alt=&#34;save.svg&#34;&gt;
 your edited xslt Translation.&lt;/p&gt;
&lt;p&gt;We have completed the translation and have completed developing our Apache-SSLBlackBox-V2.0-EVENTS event feed.&lt;/p&gt;
&lt;p&gt;At this point, this event feed is set up to accept Raw Event data, but it will not automatically process the raw data and hence it will not place events into the Event Store. To have Stroom automatically process Raw Event streams, you will need to enable Processors for this pipeline.&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
