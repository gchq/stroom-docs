<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Stroom – query</title>
    <link>/tags/query/</link>
    <description>Recent content in query on Stroom</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Tue, 27 Jul 2021 00:00:00 +0000</lastBuildDate>
    
	  <atom:link href="/tags/query/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>Docs: Dashboards</title>
      <link>/docs/quick-start-guide/dashboard/</link>
      <pubDate>Fri, 09 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>/docs/quick-start-guide/dashboard/</guid>
      <description>
        
        
        &lt;p&gt;Create a new dashboard the same way you create anything else&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/001_dashboard_new.png&#34; href=&#34;../../images/quick-start-guide/dashboard/001_dashboard_new.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/001_dashboard_new.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/001_dashboard_new.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;New dashboard&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;On the query pane click the settings 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/settings-grey.svg&#34; 
  title=&#34;Dashboard settings&#34; 
  alt=&#34;settings-grey.svg&#34;&gt;

button on the top right of the panel.&lt;/p&gt;
&lt;p&gt;Choose the index you just created as your data source.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/002_dashboard_query_settings.png&#34; href=&#34;../../images/quick-start-guide/dashboard/002_dashboard_query_settings.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/002_dashboard_query_settings.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/002_dashboard_query_settings.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Dashboard settings&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Now add a term to the query to get a handle on the data&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/002_dashboard_query_add_term.png&#34; href=&#34;../../images/quick-start-guide/dashboard/002_dashboard_query_add_term.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/002_dashboard_query_add_term.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/002_dashboard_query_add_term.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Dashboard query add term&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;For our simple example we’re using a wildcard that captures all documents with an Id set.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/003_dashboard_query_edit_term.png&#34; href=&#34;../../images/quick-start-guide/dashboard/003_dashboard_query_edit_term.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/003_dashboard_query_edit_term.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/003_dashboard_query_edit_term.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Dashboard query edit term&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Within the table panel we now need to set a few defaults.  On the table pane click the settings 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/settings-grey.svg&#34; 
  title=&#34;Dashboard settings&#34; 
  alt=&#34;settings-grey.svg&#34;&gt;

button on the top right of the panel.  &lt;code&gt;Extract Values&lt;/code&gt; needs to be ticked.  If grouping is to be used and the content of the groups is to be viewed then &lt;code&gt;Show Group Detail&lt;/code&gt; should also be ticked.  The &lt;code&gt;Maximum Results&lt;/code&gt; field may also be changed from default if required to limit the results or if more results are expected than the default value.  Be aware that setting this value too high may result in excessive memory being used by the query process though.&lt;/p&gt;
&lt;p&gt;We now need to select a pipeline to display the results in the table by setting &lt;code&gt;Extraction Pipeline&lt;/code&gt;.  The simplest way is to create and save a new pipeline based on the existing &lt;code&gt;Search Extraction&lt;/code&gt; template pipeline.  Within this new pipeline, use either the XSLT used for indexing the data or preferably a copy of this XSLT saved elsewhere.  The extraction pipeline and the dashboard itself should then be saved.&lt;/p&gt;
&lt;p&gt;In the table panel we can add the fields we are interested in, in this case we wanted to sort the application field and count how many time the application name appears.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/004_dashboard_table_fields.png&#34; href=&#34;../../images/quick-start-guide/dashboard/004_dashboard_table_fields.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/004_dashboard_table_fields.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/004_dashboard_table_fields.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Dashboard table fields&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;If at this point, we decide that we&amp;rsquo;d like to see additional fields in the table extracted from each record then the Extraction Pipeline XSLT can be modified to extract them from the Event:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;...
  &amp;lt;xsl:template match=&amp;quot;/xpath/to/usefulField&amp;quot;&amp;gt;
    &amp;lt;data name=&amp;quot;UsefulField&amp;quot;&amp;gt;
      &amp;lt;xsl:attribute name=&amp;quot;value&amp;quot; select=&amp;quot;text()&amp;quot; /&amp;gt;
    &amp;lt;/data&amp;gt;
  &amp;lt;/xsl:template&amp;gt;
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To be able to select this new field from the table drop-down, it needs to be added back into the list of fields in the original index:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Type&lt;/th&gt;
&lt;th&gt;Store&lt;/th&gt;
&lt;th&gt;Index&lt;/th&gt;
&lt;th&gt;Positions&lt;/th&gt;
&lt;th&gt;Analyser&lt;/th&gt;
&lt;th&gt;Case Sensitive&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;UsefulField&lt;/td&gt;
&lt;td&gt;Text&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;No&lt;/td&gt;
&lt;td&gt;Keyword&lt;/td&gt;
&lt;td&gt;false&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;If any additionals are made at this point, the index must first be saved and then the dashboard closed and reopened. &lt;code&gt;UsefulField&lt;/code&gt; will then be available as a drop-down option in the table.&lt;/p&gt;
&lt;p&gt;Start the query and we should get this&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/005_dashboard_table.png&#34; href=&#34;../../images/quick-start-guide/dashboard/005_dashboard_table.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/005_dashboard_table.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/005_dashboard_table.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Dashboard table&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Then we can add an element from the top again and this time use visualisation&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/006_dashboard_add_visualisation.png&#34; href=&#34;../../images/quick-start-guide/dashboard/006_dashboard_add_visualisation.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/006_dashboard_add_visualisation.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/006_dashboard_add_visualisation.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Dashboard add visualisation&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;In the visualisation panel that has been added to the bottom, click the settings 










&lt;img 
  class=&#34;stroom-icon &#34; 
  src=&#34;../../images/stroom-ui/settings-grey.svg&#34; 
  title=&#34;Dashboard settings&#34; 
  alt=&#34;settings-grey.svg&#34;&gt;

button on the top right of the panel.&lt;/p&gt;
&lt;p&gt;In our example we have used the Bubble visualisation&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/008_visualisation_settings_basic.png&#34; href=&#34;../../images/quick-start-guide/dashboard/008_visualisation_settings_basic.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/008_visualisation_settings_basic.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/008_visualisation_settings_basic.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Visualisation settings - basic&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;








  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/009_visualisation_settings_data.png&#34; href=&#34;../../images/quick-start-guide/dashboard/009_visualisation_settings_data.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/009_visualisation_settings_data.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/009_visualisation_settings_data.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Visualisation settings data&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Which gives us this visualisation when the query is executed&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/010_visualisation_bubbles.png&#34; href=&#34;../../images/quick-start-guide/dashboard/010_visualisation_bubbles.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/010_visualisation_bubbles.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/010_visualisation_bubbles.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Bubble visualisation&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;Where you can hover over elements and get a summary of that representation.&lt;/p&gt;







  
  
  
  
  







  



&lt;div class=&#34;card rounded shadow-stroom p-2 td-post-card mb-4 mt-4&#34; style=&#34;width: fit-content;&#34;&gt;

  &lt;a title=&#34;images/quick-start-guide/dashboard/011_visualisation_bubbles_legend.png&#34; href=&#34;../../images/quick-start-guide/dashboard/011_visualisation_bubbles_legend.png&#34;&gt;
    &lt;figure style=&#34;margin-block-end: 0px&#34; &gt;
      
      &lt;img class=&#34;card-img-top&#34; src=&#34;../../images/quick-start-guide/dashboard/011_visualisation_bubbles_legend.png&#34; style=&#34;max-width: fit-content&#34; alt=&#34;images/quick-start-guide/dashboard/011_visualisation_bubbles_legend.png&#34;&gt;
      

      
      &lt;div class=&#34;card-body px-0 pt-2 pb-0&#34;&gt;
        &lt;hr style=&#34;border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;&#34;&gt;
        &lt;figcaption class=&#34;card-text&#34; style=&#34;font-size: smaller; text-align: center;&#34;&gt;Bubble visualisation legends&lt;/figcaption&gt;
      &lt;/div&gt;
      
    &lt;/figure&gt;
  &lt;/a&gt;
&lt;/div&gt;


      </description>
    </item>
    
    <item>
      <title>Docs: Queries</title>
      <link>/docs/user-guide/dashboards/queries/</link>
      <pubDate>Tue, 27 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>/docs/user-guide/dashboards/queries/</guid>
      <description>
        
        
        &lt;p&gt;Dashboard queries are created with the query expression builder. The expression builder allows for complex boolean logic to be created across multiple index fields. The way in which different index fields may be queried depends on the type of data that the index field contains.&lt;/p&gt;
&lt;h2 id=&#34;date-time-fields&#34;&gt;Date Time Fields&lt;/h2&gt;
&lt;p&gt;Time fields can be queried for times equal, greater than, greater than or equal, less than, less than or equal or between two times.&lt;/p&gt;
&lt;p&gt;Times can be specified in two ways:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Absolute times&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Relative times&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;absolute-times&#34;&gt;Absolute Times&lt;/h3&gt;
&lt;p&gt;An absolute time is specified in ISO 8601 date time format, e.g.  &lt;code&gt;2016-01-23T12:34:11.844Z&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;relative-times&#34;&gt;Relative Times&lt;/h3&gt;
&lt;p&gt;In addition to absolute times it is possible to specify times using expressions. Relative time expressions create a date time that is relative to the execution time of the query. Supported expressons are as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;now() - The current execution time of the query.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;second() - The current execution time of the query rounded down to the nearest second.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;minute() - The current execution time of the query rounded down to the nearest minute.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;hour() - The current execution time of the query rounded down to the nearest hour.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;day() - The current execution time of the query rounded down to the nearest day.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;week() - The current execution time of the query rounded down to the first day of the week (Monday).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;month() - The current execution time of the query rounded down to the start of the current month.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;year() - The current execution time of the query rounded down to the start of the current year.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;addingsubtracting-durations&#34;&gt;Adding/Subtracting Durations&lt;/h3&gt;
&lt;p&gt;With relative times it is possible to add or subtract durations so that queries can be constructed to provide for example, the last week of data, the last hour of data etc.&lt;/p&gt;
&lt;p&gt;To add/subtract a duration from a query term the duration is simply appended after the relative time, e.g.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;now() + 2d&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Multiple durations can be combined in the expression, e.g.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;now() + 2d - 10h&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;now() + 2w - 1d10h&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Durations consist of a number and duration unit. Supported duration units are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;s - Seconds&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;m - Minutes&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;h - Hours&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;d - Days&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;w - Weeks&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;M - Months&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;y - Years&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Using these durations a query to get the last weeks data could be as follows:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;between now() - 1w and now()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Or midnight a week ago to midnight today:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;between day() - 1w and day()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Or if you just wanted data for the week so far:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;greater than week()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Or all data for the previous year:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;between year() - 1y and year()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Or this year so far:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;greater than year()&lt;/code&gt;&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
