<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="830px" preserveAspectRatio="none" style="width:866px;height:830px;" version="1.1" viewBox="0 0 866 830" width="866px" zoomAndPan="magnify"><defs><filter height="300%" id="fdnaqzp5eni8q" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="20" font-weight="bold" lengthAdjust="spacing" textLength="312" x="270.5" y="18.5645">Stroom single-node deployment</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="338" x="257.5" y="39.9893">All services running in docker containers</text><!--MD5=[def129ecf8b93bb9f2bc263fad41ae57]
cluster dataload_client_host--><polygon fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" points="73,60.2344,83,50.2344,291,50.2344,291,175.2344,281,185.2344,73,185.2344,73,60.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="281" x2="291" y1="60.2344" y2="50.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="73" x2="281" y1="60.2344" y2="60.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="281" x2="281" y1="60.2344" y2="185.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="150" y="76.2295">«device»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="142" x="107" y="92.5264">Datafeed client host</text><!--MD5=[4679e25ee70b82600e0c6d263a8629f1]
cluster ui_client_host--><polygon fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" points="315,60.2344,325,50.2344,519,50.2344,519,175.2344,509,185.2344,315,185.2344,315,60.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="509" x2="519" y1="60.2344" y2="50.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="315" x2="509" y1="60.2344" y2="60.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="509" x2="509" y1="60.2344" y2="185.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="385" y="76.2295">«device»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="128" x="349" y="92.5264">User desktop host</text><!--MD5=[e0722ec75e78acc1feffbca00d4db014]
cluster remote_proxy_host--><polygon fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" points="543,60.2344,553,50.2344,811,50.2344,811,175.2344,801,185.2344,543,185.2344,543,60.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="801" x2="811" y1="60.2344" y2="50.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="543" x2="801" y1="60.2344" y2="60.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="801" x2="801" y1="60.2344" y2="185.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="645" y="76.2295">«device»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="192" x="577" y="92.5264">Remote stroom-proxy host</text><!--MD5=[a965b0978188f3f971fc35d45353625a]
cluster stroom_host--><polygon fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" points="16,219.2344,26,209.2344,849,209.2344,849,813.2344,839,823.2344,16,823.2344,16,219.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="839" x2="849" y1="219.2344" y2="209.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="839" y1="219.2344" y2="219.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="839" x2="839" y1="219.2344" y2="823.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="400.5" y="235.2295">«device»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="88" x="384.5" y="251.5264">stroom host</text><!--MD5=[863c31b5ce76f6887dd79aa52361fc86]
cluster nginx_container--><rect fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" height="130" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="156" x="339" y="273.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="74" x="380" y="288.2295">«container»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="38" x="398" y="304.5264">nginx</text><!--MD5=[14465af7a6dd5c0d84ece8761052b4b7]
cluster stroom_auth_ui_container--><rect fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" height="130" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="214" x="40" y="427.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="74" x="110" y="442.2295">«container»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108" x="93" y="458.5264">stroom-auth-ui</text><!--MD5=[231d094088db2839ee1c0ea4581f5319]
cluster stroom_auth_service_container--><rect fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" height="130" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="202" x="278" y="427.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="74" x="342" y="442.2295">«container»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="143" x="307.5" y="458.5264">stroom-auth-service</text><!--MD5=[7fccaee69a65186a867cc33c7a4b794f]
cluster stroom_container--><rect fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" height="130" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="138" x="504" y="427.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="74" x="536" y="442.2295">«container»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="52" x="547" y="458.5264">stroom</text><!--MD5=[97431c95c82c05935d68ad678607a584]
cluster stroom_proxy_container--><rect fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" height="130" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="159" x="666" y="427.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="74" x="708.5" y="442.2295">«container»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="143" x="674" y="458.5264">stroom-proxy (local)</text><!--MD5=[345bc6a4946eb22f9ca28fd33c76f1ab]
cluster stroom_log_sender--><rect fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" height="130" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="190" x="519" y="273.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="74" x="577" y="288.2295">«container»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="130" x="549" y="304.5264">stroom-log-sender</text><!--MD5=[85e54d22d69108b3b643f92538fac043]
cluster database_container--><rect fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" height="218" rx="12.5" ry="12.5" style="stroke:#000000;stroke-width:1.5;" width="424" x="293" y="581.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="74" x="468" y="596.2295">«container»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="65" x="472.5" y="612.5264">Database</text><!--MD5=[fa6e3a9222af9f8270524df4a8c73c70]
cluster stroom_all_dbs--><path d="M317,650.2344 C317,640.2344 505,640.2344 505,640.2344 C505,640.2344 693,640.2344 693,650.2344 L693,765.2344 C693,775.2344 505,775.2344 505,775.2344 C505,775.2344 317,775.2344 317,765.2344 L317,650.2344 " fill="#FFFFFF" filter="url(#fdnaqzp5eni8q)" style="stroke:#000000;stroke-width:1.5;"/><path d="M317,650.2344 C317,660.2344 505,660.2344 505,660.2344 C505,660.2344 693,660.2344 693,650.2344 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="53" x="478.5" y="675.2295">«mysql»</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="105" x="452.5" y="691.5264">stroom_all_dbs</text><!--MD5=[960860b3b3295bcd1d432a531990153b]
entity dataload_client_app--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="135,116.2344,145,106.2344,275,106.2344,275,158.8281,265,168.8281,135,168.8281,135,116.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="265" x2="275" y1="116.2344" y2="106.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="135" x2="265" y1="116.2344" y2="116.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="265" x2="265" y1="116.2344" y2="168.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="158" y="139.2295">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="150" y="155.5264">Event generator</text><!--MD5=[3677200128df26b0ab79a654f7c368fe]
entity ui_client_browser--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="349.5,116.2344,359.5,106.2344,484.5,106.2344,484.5,158.8281,474.5,168.8281,349.5,168.8281,349.5,116.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="474.5" x2="484.5" y1="116.2344" y2="106.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="349.5" x2="474.5" y1="116.2344" y2="116.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="474.5" x2="474.5" y1="116.2344" y2="168.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="364.5" y="139.2295">«web browser»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="370" y="155.5264">Web browser</text><!--MD5=[fe6f05c8cee4bc5bf69b8554e9ede833]
entity remote_proxy--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="559,116.2344,569,106.2344,685,106.2344,685,158.8281,675,168.8281,559,168.8281,559,116.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="675" x2="685" y1="116.2344" y2="106.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="559" x2="675" y1="116.2344" y2="116.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="675" x2="675" y1="116.2344" y2="168.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="575" y="139.2295">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="574" y="155.5264">stroom-proxy</text><!--MD5=[8824c66cba45be527cf3dd56bcd70cd2]
entity nginx--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="355,334.2344,365,324.2344,479,324.2344,479,376.8281,469,386.8281,355,386.8281,355,334.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="469" x2="479" y1="334.2344" y2="324.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="355" x2="469" y1="334.2344" y2="334.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="469" x2="469" y1="334.2344" y2="386.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="370" y="357.2295">«web server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="395" y="373.5264">nginx</text><!--MD5=[ce712441c445748376048ba9369e1787]
entity stroom_auth_ui_nginx--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="56,488.2344,66,478.2344,238,478.2344,238,530.8281,228,540.8281,56,540.8281,56,488.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="228" x2="238" y1="488.2344" y2="478.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="56" x2="228" y1="488.2344" y2="488.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="228" x2="228" y1="488.2344" y2="540.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="100" y="511.2295">«web server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="71" y="527.5264">stroom-auth-ui (nginx)</text><!--MD5=[4d35d13dc2ac8356870cbe0936c1d7d9]
entity stroom_auth_service_dropwiz--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="294,488.2344,304,478.2344,464,478.2344,464,530.8281,454,540.8281,294,540.8281,294,488.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="454" x2="464" y1="488.2344" y2="478.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="294" x2="454" y1="488.2344" y2="488.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="454" x2="454" y1="488.2344" y2="540.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="341" y="511.2295">«java app»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="309" y="527.5264">stroom-auth-service</text><!--MD5=[86aea49c4f2a65fdacf06468b1745a8a]
entity stroom_dropwiz--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="520,488.2344,530,478.2344,626,478.2344,626,530.8281,616,540.8281,520,540.8281,520,488.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="616" x2="626" y1="488.2344" y2="478.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="520" x2="616" y1="488.2344" y2="488.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="616" x2="616" y1="488.2344" y2="540.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="535" y="511.2295">«java app»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="545" y="527.5264">stroom</text><!--MD5=[c975d85d39155e291a3db48688621a0f]
entity stroom_proxy_dropwiz--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="682,488.2344,692,478.2344,808,478.2344,808,530.8281,798,540.8281,682,540.8281,682,488.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="798" x2="808" y1="488.2344" y2="478.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="682" x2="798" y1="488.2344" y2="488.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="798" x2="798" y1="488.2344" y2="540.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="707" y="511.2295">«java app»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="697" y="527.5264">stroom-proxy</text><!--MD5=[c3d424efc77a9e66034b64d0570dbfed]
entity stroom_log_sender_script--><polygon fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" points="534.5,334.2344,544.5,324.2344,693.5,324.2344,693.5,376.8281,683.5,386.8281,534.5,386.8281,534.5,334.2344" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="683.5" x2="693.5" y1="334.2344" y2="324.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="534.5" x2="683.5" y1="334.2344" y2="334.2344"/><line style="stroke:#000000;stroke-width:1.5;" x1="683.5" x2="683.5" y1="334.2344" y2="386.8281"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="50" x="584" y="357.2295">«script»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="549.5" y="373.5264">stroom-log-sender</text><!--MD5=[40b2f2205cc740157f5e31447dce3a90]
entity stroom_db--><rect fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" height="52.5938" rx="35" ry="35" style="stroke:#000000;stroke-width:1.5;" width="91" x="585.5" y="706.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="595.5" y="729.2295">«database»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="608" y="745.5264">stroom</text><!--MD5=[4556cb27c697ea38b95df37aa8ac3618]
entity stroom_stats_db--><rect fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" height="52.5938" rx="35" ry="35" style="stroke:#000000;stroke-width:1.5;" width="91" x="459.5" y="706.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="469.5" y="729.2295">«database»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="489.5" y="745.5264">stats</text><!--MD5=[3b81d93e285c59cc92c49b55358c67ba]
entity stroom_auth_db--><rect fill="#FEFECE" filter="url(#fdnaqzp5eni8q)" height="52.5938" rx="35" ry="35" style="stroke:#000000;stroke-width:1.5;" width="91" x="333.5" y="706.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="343.5" y="729.2295">«database»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="365" y="745.5264">auth</text><!--MD5=[933c8918fff6242c0a2d1d5b74e9d808]
link stroom_auth_service_dropwiz to stroom_auth_db--><path d="M379,541.4644 C379,583.5444 379,658.6844 379,700.8444 " fill="none" id="stroom_auth_service_dropwiz-to-stroom_auth_db" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="379,706.0744,383,697.0744,379,701.0744,375,697.0744,379,706.0744" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[eff598a3d230a4b3fe1489c601efcf46]
link stroom_dropwiz to stroom_db--><path d="M581.06,541.4644 C592.13,583.6344 611.91,658.9844 622.96,701.1044 " fill="none" id="stroom_dropwiz-to-stroom_db" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="624.27,706.0744,625.8535,696.3536,623.0003,701.2383,618.1157,698.3851,624.27,706.0744" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4f990febc6486ab9063d0139f8e9efdc]
link stroom_dropwiz to stroom_stats_db--><path d="M563.54,541.4644 C550.57,583.6344 527.38,658.9844 514.42,701.1044 " fill="none" id="stroom_dropwiz-to-stroom_stats_db" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="512.9,706.0744,519.3683,698.6474,514.3694,701.2952,511.7216,696.2963,512.9,706.0744" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[8066c330616ff30344d2bc14b3a7392c]
link stroom_dropwiz to nginx--><path d="M552.57,478.0244 C529.75,452.7944 493.24,417.0944 463.61,390.9544 " fill="none" id="stroom_dropwiz-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="459.67,387.4944,463.7924,396.439,463.4267,390.794,469.0717,390.4283,459.67,387.4944" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bf0769b61f4aa6b7ccd3d02a7a51964e]
link nginx to stroom_dropwiz--><path d="M438.09,387.4944 C461.09,412.7344 497.61,448.4344 527.08,474.5644 " fill="none" id="nginx-to-stroom_dropwiz" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="531,478.0244,526.9138,469.0632,527.2567,474.7097,521.6102,475.0526,531,478.0244" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7ba3628c1b5996396710a0aab81a7175]
link stroom_proxy_dropwiz to nginx--><path d="M734.67,478.0244 C718.6,457.4344 690.67,431.8444 660,419.2344 C634.67,408.8144 563.34,418.7444 537,411.2344 C519.09,406.1244 500.76,397.5644 483.82,388.7144 " fill="none" id="stroom_proxy_dropwiz-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="479.08,386.2144,485.1545,393.9668,483.4965,388.5584,488.9049,386.9004,479.08,386.2144" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e2675319a6e5076e1cd90accd23bb7bc]
link nginx to stroom_proxy_dropwiz--><path d="M448.42,387.5044 C464.09,396.7744 483.27,405.8944 502,411.2344 C528.34,418.7444 599.67,408.8144 625,419.2344 C653.88,431.1144 680.32,454.4744 701.5,474.3644 " fill="none" id="nginx-to-stroom_proxy_dropwiz" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="705.39,478.0244,701.5777,468.9433,701.749,474.5976,696.0947,474.7689,705.39,478.0244" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bbde8797b048df9cb48c0a03dc9a7f2a]
link stroom_auth_service_dropwiz to nginx--><path d="M397.77,478.0244 C406.96,453.3144 415.84,418.5444 419.7,392.5644 " fill="none" id="stroom_auth_service_dropwiz-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="420.41,387.4944,415.2112,395.8594,419.7229,392.4469,423.1353,396.9586,420.41,387.4944" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[bd542ee22d6f7e143c45175079b67844]
link nginx to stroom_auth_service_dropwiz--><path d="M398.83,387.4944 C389.81,412.2144 380.94,446.9844 376.94,472.9544 " fill="none" id="nginx-to-stroom_auth_service_dropwiz" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="376.2,478.0244,381.4461,469.689,376.9151,473.0758,373.5283,468.5448,376.2,478.0244" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c8e6ec0f1f08878e82bbe399425a6179]
reverse link nginx to stroom_log_sender_script--><path d="M484.49,355.7344 C501.09,355.7344 517.7,355.7344 534.3,355.7344 " fill="none" id="nginx-backto-stroom_log_sender_script" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="479.33,355.7344,488.33,359.7344,484.33,355.7344,488.33,351.7344,479.33,355.7344" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fab8689ddda3c2cb0bc5d52ba1764e27]
link nginx to stroom_auth_ui_nginx--><path d="M354.96,381.8344 C330.5,392.4444 302.46,405.5144 278,419.2344 C248.25,435.9144 216.63,457.4044 191.9,475.1344 " fill="none" id="nginx-to-stroom_auth_ui_nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="187.69,478.1744,197.3286,476.1502,191.7441,475.248,192.6463,469.6635,187.69,478.1744" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[989ef6e3dbf0f2cd69ae14acc8487b5d]
link ui_client_browser to nginx--><path d="M417,169.6844 C417,209.1744 417,277.3344 417,318.9944 " fill="none" id="ui_client_browser-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="417,324.1944,421,315.1944,417,319.1944,413,315.1944,417,324.1944" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a4e1cfae1c63071152643add18806a87]
link dataload_client_app to nginx--><path d="M235.37,169.6844 C274.53,209.5744 342.4,278.7244 383.17,320.2644 " fill="none" id="dataload_client_app-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="387.02,324.1944,383.5587,314.9738,383.5131,320.6304,377.8564,320.5848,387.02,324.1944" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fb1d713660c745da3a71d8c4842aab4b]
link remote_proxy to nginx--><path d="M561.62,169.3144 C546.76,178.4144 531.53,189.2144 519,201.2344 C482.7,236.0744 452.5,286.0444 434.61,319.3944 " fill="none" id="remote_proxy-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="432.06,324.1944,439.8043,318.1095,434.3981,319.7747,432.7329,314.3685,432.06,324.1944" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[44da1aad8301bc30c3c5a37f8b5b1869]
@startuml

title
    ==Stroom single-node deployment
    All services running in docker containers
end title

' define a style for the containers
skinparam rectangle {
	roundCorner<<container>> 25
}

' Client hosts
node "Datafeed client host" as dataload_client_host <<device>> {
    node "Event generator" as dataload_client_app <<application>>
}

node "User desktop host" as ui_client_host <<device>> {
    node "Web browser" as ui_client_browser <<web browser>>
}

node "Remote stroom-proxy host" as remote_proxy_host <<device>> {
    node "stroom-proxy" as remote_proxy <<application>>
}


' Single stroom node
node "stroom host" as stroom_host <<device>> {
    rectangle "nginx" as nginx_container <<container>>{
        node "nginx" as nginx <<web server>>
    }

    rectangle "stroom-auth-ui" as stroom_auth_ui_container <<container>>{
        node "stroom-auth-ui (nginx)" as stroom_auth_ui_nginx <<web server>>
    }

    rectangle "stroom-auth-service" as stroom_auth_service_container <<container>>{
        node "stroom-auth-service" as stroom_auth_service_dropwiz <<java app>>
    }

    rectangle "stroom" as stroom_container <<container>>{
        node "stroom" as stroom_dropwiz <<java app>>
    }

    rectangle "stroom-proxy (local)" as stroom_proxy_container <<container>>{
        node "stroom-proxy" as stroom_proxy_dropwiz <<java app>>
    }

    rectangle "stroom-log-sender" as stroom_log_sender <<container>>{
        node "stroom-log-sender" as stroom_log_sender_script <<script>>
    }

    rectangle "Database" as database_container <<container>>{
        database stroom_all_dbs <<mysql>> {
            storage "stroom" as stroom_db <<database>>
            storage "stats" as stroom_stats_db <<database>>
            storage "auth" as stroom_auth_db <<database>>
        }
    }

    'DB connections
    stroom_auth_service_dropwiz - -> stroom_auth_db
    stroom_dropwiz - -> stroom_db
    stroom_dropwiz - -> stroom_stats_db

    ' API calls
    stroom_dropwiz - -> nginx
    stroom_proxy_dropwiz - -> nginx
    stroom_auth_service_dropwiz - -> nginx
    stroom_log_sender_script -left-> nginx

    'Reverse proxy connections
    nginx - -> stroom_auth_ui_nginx
    nginx - -> stroom_auth_service_dropwiz
    nginx - -> stroom_dropwiz
    nginx - -> stroom_proxy_dropwiz
}

'Client connections
ui_client_browser - -> nginx
dataload_client_app - -> nginx
remote_proxy - -> nginx

@enduml

@startuml

title
    ==Stroom single-node deployment
    All services running in docker containers
end title

skinparam rectangle {
	roundCorner<<container>> 25
}

node "Datafeed client host" as dataload_client_host <<device>> {
    node "Event generator" as dataload_client_app <<application>>
}

node "User desktop host" as ui_client_host <<device>> {
    node "Web browser" as ui_client_browser <<web browser>>
}

node "Remote stroom-proxy host" as remote_proxy_host <<device>> {
    node "stroom-proxy" as remote_proxy <<application>>
}


node "stroom host" as stroom_host <<device>> {
    rectangle "nginx" as nginx_container <<container>>{
        node "nginx" as nginx <<web server>>
    }

    rectangle "stroom-auth-ui" as stroom_auth_ui_container <<container>>{
        node "stroom-auth-ui (nginx)" as stroom_auth_ui_nginx <<web server>>
    }

    rectangle "stroom-auth-service" as stroom_auth_service_container <<container>>{
        node "stroom-auth-service" as stroom_auth_service_dropwiz <<java app>>
    }

    rectangle "stroom" as stroom_container <<container>>{
        node "stroom" as stroom_dropwiz <<java app>>
    }

    rectangle "stroom-proxy (local)" as stroom_proxy_container <<container>>{
        node "stroom-proxy" as stroom_proxy_dropwiz <<java app>>
    }

    rectangle "stroom-log-sender" as stroom_log_sender <<container>>{
        node "stroom-log-sender" as stroom_log_sender_script <<script>>
    }

    rectangle "Database" as database_container <<container>>{
        database stroom_all_dbs <<mysql>> {
            storage "stroom" as stroom_db <<database>>
            storage "stats" as stroom_stats_db <<database>>
            storage "auth" as stroom_auth_db <<database>>
        }
    }

    stroom_auth_service_dropwiz - -> stroom_auth_db
    stroom_dropwiz - -> stroom_db
    stroom_dropwiz - -> stroom_stats_db

    stroom_dropwiz - -> nginx
    stroom_proxy_dropwiz - -> nginx
    stroom_auth_service_dropwiz - -> nginx
    stroom_log_sender_script -left-> nginx

    nginx - -> stroom_auth_ui_nginx
    nginx - -> stroom_auth_service_dropwiz
    nginx - -> stroom_dropwiz
    nginx - -> stroom_proxy_dropwiz
}

ui_client_browser - -> nginx
dataload_client_app - -> nginx
remote_proxy - -> nginx

@enduml

PlantUML version 1.2021.5(Sun Apr 25 11:20:28 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>