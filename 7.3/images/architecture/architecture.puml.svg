<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1256px" preserveAspectRatio="none" style="width:1201px;height:1256px;background:#FFFFFF;" version="1.1" viewBox="0 0 1201 1256" width="1201px" zoomAndPan="magnify"><title>=Stroom Architecture
==Example Two-Node Cluster (non-containerised deployment)</title><defs/><g><g class="title" data-source-line="2"><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="177.0732" x="505.2134" y="26.708">Stroom Architecture</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="460.4219" x="363.5391" y="45.8047">Example Two-Node Cluster (non-containerised deployment)</text></g><!--cluster Stroom Cluster--><g class="cluster" data-qualified-name="Stroom Cluster" data-source-line="19" id="ent0007"><rect fill="none" height="552" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1;" width="846" x="349.5" y="362.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="101.5205" x="721.7397" y="377.5732">Stroom Cluster</text></g><!--cluster Stroom Node #1--><g class="cluster" data-qualified-name="Stroom Cluster.Stroom Node .1" data-source-line="20" id="ent0008"><rect fill="none" height="328" rx="35" ry="35" style="stroke:#181818;stroke-width:1;" width="387" x="784.5" y="405.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="109.1973" x="923.4014" y="425.5732">Stroom Node #1</text></g><!--cluster Stroom Node #2--><g class="cluster" data-qualified-name="Stroom Cluster.Stroom Node .2" data-source-line="36" id="ent0016"><rect fill="none" height="290" rx="35" ry="35" style="stroke:#181818;stroke-width:1;" width="387" x="373.5" y="600.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="109.1973" x="512.4014" y="620.5732">Stroom Node #2</text></g><!--cluster stroom_all_dbs--><g class="cluster" data-qualified-name="stroom_all_dbs" data-source-line="56" id="ent0025"><rect fill="none" height="115" rx="35" ry="35" style="stroke:#181818;stroke-width:1;" width="183" x="748.5" y="984.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="92.6816" x="793.6592" y="1004.0732">MySQL Server</text></g><!--cluster shared_storage--><g class="cluster" data-qualified-name="shared_storage" data-source-line="67" id="ent0032"><rect fill="none" height="140" rx="35" ry="35" style="stroke:#181818;stroke-width:1;" width="350" x="324.5" y="971.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102.0059" x="448.4971" y="991.5732">Shared Storage</text></g><!--entity stroom_node_1--><g class="entity" data-qualified-name="Stroom Cluster.Stroom Node .1.stroom_node_1" data-source-line="21" id="ent0009"><polygon fill="#F1F1F1" points="800.5,664.5781,810.5,654.5781,922.4561,654.5781,922.4561,707.1719,912.4561,717.1719,800.5,717.1719,800.5,664.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="912.4561" x2="922.4561" y1="664.5781" y2="654.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="800.5" x2="912.4561" y1="664.5781" y2="664.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="912.4561" x2="912.4561" y1="664.5781" y2="717.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66.2949" x="823.3306" y="687.5732">&#171;java app&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.9561" x="815.5" y="703.8701">Stroom node</text></g><!--entity stroom_proxy_local_1--><g class="entity" data-qualified-name="Stroom Cluster.Stroom Node .1.stroom_proxy_local_1" data-source-line="22" id="ent0010"><polygon fill="#F1F1F1" points="993.5,469.5781,1003.5,459.5781,1155.2754,459.5781,1155.2754,512.1719,1145.2754,522.1719,993.5,522.1719,993.5,469.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1145.2754" x2="1155.2754" y1="469.5781" y2="459.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="993.5" x2="1145.2754" y1="469.5781" y2="469.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="1145.2754" x2="1145.2754" y1="469.5781" y2="522.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66.2949" x="1036.2402" y="492.5732">&#171;java app&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.7754" x="1008.5" y="508.8701">Local Stroom proxy</text></g><!--entity log_sender_script_1--><g class="entity" data-qualified-name="Stroom Cluster.Stroom Node .1.log_sender_script_1" data-source-line="23" id="ent0011"><polygon fill="#F1F1F1" points="800.5,469.5781,810.5,459.5781,958.7549,459.5781,958.7549,512.1719,948.7549,522.1719,800.5,522.1719,800.5,469.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="948.7549" x2="958.7549" y1="469.5781" y2="459.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="800.5" x2="948.7549" y1="469.5781" y2="469.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="948.7549" x2="948.7549" y1="469.5781" y2="522.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="48.583" x="850.3359" y="492.5732">&#171;script&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.2549" x="815.5" y="508.8701">send_to_stroom.sh</text></g><!--entity stroom_node_2--><g class="entity" data-qualified-name="Stroom Cluster.Stroom Node .2.stroom_node_2" data-source-line="37" id="ent0017"><polygon fill="#F1F1F1" points="476.5,821.5781,486.5,811.5781,598.4561,811.5781,598.4561,864.1719,588.4561,874.1719,476.5,874.1719,476.5,821.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="588.4561" x2="598.4561" y1="821.5781" y2="811.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="476.5" x2="588.4561" y1="821.5781" y2="821.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="588.4561" x2="588.4561" y1="821.5781" y2="874.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66.2949" x="499.3306" y="844.5732">&#171;java app&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.9561" x="491.5" y="860.8701">Stroom node</text></g><!--entity stroom_proxy_local_2--><g class="entity" data-qualified-name="Stroom Cluster.Stroom Node .2.stroom_proxy_local_2" data-source-line="38" id="ent0018"><polygon fill="#F1F1F1" points="389.5,664.5781,399.5,654.5781,551.2754,654.5781,551.2754,707.1719,541.2754,717.1719,389.5,717.1719,389.5,664.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="541.2754" x2="551.2754" y1="664.5781" y2="654.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="389.5" x2="541.2754" y1="664.5781" y2="664.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="541.2754" x2="541.2754" y1="664.5781" y2="717.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66.2949" x="432.2402" y="687.5732">&#171;java app&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.7754" x="404.5" y="703.8701">Local Stroom proxy</text></g><!--entity log_sender_script_2--><g class="entity" data-qualified-name="Stroom Cluster.Stroom Node .2.log_sender_script_2" data-source-line="39" id="ent0019"><polygon fill="#F1F1F1" points="586.5,664.5781,596.5,654.5781,744.7549,654.5781,744.7549,707.1719,734.7549,717.1719,586.5,717.1719,586.5,664.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="734.7549" x2="744.7549" y1="664.5781" y2="654.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="586.5" x2="734.7549" y1="664.5781" y2="664.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="734.7549" x2="734.7549" y1="664.5781" y2="717.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="48.583" x="636.3359" y="687.5732">&#171;script&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.2549" x="601.5" y="703.8701">send_to_stroom.sh</text></g><!--entity stroom_db--><g class="entity" data-qualified-name="stroom_all_dbs.stroom_db" data-source-line="57" id="ent0026"><path d="M765,1048.0781 C765,1038.0781 797.6748,1038.0781 797.6748,1038.0781 C797.6748,1038.0781 830.3496,1038.0781 830.3496,1048.0781 L830.3496,1073.375 C830.3496,1083.375 797.6748,1083.375 797.6748,1083.375 C797.6748,1083.375 765,1083.375 765,1073.375 L765,1048.0781" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M765,1048.0781 C765,1058.0781 797.6748,1058.0781 797.6748,1058.0781 C797.6748,1058.0781 830.3496,1058.0781 830.3496,1048.0781" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45.3496" x="775" y="1075.0732">stroom</text></g><!--entity stroom_stats_db--><g class="entity" data-qualified-name="stroom_all_dbs.stroom_stats_db" data-source-line="58" id="ent0027"><path d="M865.5,1048.0781 C865.5,1038.0781 890.2759,1038.0781 890.2759,1038.0781 C890.2759,1038.0781 915.0518,1038.0781 915.0518,1048.0781 L915.0518,1073.375 C915.0518,1083.375 890.2759,1083.375 890.2759,1083.375 C890.2759,1083.375 865.5,1083.375 865.5,1073.375 L865.5,1048.0781" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><path d="M865.5,1048.0781 C865.5,1058.0781 890.2759,1058.0781 890.2759,1058.0781 C890.2759,1058.0781 915.0518,1058.0781 915.0518,1048.0781" fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.5518" x="875.5" y="1075.0732">stats</text></g><!--entity stroom-node-2--><g class="entity" data-qualified-name="shared_storage.stroom-node-2" data-source-line="68" id="ent0033"><path d="M529,1033.5781 L570,1033.5781 A3.75,3.75 0 0 1 572.5,1036.0781 L579.5,1054.5781 L648.0898,1054.5781 A2.5,2.5 0 0 1 650.5898,1057.0781 L650.5898,1085.375 A2.5,2.5 0 0 1 648.0898,1087.875 L529,1087.875 A2.5,2.5 0 0 1 526.5,1085.375 L526.5,1036.0781 A2.5,2.5 0 0 1 529,1033.5781" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="526.5" x2="579.5" y1="1054.5781" y2="1054.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.0898" x="536.5" y="1074.5732">stroom-node-2</text></g><!--entity stroom-node-1--><g class="entity" data-qualified-name="shared_storage.stroom-node-1" data-source-line="69" id="ent0034"><path d="M370,1033.5781 L411,1033.5781 A3.75,3.75 0 0 1 413.5,1036.0781 L420.5,1054.5781 L489.0898,1054.5781 A2.5,2.5 0 0 1 491.5898,1057.0781 L491.5898,1085.375 A2.5,2.5 0 0 1 489.0898,1087.875 L370,1087.875 A2.5,2.5 0 0 1 367.5,1085.375 L367.5,1036.0781 A2.5,2.5 0 0 1 370,1033.5781" fill="#F1F1F1" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="367.5" x2="420.5" y1="1054.5781" y2="1054.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.0898" x="377.5" y="1074.5732">stroom-node-1</text></g><!--entity event_producer--><g class="entity" data-qualified-name="event_producer" data-source-line="12" id="ent0002"><polygon fill="#F1F1F1" points="373.5,76.5781,383.5,66.5781,513.6191,66.5781,513.6191,119.1719,503.6191,129.1719,373.5,129.1719,373.5,76.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="503.6191" x2="513.6191" y1="76.5781" y2="66.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="373.5" x2="503.6191" y1="76.5781" y2="76.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="503.6191" x2="503.6191" y1="76.5781" y2="129.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="83.3164" x="396.9014" y="99.5732">&#171;application&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.1191" x="388.5" y="115.8701">Event generator</text></g><!--entity ui_client_browser--><g class="entity" data-qualified-name="ui_client_browser" data-source-line="13" id="ent0003"><polygon fill="#F1F1F1" points="16,231.5781,26,221.5781,153.1152,221.5781,153.1152,274.1719,143.1152,284.1719,16,284.1719,16,231.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="143.1152" x2="153.1152" y1="231.5781" y2="221.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="16" x2="143.1152" y1="231.5781" y2="231.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="143.1152" x2="143.1152" y1="231.5781" y2="284.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95.1152" x="32" y="254.5732">&#171;web browser&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.1689" x="64.9731" y="270.8701">User</text></g><!--entity api_client_app--><g class="entity" data-qualified-name="api_client_app" data-source-line="14" id="ent0004"><polygon fill="#F1F1F1" points="188,231.5781,198,221.5781,313.3164,221.5781,313.3164,274.1719,303.3164,284.1719,188,284.1719,188,231.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="303.3164" x2="313.3164" y1="231.5781" y2="221.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="188" x2="303.3164" y1="231.5781" y2="231.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="303.3164" x2="303.3164" y1="231.5781" y2="284.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="83.3164" x="204" y="254.5732">&#171;application&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.165" x="216.0757" y="270.8701">API client</text></g><!--entity remote_proxy--><g class="entity" data-qualified-name="remote_proxy" data-source-line="15" id="ent0005"><polygon fill="#F1F1F1" points="348,231.5781,358,221.5781,539.375,221.5781,539.375,274.1719,529.375,284.1719,348,284.1719,348,231.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="529.375" x2="539.375" y1="231.5781" y2="221.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="348" x2="529.375" y1="231.5781" y2="231.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="529.375" x2="529.375" y1="231.5781" y2="284.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="83.3164" x="397.0293" y="254.5732">&#171;application&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.375" x="363" y="270.8701">Upstream Stroom proxy</text></g><!--entity nginx--><g class="entity" data-qualified-name="nginx" data-source-line="17" id="ent0006"><polygon fill="#F1F1F1" points="168,469.5781,178,459.5781,333.4258,459.5781,333.4258,512.1719,323.4258,522.1719,168,522.1719,168,469.5781" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="323.4258" x2="333.4258" y1="469.5781" y2="459.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="168" x2="323.4258" y1="469.5781" y2="469.5781"/><line style="stroke:#181818;stroke-width:0.5;" x1="323.4258" x2="323.4258" y1="469.5781" y2="522.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="82.585" x="204.4204" y="492.5732">&#171;web server&#187;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.4258" x="183" y="508.8701">Nginx load balancer</text></g><!--link log_sender_script_1 to nginx--><g class="link" data-entity-1="ent0011" data-entity-2="ent0006" data-link-type="dependency" data-source-line="26" id="lnk12"><path d="M800.32,491.0781 C680.62,491.0781 460.71,491.0781 339.05,491.0781" fill="none" id="log_sender_script_1-to-nginx" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="333.05,491.0781,342.05,495.0781,338.05,491.0781,342.05,487.0781,333.05,491.0781" style="stroke:#181818;stroke-width:1;"/><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.8135" x="535.8665" y="469.145">HTTPS:443</text><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.0464" x="512.25" y="484.2778">Internal audit data</text></g><!--link nginx to stroom_node_1--><g class="link" data-entity-1="ent0006" data-entity-2="ent0009" data-link-type="dependency" data-source-line="29" id="lnk13"><path d="M333.33,492.5281 C439.1,496.5181 624.65,515.1781 760.5,592.5781 C788.8,608.7081 811.6265,629.6902 830.5465,649.7802" fill="none" id="nginx-to-stroom_node_1" style="stroke:#008000;stroke-width:1;"/><polygon fill="#008000" points="834.66,654.1481,831.4016,644.8539,831.232,650.5082,825.5777,650.3386,834.66,654.1481" style="stroke:#008000;stroke-width:1;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2261" x="771.6628" y="565.645">HTTP:8080</text><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.5518" x="736.5" y="580.7778">Reverse-proxied traffic</text></g><!--link nginx to stroom_proxy_local_1--><g class="link" data-entity-1="ent0006" data-entity-2="ent0010" data-link-type="dependency" data-source-line="30" id="lnk14"><path d="M304.32,459.5581 C429.35,390.8081 746.26,242.4981 976.5,358.5781 C1018.02,379.5081 1043.7492,421.8321 1058.8892,453.9121" fill="none" id="nginx-to-stroom_proxy_local_1" style="stroke:#008000;stroke-width:1;"/><polygon fill="#008000" points="1061.45,459.3381,1061.2262,449.4918,1059.316,454.8164,1053.9914,452.9062,1061.45,459.3381" style="stroke:#008000;stroke-width:1;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2261" x="722.5" y="327.645">HTTP:8080</text><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.9077" x="727.1592" y="342.7778">Datafeed</text></g><!--link stroom_proxy_local_1 to stroom_node_1--><g class="link" data-entity-1="ent0010" data-entity-2="ent0009" data-link-type="dependency" data-source-line="33" id="lnk15"><path d="M1040.75,522.6581 C1000.98,558.6881 939.7467,614.1798 899.8867,650.2898" fill="none" id="stroom_proxy_local_1-to-stroom_node_1" style="stroke:#808080;stroke-width:1;"/><polygon fill="#808080" points="895.44,654.3181,904.7955,651.2401,899.1455,650.9612,899.4244,645.3112,895.44,654.3181" style="stroke:#808080;stroke-width:1;"/><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2261" x="1008.582" y="565.645">HTTP:8080</text><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.3901" x="1006.5" y="580.7778">Feed status</text></g><!--link log_sender_script_2 to nginx--><g class="link" data-entity-1="ent0019" data-entity-2="ent0006" data-link-type="dependency" data-source-line="42" id="lnk20"><path d="M642.54,654.5181 C624.97,633.5081 598.82,606.8981 569.5,592.5781 C546.91,581.5481 537.89,590.6881 513.5,584.5781 C473.13,574.4681 464.72,566.4881 425.5,552.5781 C395.51,541.9381 368.2125,532.4332 339.0525,522.3832" fill="none" id="log_sender_script_2-to-nginx" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="333.38,520.4281,340.5855,527.1424,338.1071,522.0573,343.1922,519.579,333.38,520.4281" style="stroke:#181818;stroke-width:1;"/><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.8135" x="538.1165" y="565.645">HTTPS:443</text><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.0464" x="514.5" y="580.7778">Internal audit data</text></g><!--link nginx to stroom_node_2--><g class="link" data-entity-1="ent0006" data-entity-2="ent0017" data-link-type="dependency" data-source-line="45" id="lnk21"><path d="M237.89,522.7381 C219.24,573.4981 191.29,675.9081 238.5,741.5781 C266.63,780.7081 391.5396,812.2976 470.5196,828.9876" fill="none" id="nginx-to-stroom_node_2" style="stroke:#008000;stroke-width:1;"/><polygon fill="#008000" points="476.39,830.2281,468.4115,824.4538,471.498,829.1944,466.7574,832.2809,476.39,830.2281" style="stroke:#008000;stroke-width:1;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2261" x="274.6628" y="683.145">HTTP:8080</text><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.5518" x="239.5" y="698.2778">Reverse-proxied traffic</text></g><!--link nginx to stroom_proxy_local_2--><g class="link" data-entity-1="ent0006" data-entity-2="ent0018" data-link-type="dependency" data-source-line="46" id="lnk22"><path d="M285.36,522.6581 C326.43,558.6881 389.7697,614.2512 430.9297,650.3612" fill="none" id="nginx-to-stroom_proxy_local_2" style="stroke:#008000;stroke-width:1;"/><polygon fill="#008000" points="435.44,654.3181,431.3125,645.3759,431.6814,651.0207,426.0366,651.3896,435.44,654.3181" style="stroke:#008000;stroke-width:1;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2261" x="354.5" y="565.645">HTTP:8080</text><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.9077" x="359.1592" y="580.7778">Datafeed</text></g><!--link stroom_proxy_local_2 to stroom_node_2--><g class="link" data-entity-1="ent0018" data-entity-2="ent0017" data-link-type="dependency" data-source-line="49" id="lnk23"><path d="M480.69,717.7081 C487.2,736.3981 496.14,760.6581 505.5,781.5781 C509.92,791.4481 512.4062,796.6542 517.4362,806.0842" fill="none" id="stroom_proxy_local_2-to-stroom_node_2" style="stroke:#808080;stroke-width:1;"/><polygon fill="#808080" points="520.26,811.3781,519.5536,801.5546,517.9068,806.9665,512.495,805.3197,520.26,811.3781" style="stroke:#808080;stroke-width:1;"/><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2261" x="508.582" y="762.645">HTTP:8080</text><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.3901" x="506.5" y="777.7778">Feed status</text></g><!--link stroom_node_1 to stroom_node_2--><g class="link" data-entity-1="ent0009" data-entity-2="ent0017" data-link-type="dependency" data-source-line="54" id="lnk24"><path d="M809.8087,720.5842 C793.2587,729.9542 779.28,736.2381 760.5,741.5781 C731.81,749.7381 653.59,737.0881 626.5,749.5781 C597.76,762.8281 577.0937,785.0185 561.2037,806.4485" fill="none" id="stroom_node_1-stroom_node_2" style="stroke:#808080;stroke-width:1;"/><polygon fill="#808080" points="815.03,717.6281,805.2274,718.5814,810.6789,720.0915,809.1688,725.5431,815.03,717.6281" style="stroke:#808080;stroke-width:1;"/><polygon fill="#808080" points="557.63,811.2681,566.2036,806.4211,560.6081,807.2518,559.7774,801.6562,557.63,811.2681" style="stroke:#808080;stroke-width:1;"/><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62.2261" x="675.0059" y="762.645">HTTP:8080</text><text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.2378" x="627.5" y="777.7778">Inter-node communication</text></g><!--link stroom_node_1 to stroom_db--><g class="link" data-entity-1="ent0009" data-entity-2="ent0026" data-link-type="dependency" data-source-line="62" id="lnk28"><path d="M845.95,717.6481 C834.22,742.3081 818.92,778.2681 811.5,811.5781 C793.22,893.6581 794.4326,988.5928 796.1526,1032.0328" fill="none" id="stroom_node_1-to-stroom_db" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="796.39,1038.0281,800.0308,1028.8769,796.1922,1033.032,792.0371,1029.1934,796.39,1038.0281" style="stroke:#181818;stroke-width:1;"/><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.2026" x="812.5" y="847.645">TCP:3306</text></g><!--link stroom_node_1 to stroom_stats_db--><g class="link" data-entity-1="ent0009" data-entity-2="ent0027" data-link-type="dependency" data-source-line="63" id="lnk29"><path d="M865.39,717.7281 C868.48,742.9081 872.73,779.5081 875.5,811.5781 C882.72,895.1581 887.3601,988.9042 889.3001,1031.9942" fill="none" id="stroom_node_1-to-stroom_stats_db" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="889.57,1037.9881,893.1612,1028.8173,889.3451,1032.9932,885.1693,1029.1771,889.57,1037.9881" style="stroke:#181818;stroke-width:1;"/><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.2026" x="883.5" y="847.645">TCP:3306</text></g><!--link stroom_node_2 to stroom_db--><g class="link" data-entity-1="ent0017" data-entity-2="ent0026" data-link-type="dependency" data-source-line="64" id="lnk30"><path d="M544.68,874.7781 C552,898.7281 565.86,930.6781 590.5,947.5781 C618.51,966.7881 635.06,942.7281 666.5,955.5781 C711.66,974.0281 749.7961,1008.7382 773.5461,1033.3782" fill="none" id="stroom_node_2-to-stroom_db" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="777.71,1037.6981,774.3441,1028.4423,774.2401,1034.0982,768.5842,1033.9941,777.71,1037.6981" style="stroke:#181818;stroke-width:1;"/><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.2026" x="591.5" y="943.645">TCP:3306</text></g><!--link stroom_node_2 to stroom_stats_db--><g class="link" data-entity-1="ent0017" data-entity-2="ent0027" data-link-type="dependency" data-source-line="65" id="lnk31"><path d="M598.6,864.6381 C686.21,894.3181 838.11,946.6181 847.5,955.5781 C870.82,977.8381 880.6923,1008.7393 885.6523,1032.0693" fill="none" id="stroom_node_2-to-stroom_stats_db" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="886.9,1037.9381,888.941,1028.3031,885.8602,1033.0474,881.1159,1029.9667,886.9,1037.9381" style="stroke:#181818;stroke-width:1;"/><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.2026" x="827.5" y="943.645">TCP:3306</text></g><!--link stroom_node_1 to shared_storage--><g class="link" data-entity-1="ent0009" data-entity-2="ent0032" data-link-type="dependency" data-source-line="73" id="lnk35"><path d="M815.91,717.6081 C799.2,727.1681 779.67,736.5281 760.5,741.5781 C718.91,752.5381 412.54,731.5381 373.5,749.5781 C310.915,778.5031 300.335,855.0231 305.5638,924.7956 C308.1781,959.6819 314.7447,992.8813 320.7389,1017.6009 C321.4882,1020.6909 322.2285,1023.6484 322.9511,1026.4601 C323.3124,1027.8659 323.6692,1029.2353 324.0205,1030.5666 C324.1083,1030.8995 322.6559,1025.4309 322.743,1025.7589" fill="none" id="stroom_node_1-to-shared_storage" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="324.2829,1031.558,325.839,1021.8328,322.9996,1026.7254,318.107,1023.886,324.2829,1031.558" style="stroke:#181818;stroke-width:1;"/><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.5933" x="317.5" y="847.645">NFS/SMB</text></g><!--link stroom_node_2 to shared_storage--><g class="link" data-entity-1="ent0017" data-entity-2="ent0032" data-link-type="dependency" data-source-line="74" id="lnk36"><path d="M476.47,865.1281 C434.7,882.7581 381.62,912.0881 351.5,955.5781 C348.2088,960.3306 345.4398,965.4881 343.1146,970.879 C343.0419,971.0475 345.3168,965.6943 345.245,965.8632" fill="none" id="stroom_node_2-to-shared_storage" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="342.8979,971.3851,350.0999,964.6671,344.8538,966.7835,342.7374,961.5375,342.8979,971.3851" style="stroke:#181818;stroke-width:1;"/><text fill="#8B0000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.5933" x="370.5" y="943.645">NFS/SMB</text></g><!--link ui_client_browser to nginx--><g class="link" data-entity-1="ent0003" data-entity-2="ent0006" data-link-type="dependency" data-source-line="77" id="lnk37"><path d="M106.2,284.9281 C138.02,330.1581 193.5284,409.0803 225.3384,454.3103" fill="none" id="ui_client_browser-to-nginx" style="stroke:#0000FF;stroke-width:1;"/><polygon fill="#0000FF" points="228.79,459.2181,226.8844,449.5554,225.9137,455.1283,220.3407,454.1575,228.79,459.2181" style="stroke:#0000FF;stroke-width:1;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.8481" x="149.5" y="335.145">HTTPS</text></g><!--link api_client_app to nginx--><g class="link" data-entity-1="ent0004" data-entity-2="ent0006" data-link-type="dependency" data-source-line="78" id="lnk38"><path d="M250.5,284.9281 C250.5,330.1581 250.5,407.9881 250.5,453.2181" fill="none" id="api_client_app-to-nginx" style="stroke:#0000FF;stroke-width:1;"/><polygon fill="#0000FF" points="250.5,459.2181,254.5,450.2181,250.5,454.2181,246.5,450.2181,250.5,459.2181" style="stroke:#0000FF;stroke-width:1;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.8481" x="251.5" y="327.645">HTTPS</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22.731" x="258.5586" y="342.7778">/api</text></g><!--link event_producer to remote_proxy--><g class="link" data-entity-1="ent0002" data-entity-2="ent0005" data-link-type="dependency" data-source-line="79" id="lnk39"><path d="M443.5,129.6681 C443.5,156.3581 443.5,188.8681 443.5,215.5381" fill="none" id="event_producer-to-remote_proxy" style="stroke:#0000FF;stroke-width:1;"/><polygon fill="#0000FF" points="443.5,221.5381,447.5,212.5381,443.5,216.5381,439.5,212.5381,443.5,221.5381" style="stroke:#0000FF;stroke-width:1;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.8481" x="456.7288" y="172.645">HTTPS</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61.3057" x="444.5" y="187.7778">Event data</text></g><!--link remote_proxy to nginx--><g class="link" data-entity-1="ent0005" data-entity-2="ent0006" data-link-type="dependency" data-source-line="80" id="lnk40"><path d="M418.27,284.9281 C381.28,330.1581 316.5284,409.3436 279.5384,454.5736" fill="none" id="remote_proxy-to-nginx" style="stroke:#0000FF;stroke-width:1;"/><polygon fill="#0000FF" points="275.74,459.2181,284.534,454.7836,278.9054,455.3477,278.3413,449.719,275.74,459.2181" style="stroke:#0000FF;stroke-width:1;"/><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.8481" x="452.4346" y="327.645">HTTPS</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.7173" x="392.5" y="342.7778">Feed status and event data</text></g><g class="legend" data-source-line="82"><rect fill="#DDDDDD" height="107.7813" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="203.8672" x="971.6328" y="1128.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="101.7051" x="976.6328" y="1146.5732">Types of traffic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="3.6367" x="976.6328" y="1162.8701">&#160;</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.1689" x="976.6328" y="1179.167">Client</text><text fill="#8B0000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.502" x="976.6328" y="1195.4639">Direct</text><text fill="#008000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193.8672" x="976.6328" y="1211.7607">Reverse-proxied (unencrypted)</text><text fill="#808080" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9414" x="976.6328" y="1228.0576">Internal (unencrypted)</text></g><?plantuml-src pLVRRjiu47tNLt3TXoJ0AXUbABg6Ow29qss1DiZ6tgTj8L3IM6OhaG99EH4M--yTKhGiMNOsDw3DYqFExSmCpv3IJ6VW4VmxcsefH4xUoNZ1DCIwb4vmTdb7yo83ChiL_fL8W5nafT8WoJuNt8y5rvHna4n1GX8eCb7bmFM11pmXsWRmzYOmHnsY5q2ML39HAaAB8cCnrKnmKWYfbVURiXX2ipfxU_psUBqZnLsrsl_ZUEsGPfbroX6N8liAv9B5e7udDDP2uY_e-F30Cs8ok5mYBf82WgKe7H2g29WzupyfOqnfD6h16e-TuT_ersgNB8mpPYmYAMwLDRY5YBXLO_3k-YEf5QqPBHexTByhI8790is9wuJDsPfBo8M6kWWzOsTzbJ9-Hp914nBHZFBO8UPslqPfgcD1UX8RJ7cAJHsuQAwd0_Alfx0sD5sBRCzVdHYHEH1rF2Sp2nl7DSgimnECzuqkgManHbiRVH8npVhvTPgS6PtTBXIUgb2BiBOvL0lh8HDfQ2GWGnLBLcZheFxNv6lizpvoJD1tHuJSN4vd14DbYcZXoeHz8YdLS4ihQxBDhU-FdVQGZ6AH2JcSKFdz1fBnXzdiUZfy_VfqT6G5uozyGyD2u5W3MYPCauHgkj9r86_mG4e5TNK8aejZgx3Jggw13Up_y-fF2S2_8fHktHj8Lcu13Lkawk6grLnCtyHaI68jwNpEuWRPlP6xNNiQW0dMOGwGRDJYSZutoI-XNGUopmxXaB2K2ybuQe3ThPfsOEss0gkHL_UNh7eGu6hy7h6Y6wfBrK3-pzj1dE3Xn0cUJvpWkSG9-iGXBy6Su5TcJl2pcHFygim9TZ4dU47c87VCT9RKZztJ8XPvNd9totaRbykB8ghFjkL89-YweWsjFrVJlpwHgRr5s_n3AeH9f1pDpT6Cg3AKi-AsPXBrLAXMRGsxOVHCJIRddNFSBOE_JZ-9-fIQNLmFJq-FtpHvxBHUXNoaZ-1P288d8cWDsGMLU9YczRgkeTqALofrF-OYmp6qweRjj1yCTefE1hRqpllArV-qeHktbyNL--dHzFFvVOLuf0TlxyA-9pl0-gzJPCfvLiBN_kGrs_NORNnkl58VOzjGoegEq5FZTUE1tVBQUTO-s7dzYE_C_uwZfyDkpIP2yTi5-f6y35BpMIDPkj1uX4RHU5OL-EKXvklP7zaftFPSzwfrAsnqTyBCWxmlttx9x9SSU2ohGaDoiDMeMb-NsvKnXpeJF4WBXgCFya9N98Symb3U3m00?></g></svg>