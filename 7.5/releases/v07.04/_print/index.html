<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.95.0" />
<link rel="canonical" type="text/html" href="../../../releases/v07.04/">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../favicons/android-192x192.png" sizes="192x192">

<title>Version 7.4 | Stroom</title>
<meta name="description" content="Key new features and changes present in v7.4 of Stroom and Stroom-Proxy.
">
<meta property="og:title" content="Version 7.4" />
<meta property="og:description" content="Key new features and changes present in v7.4 of Stroom and Stroom-Proxy.
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/releases/v07.04/" /><meta property="og:site_name" content="Stroom" />

<meta itemprop="name" content="Version 7.4">
<meta itemprop="description" content="Key new features and changes present in v7.4 of Stroom and Stroom-Proxy.
"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Version 7.4"/>
<meta name="twitter:description" content="Key new features and changes present in v7.4 of Stroom and Stroom-Proxy.
"/>




<link rel="preload" href="../../../scss/main.min.e0f103177c6893f3d23285016a8c4130d32ae5054ca6b564c36a29102d219c3c.css" as="style">
<link href="../../../scss/main.min.e0f103177c6893f3d23285016a8c4130d32ae5054ca6b564c36a29102d219c3c.css" rel="stylesheet" integrity="">


<script src='../../../js/jquery-3.6.0.min.js'></script>


<script src='../../../js/lunr.min.js'></script>
  
<link rel="stylesheet" href="../../../css/prism.css"/>
<link rel="stylesheet" href="../../../css/stroom-ui/icon-colours.css"/>
<link rel="stylesheet" href="../../../css/stroom-ui/material_design_colors.css"/>
<link rel="stylesheet" href="../../../css/stroom-ui/theme-root.css"/>
<link rel="stylesheet" href="../../../css/stroom-ui/theme-dark.css"/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-00000000-0', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="../../../"><span class="navbar-brand__logo navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="110.61089" height="30.000004" viewBox="0 0 88.488641 23.999957" id="svg2" inkscape:version="0.91 r13725" sodipodi:docname="logo.svg"><defs id="defs20"/><sodipodi:namedview pagecolor="#989898" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1920" inkscape:window-height="1137" id="namedview18" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:zoom="5.5951814" inkscape:cx="55.451414" inkscape:cy="16.275348" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="svg2"/><g id="g4150" style="opacity:.97000002" transform="matrix(0.03883584,0,0,0.03883584,0,-3.1155874e-4)"><path id="path6" d="M121.99991 205.98497C54.999958 205.98497.0 259.98493.0 327.98487c0 66.99994 54.999958 121.99989 121.99991 121.99989h167.99987c24.99998.0 44.99996 20.99998 44.99996 44.99996.0 24.99998-19.99998 44.99996-44.99996 44.99996H109.20929C65.984126 553.87219 27.100843 581.57313.01093599 617.98462H289.99978c66.99994.0 121.99991-54.99996 121.99991-122.9999.0-66.99994-54.99997-121.99989-121.99991-121.99989H121.99991c-24.999984.0-44.999969-19.99999-44.999969-44.99996.0-24.99998 19.999985-44.99996 44.999969-44.99996h228.79045c26.9905-35.88325 65.47093-63.18547 108.21554-76.99994H121.99991z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path8" d="M601.44485-.00077860649C572.6583 8.3697982 546.49491 22.822962 524.44491 41.902305V205.78969l.002.19528h-.002c-65.11 48e-5-123.03145 30.0199-160.74675 76.99994h160.74675v334.99971h76.99994V282.98491h144.85298c27.16134-36.05885 65.96411-63.39275 109.02184-76.99994H601.44485v-205.98574860649z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path10" d="m919.42586 205.98497c-113.99519.0-205.99537 92.00648-206.00296 205.99982-15e-5 68.67178.0 137.32749.0 205.99983h77.99994c-.012-68.6493.0176-137.46869.0-205.99983.0846-70.92785 57.05747-128.99988 128.00462-128.99988 5.28623.0 10.49823.32864 15.62183.95311 18.2219-24.51229 41.78461-45.0838 68.42501-60.15146-25.65065-11.43799-54.08662-17.80159-84.04684-17.80159z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path12" d="m1109.4153 205.98457c-113.99994.0-205.99983 91.99993-205.99983 205.99984.0 112.9999 91.99989 205.9998 205.99983 205.9998 114 0 205.9999-92.9999 205.9999-205.9998.0-113.99991-91.9999-205.99984-205.9999-205.99984zm0 333.99974c-70.9999.0-128.99994-56.99996-128.99994-127.9999.0-70.99995 58.00004-128.9999 128.99994-128.9999 71 0 128.9999 57.99995 128.9999 128.9999.0 70.99994-57.9999 127.9999-128.9999 127.9999z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path14" d="m1444.4737 205.98457c-113.9999.0-205.9998 91.99993-205.9998 205.99984.0 112.9999 91.9999 205.9998 205.9998 205.9998s205.9999-92.9999 205.9999-205.9998c0-113.99991-92-205.99984-205.9999-205.99984zm0 333.99974c-70.9999.0-128.9999-56.99996-128.9999-127.9999.0-70.99995 58-128.9999 128.9999-128.9999 71 0 128.9999 57.99995 128.9999 128.9999.0 70.99994-57.9999 127.9999-128.9999 127.9999z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path16" d="m1738.5308 379.98447c0-53 43-97 95.9999-97 53 0 97 44 97 97v237.9997h76.9999v-237.9997c0-53 43-97 96.9999-97 53 0 95.9999 44 95.9999 97v237.9997h77v-237.9997c0-96-77-173.9999-172.9999-173.9999-54.9999.0-103.9999 24.99998-135.9999 64.99995-31.9999-39.99997-79.9999-64.99995-134.9999-64.99995-95.9999.0-173.9998 77.9999-173.9998 173.9999v237.9997h77.9999z" style="fill:#fff" inkscape:connector-curvature="0"/></g></svg></span><span class="navbar-brand__name">Stroom</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../../about/about/"><span>About</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../../docs/"><span>Documentation</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link active" href="../../../releases/"><span class="active">Releases Notes</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../../community/"><span>Community</span></a>
      </li>
      <li class="nav-item dropdown mr-4 d-none d-lg-block">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Stroom Version (7.5)
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	
	
	<a class="dropdown-item" href="../../../../">7.6 (Latest)</a>
	
	<a class="dropdown-item" href="../../../">7.5</a>
	
	<a class="dropdown-item" href="../../../../7.4">7.4</a>
	
	<a class="dropdown-item" href="../../../../7.3">7.3</a>
	
	<a class="dropdown-item" href="../../../../7.2">7.2</a>
	
	<a class="dropdown-item" href="../../../../7.1">7.1</a>
	
	<a class="dropdown-item" href="../../../../7.0">7.0</a>
	
	<a class="dropdown-item" href="../../../../legacy">Legacy</a>
	
</div>
</li>
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="../../../offline-search-index.2af5cf141354e68272f18bb45e2b4e2a.json"
    data-offline-search-base-href="../../../"
    data-offline-search-max-results="50"
  >
</div>

  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="../../../releases/v07.04/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Version 7.4</h1>
<div class="lead">Key new features and changes present in v7.4 of Stroom and Stroom-Proxy.</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-625fdbb16bb237b775da7825485b59af">New Features</a></li>


    
  
    
    
	
<li>2: <a href="#pg-37294b2f6db5b6f5743c446760d16673">Preview Features (experimental)</a></li>


    
  
    
    
	
<li>3: <a href="#pg-9d40796fbd6dd154e3187ff851452cf5">Breaking Changes</a></li>


    
  
    
    
	
<li>4: <a href="#pg-efd79778d154f50adaa2e1c1dc12abf8">Upgrade Notes</a></li>


    
  
    
    
	
<li>5: <a href="#pg-ab282e490d7fd3bac3100ba675e6770b">Change Log</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    



<div class="td-content" style="--base-section-num: '1.'; ">
    
  <h1 id="pg-625fdbb16bb237b775da7825485b59af">1 - New Features</h1>
    <div class="lead">New features in Stroom version 7.4.</div>
	<h2 id="scheduler">Scheduler</h2>
<p>The scheduler in Stroom that is used to schedule all the background jobs <span class="stroom-icon inline-svg-button icon-button  icon-colour__grey" >
    <span class="face" title="Jobs"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1024 1408h640v-128h-640v128zm-384-512h1024v-128h-1024v128zm640-512h384v-128h-384v128zm512 832v256q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-512v256q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-512v256q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h1664q26 0 45 19t19 45z"/></svg></span>
  </span> and Analytic Rules <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Analytic rule"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M1333 566q18 20 7 44l-540 1157q-13 25-42 25-4 0-14-2-17-5-25.5-19t-4.5-30l197-808-406 101q-4 1-12 1-18 0-31-11-18-15-13-39l201-825q4-14 16-23t28-9h328q19 0 32 12.5t13 29.5q0 8-5 18l-171 463 396-98q8-2 12-2 19 0 34 15z"/></svg></span>
  </span> has been changed.
The existing <span class="glossary-link">
  <a href="../../../docs/glossary/#cron" title="Glossary entry for cron">
    <span>cron</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>/frequency scheduler was quite simplistic and only supported a limited set of features of a cron schedule.</p>
<p>The cron format has changed from a three value cron expression (e.g. <code>* * *</code> to run every minute) to six value one.
Existing three value cron expressions will be migrated to the new syntax when deploying Stroom v7.4.</p>
<p>For full details of the new scheduler see <a href="../../../docs/user-guide/jobs/scheduler/">Scheduler</a></p>
<p>






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 710px">

  <a title="images/releases/07.04/schedule-icon.png" href="../../../images/releases/07.04/schedule-icon.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/schedule-icon.png" style="max-width:700" alt="images/releases/07.04/schedule-icon.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">New cron schedule format.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/schedule-cron.png" href="../../../images/releases/07.04/schedule-cron.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/schedule-cron.png" style="max-width:300" alt="images/releases/07.04/schedule-cron.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The edit dialog for a cron schedule.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/schedule-freq.png" href="../../../images/releases/07.04/schedule-freq.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/schedule-freq.png" style="max-width:300" alt="images/releases/07.04/schedule-freq.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The edit dialog for a frequency schedule.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

</div></p>
<h2 id="general-user-interface-changes">General User Interface Changes</h2>
<h3 id="keyboard-shortcuts">Keyboard Shortcuts</h3>
<p>Various new keyboard shortcuts for performing actions in Stroom.
See <a href="../../../docs/reference-section/keyboard-shortcuts/">Keyboard Shortcuts</a> for details.</p>
<ul>
<li>Add the keyboard shortcut 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    
      
    

    

    

    

    
      
      
    
      
      
        
          
          
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">Ctrl ^</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">Enter ↵</span>
      </span>
    </span>
 to the code pane of the stepper to perform a <em>step refresh</em> <span class="stroom-icon inline-svg-button icon-button  icon-colour__green" >
    <span class="face" title="Refresh"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1639 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z"/></svg></span>
  </span>.</li>
<li>Add the keyboard shortcut 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    
      
    

    

    

    

    
      
      
    
      
      
        
          
          
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">Ctrl ^</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">Enter ↵</span>
      </span>
    </span>
 to the Dashboards to execute all queries.</li>
<li>Add multiple <em>Goto</em> type shortcuts to jump directly to a screen.
See <a href="../../../docs/reference-section/keyboard-shortcuts/#direct-access-to-screens">Direct Access to Screens</a> for details.</li>
</ul>
<h3 id="documentation">Documentation</h3>
<p>The Documentation <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Documentation"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path style="fill:var(--icon-colour__blue)" d="m 311.60754,227.97375 c -92.11457,0 -167.00657,74.892 -167.00657,167.00656 V 1397.0197 c 0,92.1146 74.892,167.0065 167.00657,167.0065 h 668.02617 c 92.11459,0 167.00659,-74.8919 167.00659,-167.0065 v -50.3629 c -7.0457,2.8703 -14.0912,5.2189 -21.3977,7.0456 l -156.82959,39.1421 c -7.8284,1.8267 -15.6569,3.1313 -23.4853,3.6533 -2.3485,0.261 -4.6971,0.5218 -7.0456,0.5218 H 770.87557 c -15.91782,0 -30.26994,-8.8723 -37.31554,-22.9633 l -22.9634,-46.1877 c -4.43611,-8.8723 -13.30833,-14.3523 -22.9634,-14.3523 -9.65506,0 -18.78824,5.48 -22.9634,14.3523 l -22.9634,46.1877 c -7.56748,15.3959 -24.00719,24.5292 -40.96879,22.9633 -16.96161,-1.5656 -31.57469,-13.3082 -36.27174,-29.4872 l -44.10017,-145.3478 -25.57288,85.5908 c -15.91781,52.9724 -64.71504,89.2442 -120.03596,89.2442 h -21.39772 c -22.9634,0 -41.75163,-18.7882 -41.75163,-41.7516 0,-22.9635 18.78823,-41.7517 41.75163,-41.7517 h 21.39772 c 18.52729,0 34.70604,-12.0037 39.925,-29.7481 l 38.88122,-129.1691 c 8.87222,-29.4871 36.01079,-49.841 66.80262,-49.841 30.79184,0 57.9304,20.3539 66.80262,49.841 l 30.26994,100.7258 c 19.31013,-16.1788 43.83922,-25.3119 69.93399,-25.3119 41.4907,0 79.32812,23.4853 97.85541,60.5399 l 11.4817,22.9634 h 23.22435 c -8.08938,-22.9634 -9.65507,-48.0144 -3.65327,-72.5435 l 39.14217,-156.8296 c 7.30653,-29.4871 22.4415,-56.1036 43.83917,-77.5014 L 1146.6403,759.26336 V 645.49014 H 812.62721 c -46.18775,0 -83.50329,-37.31553 -83.50329,-83.50328 V 227.97375 Z m 501.01967,0 v 334.01311 h 334.01309 z m 766.66449,364.544 c -40.7079,-40.70785 -106.7277,-40.70785 -147.6965,0 l -76.7186,76.71863 185.2729,185.27291 76.7186,-76.71864 c 40.7079,-40.70785 40.7079,-106.72763 0,-147.69642 z M 958.49701,1065.6161 c -10.6989,10.6989 -18.2664,24.007 -21.9196,38.8811 l -39.1422,156.8296 c -3.6533,14.3522 0.5219,29.2263 10.9598,39.6641 10.4379,10.4379 25.312,14.6131 39.6641,10.9599 l 156.82949,-39.1422 c 14.6131,-3.6532 28.1824,-11.2208 38.8812,-21.9196 L 1480.9143,913.48345 1295.6415,728.21058 Z" /></svg> </span>
  </span> entity will now default to edit mode if there is no documentation, e.g. on a newly created Documentation entity.</p>
<h3 id="copy-as">Copy As</h3>
<p>A <em>Copy As</em> group has been added to the explorer tree context menu.
This replaces, but includes the <em>Copy Link to Clipboard</em> menu item.</p>
<ul>
<li>Copy Name to Clipboard - Copies the name of the entity to the clipboard.</li>
<li>Copy UUID to Clipboard - Copies the <span class="glossary-link">
  <a href="../../../docs/glossary/#uuid" title="Glossary entry for UUID">
    <span>UUID</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> of the entity to the clipboard.</li>
<li>Copy link to Clipboard - Copies a URL to the clipboard that will link directly to the selected entity.</li>
</ul>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/copy-as.png" href="../../../images/releases/07.04/copy-as.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/copy-as.png" style="max-width:300" alt="images/releases/07.04/copy-as.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Copy explorer tree entities as name/UUID/link</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h3 id="api-specification-link">API Specification Link</h3>
<p>Previous versions of Stroom have included an interactive user interface for navigating Stroom&rsquo;s <span class="glossary-link">
  <a href="../../../docs/glossary/#api" title="Glossary entry for API">
    <span>API</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> specification.
A link to this has been added to the Help menu.</p>
<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/api-link.png" href="../../../images/releases/07.04/api-link.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/api-link.png" style="max-width:300" alt="images/releases/07.04/api-link.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Help menu item to the API specification.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/swagger.png" href="../../../images/releases/07.04/swagger.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/swagger.png" style="max-width:300" alt="images/releases/07.04/swagger.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Swagger user interface.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

</div>
<h3 id="dashboard-conditional-formatting">Dashboard Conditional Formatting</h3>
<ul>
<li>Make the <em>Enabled</em> and <em>Hide Row</em> checkboxes clickable in the table without having open the rule edit dialog.</li>
<li>Dim disabled rules in the table.</li>
<li>Add colour swatches for the background and text colours.</li>
</ul>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.04/conditional-formatting.png" href="../../../images/releases/07.04/conditional-formatting.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/conditional-formatting.png" style="max-width:400" alt="images/releases/07.04/conditional-formatting.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Clickable checkboxes and colour swatches.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h3 id="help-icons-on-dialogs">Help Icons on Dialogs</h3>
<p>Functionality has been added to included help icons <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Help"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__info-blue)" d="m 1664,896 c 0,139.3333 -34.3333,267.8333 -103,385.5 -68.6667,117.6667 -161.8333,210.8333 -279.5,279.5 -117.6667,68.6667 -246.1667,103 -385.5,103 -139.33333,0 -267.83333,-34.3333 -385.5,-103 C 392.83333,1492.3333 299.66667,1399.1667 231,1281.5 162.33333,1163.8333 128,1035.3333 128,896 128,756.66667 162.33333,628.16667 231,510.5 299.66667,392.83333 392.83333,299.66667 510.5,231 628.16667,162.33333 756.66667,128 896,128 c 139.3333,0 267.8333,34.33333 385.5,103 117.6667,68.66667 210.8333,161.83333 279.5,279.5 68.6667,117.66667 103,246.16667 103,385.5 z"/><path style="fill:#fff" d="m 1024,1376 0,-192 c 0,-9.3333 -3,-17 -9,-23 -6,-6 -13.6667,-9 -23,-9 l -192,0 c -9.33333,0 -17,3 -23,9 -6,6 -9,13.6667 -9,23 l 0,192 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 z m 256,-672 c 0,-58.66667 -18.5,-113 -55.5,-163 -37,-50 -83.1667,-88.66667 -138.5,-116 -55.3333,-27.33333 -112,-41 -170,-41 -162,0 -285.66667,71 -371,213 -10,16 -7.33333,30 8,42 l 132,100 c 4.66667,4 11,6 19,6 10.66667,0 19,-4 25,-12 35.33333,-45.33333 64,-76 86,-92 22.66667,-16 51.33333,-24 86,-24 32,0 60.5,8.66667 85.5,26 25,17.33333 37.5,37 37.5,59 0,25.33333 -6.6667,45.66667 -20,61 -13.33333,15.33333 -36,30.33333 -68,45 -42,18.66667 -80.5,47.5 -115.5,86.5 -35,39 -52.5,80.83333 -52.5,125.5 l 0,36 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 0,-12.6667 7.1667,-29.1667 21.5,-49.5 14.3333,-20.33333 32.5,-36.83333 54.5,-49.5 21.3333,-12 37.6667,-21.5 49,-28.5 11.3333,-7 26.6667,-18.66667 46,-35 19.3333,-16.33333 34.1667,-32.33333 44.5,-48 10.3333,-15.66667 19.6667,-35.83333 28,-60.5 8.3333,-24.66667 12.5,-51.66667 12.5,-81 z"/></svg> </span>
  </span> on dialogs.
Clicking the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Help"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__info-blue)" d="m 1664,896 c 0,139.3333 -34.3333,267.8333 -103,385.5 -68.6667,117.6667 -161.8333,210.8333 -279.5,279.5 -117.6667,68.6667 -246.1667,103 -385.5,103 -139.33333,0 -267.83333,-34.3333 -385.5,-103 C 392.83333,1492.3333 299.66667,1399.1667 231,1281.5 162.33333,1163.8333 128,1035.3333 128,896 128,756.66667 162.33333,628.16667 231,510.5 299.66667,392.83333 392.83333,299.66667 510.5,231 628.16667,162.33333 756.66667,128 896,128 c 139.3333,0 267.8333,34.33333 385.5,103 117.6667,68.66667 210.8333,161.83333 279.5,279.5 68.6667,117.66667 103,246.16667 103,385.5 z"/><path style="fill:#fff" d="m 1024,1376 0,-192 c 0,-9.3333 -3,-17 -9,-23 -6,-6 -13.6667,-9 -23,-9 l -192,0 c -9.33333,0 -17,3 -23,9 -6,6 -9,13.6667 -9,23 l 0,192 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 z m 256,-672 c 0,-58.66667 -18.5,-113 -55.5,-163 -37,-50 -83.1667,-88.66667 -138.5,-116 -55.3333,-27.33333 -112,-41 -170,-41 -162,0 -285.66667,71 -371,213 -10,16 -7.33333,30 8,42 l 132,100 c 4.66667,4 11,6 19,6 10.66667,0 19,-4 25,-12 35.33333,-45.33333 64,-76 86,-92 22.66667,-16 51.33333,-24 86,-24 32,0 60.5,8.66667 85.5,26 25,17.33333 37.5,37 37.5,59 0,25.33333 -6.6667,45.66667 -20,61 -13.33333,15.33333 -36,30.33333 -68,45 -42,18.66667 -80.5,47.5 -115.5,86.5 -35,39 -52.5,80.83333 -52.5,125.5 l 0,36 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 0,-12.6667 7.1667,-29.1667 21.5,-49.5 14.3333,-20.33333 32.5,-36.83333 54.5,-49.5 21.3333,-12 37.6667,-21.5 49,-28.5 11.3333,-7 26.6667,-18.66667 46,-35 19.3333,-16.33333 34.1667,-32.33333 44.5,-48 10.3333,-15.66667 19.6667,-35.83333 28,-60.5 8.3333,-24.66667 12.5,-51.66667 12.5,-81 z"/></svg> </span>
  </span> icon will display a popup containing help text relating to the thing the icon is next to.</p>
<p>Currently help icons have only been added to a few dialogs, but more will follow.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.04/help-icons.png" href="../../../images/releases/07.04/help-icons.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/help-icons.png" style="max-width:400" alt="images/releases/07.04/help-icons.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Help icons on dialogs.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h3 id="stepping-location">Stepping Location</h3>
<p>The way you change the step location in the stepper <span class="stroom-icon inline-svg-button icon-button  icon-colour__green" >
    <span class="face" title="Stepper"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path style="fill:currentColor" d="m 400,75.977968 0,360.000002 c 0,6.6 -5.4,12 -12,12 l -40,0 c -6.6,0 -12,-5.4 -12,-12 l 0,-151.9 -171.5,156.5 c -20.6,17.2 -52.5,2.8 -52.5,-24.6 0,-202.11605 0,-87.47785 0,-320.000002 0,-27.399997 31.9,-41.699997 52.5,-24.6 L 336,226.77797 336,75.977968 c 0,-6.599997 5.4,-11.999997 12,-11.999997 l 40,0 c 6.6,0 12,5.4 12,11.999997 z" /></svg> </span>
  </span> has changed.
Previously you could click and then directly edit each of the three numbers.
Now the location label is a clickable link that opens an edit dialog.</p>
<p>






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.04/step-location-link.png" href="../../../images/releases/07.04/step-location-link.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/step-location-link.png" style="max-width:200" alt="images/releases/07.04/step-location-link.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Modified step location label.</figcaption>
      </div>
      
    </figure>
  </a>
</div>








  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.04/step-location-dialog.png" href="../../../images/releases/07.04/step-location-dialog.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/step-location-dialog.png" style="max-width:200" alt="images/releases/07.04/step-location-dialog.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Step location edit dialog.</figcaption>
      </div>
      
    </figure>
  </a>
</div>
</p>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '2.'; page-break-before: always">
    
  <h1 id="pg-37294b2f6db5b6f5743c446760d16673">2 - Preview Features (experimental)</h1>
    <div class="lead">Preview features in Stroom version 7.4. Preview features are somewhat experimental in nature and are therefore subject to breaking changes in future releases.</div>
	<h2 id="analytic-rules">Analytic Rules</h2>
<p>Analytic Rules were introduced in Stroom v7.2 as a preview feature.
They remain an experimental preview feature but have undergone more changes/improvements.</p>
<p>Analytic rules are a means of writing a query to find matching data.</p>
<h3 id="processing-types">Processing Types</h3>
<p>Analytic rules have three different processing types:</p>
<h4 id="streaming">Streaming</h4>
<p>A streaming rule uses a processor filter to find streams that match the filter and runs the query against the stream.</p>
<h4 id="scheduled-query">Scheduled Query</h4>
<p>A scheduled query will run the rule&rsquo;s query against a time window of data on a scheduled basis.
The time window can be absolute or relative to when the scheduled query fires.</p>
<h4 id="table-builder">Table Builder</h4>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Complete

</div>

<h3 id="multiple-notifications">Multiple Notifications</h3>
<p>Rules now support having multiple notification types/destinations, for example sending an email as well a <span class="glossary-link">
  <a href="../../../docs/glossary/#stream" title="Glossary entry for stream">
    <span>stream</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>.
Currently Email and Stream are the only notification types supported.</p>
<h3 id="email-templating">Email Templating</h3>
<p>The email notifications have been improved to allow templating of the email subject and body.
The template enables static text/HTML to be mixed with values taken from the detection.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/email-notifications.png" href="../../../images/releases/07.04/email-notifications.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/email-notifications.png" style="max-width:300" alt="images/releases/07.04/email-notifications.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Email notification settings.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<p>The templating uses a template syntax called <em>jinja</em> and specifically the JinJava library.
The templating syntax includes support for variables, filters, condition blocks, loops, etc.
Full details of the syntax see <a href="../../../docs/reference-section/templating/">Templating</a> and for details of the templating context available in email subject/body templates see <a href="../../../docs/reference-section/templating/#rule-detections-context">Rule Detections Context</a>.</p>
<h4 id="example-template">Example Template</h4>
<p>The following is an example of a detection template producing a HTML email body that includes conditions and loops:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;meta charset=&quot;UTF-8&quot; /&gt;
&lt;title&gt;Detector '{{ detectorName | escape }}' Alert&lt;/title&gt;
&lt;body&gt;
  &lt;p&gt;Detector &lt;em&gt;{{ detectorName | escape }}&lt;/em&gt; {{ detectorVersion | escape }} fired at {{ detectTime | escape }}&lt;/p&gt;

  {%- if (values | length) &gt; 0 -%}
  &lt;p&gt;Detail: {{ headline | escape }}&lt;/p&gt;
  &lt;ul&gt;
    {% for key, val in values | dictsort -%}
      &lt;li&gt;&lt;strong&gt;{{ key | escape }}&lt;/strong&gt;: {{ val | escape }}&lt;/li&gt;
    {% endfor %}
  &lt;/ul&gt;
  {% endif -%}

  {%- if (linkedEvents | length) &gt; 0 -%}
  &lt;p&gt;Linked Events:&lt;/p&gt;
  &lt;ul&gt;
    {% for linkedEvent in linkedEvents -%}
      &lt;li&gt;Environment: {{ linkedEvent.stroom | escape }}, Stream ID: {{ linkedEvent.streamId | escape }}, Event ID: {{ linkedEvent.eventId | escape }}&lt;/li&gt;
    {% endfor %}
  &lt;/ul&gt;
  {% endif %}
&lt;/body&gt;
</code></pre>
<h3 id="improved-date-picker">Improved Date Picker</h3>
<p>Scheduled queries make use of a new data picker dialog which makes the process of setting a date/time value much easier for the user.
This new date picker will be rolled out to other screens in Stroom in some later release.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/date-picker.png" href="../../../images/releases/07.04/date-picker.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../../images/releases/07.04/date-picker.png" style="max-width:300" alt="images/releases/07.04/date-picker.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">New date picker</figcaption>
      </div>
      
    </figure>
  </a>
</div>


</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '3.'; page-break-before: always">
    
  <h1 id="pg-9d40796fbd6dd154e3187ff851452cf5">3 - Breaking Changes</h1>
    <div class="lead">Changes in Stroom version 7.4 that may break existing processing or ways of working.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of the changes affect you.

</div>


<h2 id="analytic-rules">Analytic Rules</h2>
<p>Any Analytic Rules <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Analytic rule"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M1333 566q18 20 7 44l-540 1157q-13 25-42 25-4 0-14-2-17-5-25.5-19t-4.5-30l197-808-406 101q-4 1-12 1-18 0-31-11-18-15-13-39l201-825q4-14 16-23t28-9h328q19 0 32 12.5t13 29.5q0 8-5 18l-171 463 396-98q8-2 12-2 19 0 34 15z"/></svg></span>
  </span> created in versions 7.2 or 7.3 will need to be deleted and re-created in v7.4.
Analytic Rules has been an experimental feature therefore there is no migration in place for rules from previous versions of Stroom.</p>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '4.'; page-break-before: always">
    
  <h1 id="pg-efd79778d154f50adaa2e1c1dc12abf8">4 - Upgrade Notes</h1>
    <div class="lead">Required actions and information relating to upgrading to Stroom version 7.4.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of it is relevant to your Stroom instance.

</div>


<h2 id="java-version">Java Version</h2>
<p>Stroom v7.5 requires Java 21.
This is the same java version as Stroom v7.3.
Ensure the Stroom and Stroom-Proxy hosts are running the latest patch release of Java v21.</p>
<h2 id="database-migrations">Database Migrations</h2>
<p>When Stroom boots for the first time with a new version it will run any required database migrations to bring the database schema up to the correct version.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    It is highly recommended to ensure you have a database backup in place before booting stroom with a new version.
This is to mitigate against any problems with the migration.
It is also recommended to test the migration against a copy of your database to ensure that there are no problems when you do it for real.

</div>


<p>On boot, Stroom will ensure that the migrations are only run by a single node in the cluster.
This will be the node that reaches that point in the boot process first.
All other nodes will wait until that is complete before proceeding with the boot process.</p>
<p>It is recommended however to use a single node to execute the migration.
To avoid Stroom starting up and beginning processing you can use the <code>migrage</code> command to just migrate the database and not fully boot Stroom.
See <a href="../../../docs/user-guide/tools/command-line/#migrate"><code>migrage</code> command</a> for more details.</p>
<h3 id="migration-filename-change">Migration Filename Change</h3>
<p>If you are deploying onto a v7.4-beta.1 instance you will need to modify the database table used to log migration history.
If the <code>job_schema_history</code> table contains version <code>07.03.00.001</code> then you will need to run the following SQL against the database to prevent Stroom from failing the migration on boot.</p>


<div class="code-toolbar">
  <pre 
    class="command-line language-sql" 
    data-prompt="mysql>" 
    data-filter-output="(out)"
    data-continuation-prompt="->"
    data-filter-continuation="(con)"><code class="language-sql">delete from job_schema_history where version = &#39;07.03.00.001&#39;;</code></pre>
</div>

<h3 id="migration-scripts">Migration Scripts</h3>
<!--
#############################################################################################
#                                                                                           #
#  This section is auto-generated by TestListDbMigrations.listDbMigrationsForLatestVersion  #
#                                                                                           #
#############################################################################################
-->
<p>For information purposes only, the following are the database migrations that will be run when upgrading to 7.4.0 from the previous minor version.</p>
<p>Note, the <code>legacy</code> module will run first (if present) then the other module will run in no particular order.</p>
<h4 id="module-stroom-analytics">Module <code>stroom-analytics</code></h4>
<h5 id="script-v07_04_00_001__execution_schedulesql">Script <code>V07_04_00_001__execution_schedule.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-analytics/stroom-analytics-impl-db/src/main/resources/stroom/analytics/impl/db/migration/V07_04_00_001__execution_schedule.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

-- --------------------------------------------------

--
-- Create the table
--
CREATE TABLE IF NOT EXISTS execution_schedule (
   id int NOT NULL AUTO_INCREMENT,
   name varchar(255) NOT NULL,
   enabled tinyint NOT NULL DEFAULT '0',
   node_name varchar(255) NOT NULL,
   schedule_type varchar(255) NOT NULL,
   expression varchar(255) NOT NULL,
   contiguous tinyint NOT NULL DEFAULT '0',
   start_time_ms bigint DEFAULT NULL,
   end_time_ms bigint DEFAULT NULL,
   doc_type varchar(255) NOT NULL,
   doc_uuid varchar(255) NOT NULL,
   PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

CREATE INDEX execution_schedule_doc_idx ON execution_schedule (doc_type, doc_uuid);
CREATE INDEX execution_schedule_enabled_idx ON execution_schedule (doc_type, doc_uuid, enabled, node_name);

CREATE TABLE IF NOT EXISTS execution_history (
   id bigint(20) NOT NULL AUTO_INCREMENT,
   fk_execution_schedule_id int NOT NULL,
   execution_time_ms bigint NOT NULL,
   effective_execution_time_ms bigint NOT NULL,
   status varchar(255) NOT NULL,
   message longtext,
   PRIMARY KEY (id),
   CONSTRAINT execution_history_execution_schedule_id FOREIGN KEY (fk_execution_schedule_id) REFERENCES execution_schedule (id)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

CREATE TABLE IF NOT EXISTS execution_tracker (
   fk_execution_schedule_id int NOT NULL,
   actual_execution_time_ms bigint NOT NULL,
   last_effective_execution_time_ms bigint DEFAULT NULL,
   next_effective_execution_time_ms bigint NOT NULL,
   PRIMARY KEY (fk_execution_schedule_id),
   CONSTRAINT execution_tracker_execution_schedule_id FOREIGN KEY (fk_execution_schedule_id) REFERENCES execution_schedule (id)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

-- --------------------------------------------------

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set shiftwidth=2 tabstop=2 expandtab:

</code></pre>
<h4 id="module-stroom-job">Module <code>stroom-job</code></h4>
<h5 id="script-v07_04_00_005__job_nodesql">Script <code>V07_04_00_005__job_node.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-job/stroom-job-impl-db/src/main/resources/stroom/job/impl/db/migration/V07_04_00_005__job_node.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

update job_node set schedule = concat('0 ', schedule, ' * ?') where job_type = 1 and regexp_like(schedule, '^[^ ]+ [^ ]+ [^ ]+$');

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set tabstop=4 shiftwidth=4 expandtab:

</code></pre>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '5.'; page-break-before: always">
    
  <h1 id="pg-ab282e490d7fd3bac3100ba675e6770b">5 - Change Log</h1>
    <div class="lead">Link to the full CHANGELOG.</div>
	<p>For a detailed list of all the changes in v7.4 see:








  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/7.4/CHANGELOG.md" target="_blank" class="" style="" title="v7.4 CHANGELOG (external link to https://github.com/gchq/stroom/blob/7.4/CHANGELOG.md)">
    <span>v7.4 CHANGELOG</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</p>

</div>




    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/gchq/stroom" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2024 Crown Copyright All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    

<script src='../../../js/popper.min.js'></script>
<script src='../../../js/bootstrap.min.js'></script>






<script src='../../../js/tabpane-persist.js'></script>




















<script src="../../../js/main.min.cbc1d428d83561c4dec32da9374290554119d7483329f849251cb7153b2ecd07.js" integrity="sha256-y8HUKNg1YcTewy2pN0KQVUEZ10gzKfhJJRy3FTsuzQc=" crossorigin="anonymous"></script>



<script src='../../../js/prism.js'></script>



  </body>
</html>
