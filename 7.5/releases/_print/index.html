<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.95.0" />
<link rel="canonical" type="text/html" href="../../releases/">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../favicons/android-192x192.png" sizes="192x192">

<title>Release Notes | Stroom</title>
<meta name="description" content="This section contains the release notes for the major and minor Stroom release versions.
">
<meta property="og:title" content="Release Notes" />
<meta property="og:description" content="This section contains the release notes for the major and minor Stroom release versions.
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/releases/" /><meta property="og:site_name" content="Stroom" />

<meta itemprop="name" content="Release Notes">
<meta itemprop="description" content="This section contains the release notes for the major and minor Stroom release versions.
"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Release Notes"/>
<meta name="twitter:description" content="This section contains the release notes for the major and minor Stroom release versions.
"/>




<link rel="preload" href="../../scss/main.min.e0f103177c6893f3d23285016a8c4130d32ae5054ca6b564c36a29102d219c3c.css" as="style">
<link href="../../scss/main.min.e0f103177c6893f3d23285016a8c4130d32ae5054ca6b564c36a29102d219c3c.css" rel="stylesheet" integrity="">


<script src='../../js/jquery-3.6.0.min.js'></script>


<script src='../../js/lunr.min.js'></script>
  
<link rel="stylesheet" href="../../css/prism.css"/>
<link rel="stylesheet" href="../../css/stroom-ui/icon-colours.css"/>
<link rel="stylesheet" href="../../css/stroom-ui/material_design_colors.css"/>
<link rel="stylesheet" href="../../css/stroom-ui/theme-root.css"/>
<link rel="stylesheet" href="../../css/stroom-ui/theme-dark.css"/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-00000000-0', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="../../"><span class="navbar-brand__logo navbar-logo"><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="110.61089" height="30.000004" viewBox="0 0 88.488641 23.999957" id="svg2" inkscape:version="0.91 r13725" sodipodi:docname="logo.svg"><defs id="defs20"/><sodipodi:namedview pagecolor="#989898" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1920" inkscape:window-height="1137" id="namedview18" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:zoom="5.5951814" inkscape:cx="55.451414" inkscape:cy="16.275348" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="svg2"/><g id="g4150" style="opacity:.97000002" transform="matrix(0.03883584,0,0,0.03883584,0,-3.1155874e-4)"><path id="path6" d="M121.99991 205.98497C54.999958 205.98497.0 259.98493.0 327.98487c0 66.99994 54.999958 121.99989 121.99991 121.99989h167.99987c24.99998.0 44.99996 20.99998 44.99996 44.99996.0 24.99998-19.99998 44.99996-44.99996 44.99996H109.20929C65.984126 553.87219 27.100843 581.57313.01093599 617.98462H289.99978c66.99994.0 121.99991-54.99996 121.99991-122.9999.0-66.99994-54.99997-121.99989-121.99991-121.99989H121.99991c-24.999984.0-44.999969-19.99999-44.999969-44.99996.0-24.99998 19.999985-44.99996 44.999969-44.99996h228.79045c26.9905-35.88325 65.47093-63.18547 108.21554-76.99994H121.99991z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path8" d="M601.44485-.00077860649C572.6583 8.3697982 546.49491 22.822962 524.44491 41.902305V205.78969l.002.19528h-.002c-65.11 48e-5-123.03145 30.0199-160.74675 76.99994h160.74675v334.99971h76.99994V282.98491h144.85298c27.16134-36.05885 65.96411-63.39275 109.02184-76.99994H601.44485v-205.98574860649z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path10" d="m919.42586 205.98497c-113.99519.0-205.99537 92.00648-206.00296 205.99982-15e-5 68.67178.0 137.32749.0 205.99983h77.99994c-.012-68.6493.0176-137.46869.0-205.99983.0846-70.92785 57.05747-128.99988 128.00462-128.99988 5.28623.0 10.49823.32864 15.62183.95311 18.2219-24.51229 41.78461-45.0838 68.42501-60.15146-25.65065-11.43799-54.08662-17.80159-84.04684-17.80159z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path12" d="m1109.4153 205.98457c-113.99994.0-205.99983 91.99993-205.99983 205.99984.0 112.9999 91.99989 205.9998 205.99983 205.9998 114 0 205.9999-92.9999 205.9999-205.9998.0-113.99991-91.9999-205.99984-205.9999-205.99984zm0 333.99974c-70.9999.0-128.99994-56.99996-128.99994-127.9999.0-70.99995 58.00004-128.9999 128.99994-128.9999 71 0 128.9999 57.99995 128.9999 128.9999.0 70.99994-57.9999 127.9999-128.9999 127.9999z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path14" d="m1444.4737 205.98457c-113.9999.0-205.9998 91.99993-205.9998 205.99984.0 112.9999 91.9999 205.9998 205.9998 205.9998s205.9999-92.9999 205.9999-205.9998c0-113.99991-92-205.99984-205.9999-205.99984zm0 333.99974c-70.9999.0-128.9999-56.99996-128.9999-127.9999.0-70.99995 58-128.9999 128.9999-128.9999 71 0 128.9999 57.99995 128.9999 128.9999.0 70.99994-57.9999 127.9999-128.9999 127.9999z" style="fill:#fff" inkscape:connector-curvature="0"/><path id="path16" d="m1738.5308 379.98447c0-53 43-97 95.9999-97 53 0 97 44 97 97v237.9997h76.9999v-237.9997c0-53 43-97 96.9999-97 53 0 95.9999 44 95.9999 97v237.9997h77v-237.9997c0-96-77-173.9999-172.9999-173.9999-54.9999.0-103.9999 24.99998-135.9999 64.99995-31.9999-39.99997-79.9999-64.99995-134.9999-64.99995-95.9999.0-173.9998 77.9999-173.9998 173.9999v237.9997h77.9999z" style="fill:#fff" inkscape:connector-curvature="0"/></g></svg></span><span class="navbar-brand__name">Stroom</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../about/about/"><span>About</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../docs/"><span>Documentation</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link active" href="../../releases/"><span class="active">Releases Notes</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="../../community/"><span>Community</span></a>
      </li>
      <li class="nav-item dropdown mr-4 d-none d-lg-block">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	Stroom Version (7.5)
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	
	
	<a class="dropdown-item" href="../../../">7.6 (Latest)</a>
	
	<a class="dropdown-item" href="../../">7.5</a>
	
	<a class="dropdown-item" href="../../../7.4">7.4</a>
	
	<a class="dropdown-item" href="../../../7.3">7.3</a>
	
	<a class="dropdown-item" href="../../../7.2">7.2</a>
	
	<a class="dropdown-item" href="../../../7.1">7.1</a>
	
	<a class="dropdown-item" href="../../../7.0">7.0</a>
	
	<a class="dropdown-item" href="../../../legacy">Legacy</a>
	
</div>
</li>
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="../../offline-search-index.985fb82628efb6fbf01b6171f63b18d4.json"
    data-offline-search-base-href="../../"
    data-offline-search-max-results="50"
  >
</div>

  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="../../releases/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Release Notes</h1>
<div class="lead">This section contains the release notes for the major and minor Stroom release versions.</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-e50fcb18eeaa0c251990cad82312e15d">Unreleased</a></li>


    
  
    
    
	
<li>2: <a href="#pg-ae74892c7978974337f8a6d4538f22ac">Version 7.5</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.1: <a href="#pg-5faeda1b75cde298d6f7e132db8caaad">New Features</a></li>


    
  
    
    
	
<li>2.2: <a href="#pg-0da87286cf54892289a68c1a3b99f448">Preview Features (experimental)</a></li>


    
  
    
    
	
<li>2.3: <a href="#pg-a6c72e6258e2c345d4c4e52ba2819b79">Breaking Changes</a></li>


    
  
    
    
	
<li>2.4: <a href="#pg-237cc48cb817921fda081fb62e8340b3">Upgrade Notes</a></li>


    
  
    
    
	
<li>2.5: <a href="#pg-4e041f40f647aa7836edab82113d7375">Change Log</a></li>


    
  

    </ul>
    
  
    
    
	
<li>3: <a href="#pg-b83769ae5686f392da930688e13d2435">Version 7.4</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1: <a href="#pg-625fdbb16bb237b775da7825485b59af">New Features</a></li>


    
  
    
    
	
<li>3.2: <a href="#pg-37294b2f6db5b6f5743c446760d16673">Preview Features (experimental)</a></li>


    
  
    
    
	
<li>3.3: <a href="#pg-9d40796fbd6dd154e3187ff851452cf5">Breaking Changes</a></li>


    
  
    
    
	
<li>3.4: <a href="#pg-efd79778d154f50adaa2e1c1dc12abf8">Upgrade Notes</a></li>


    
  
    
    
	
<li>3.5: <a href="#pg-ab282e490d7fd3bac3100ba675e6770b">Change Log</a></li>


    
  

    </ul>
    
  
    
    
	
<li>4: <a href="#pg-2358d9e0b9500722f2c0f337a65e19c6">Version 7.3</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.1: <a href="#pg-dfcd046ddb96d24807a393379db9a699">New Features</a></li>


    
  
    
    
	
<li>4.2: <a href="#pg-19c88188f3dbf89c3a5a3fa974883433">Preview Features (experimental)</a></li>


    
  
    
    
	
<li>4.3: <a href="#pg-a7a884b9277d2d1671812b8de5f4ae23">Breaking Changes</a></li>


    
  
    
    
	
<li>4.4: <a href="#pg-e0a603b7f85bc86392f49c53a4d4e2c6">Upgrade Notes</a></li>


    
  
    
    
	
<li>4.5: <a href="#pg-3557f878171ee03337ebbb97b108f394">Change Log</a></li>


    
  

    </ul>
    
  
    
    
	
<li>5: <a href="#pg-16243fb705115bc5ee1029385a86c967">Version 7.2</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1: <a href="#pg-6c846b813065f8297a59c5faf0f7060c">New Features</a></li>


    
  
    
    
	
<li>5.2: <a href="#pg-8f37d37e6fb066fc964b613e0b57ef05">Preview Features (experimental)</a></li>


    
  
    
    
	
<li>5.3: <a href="#pg-8203da199677107de56b4d34b927f5b9">Breaking Changes</a></li>


    
  
    
    
	
<li>5.4: <a href="#pg-0e6947c5f46b855167478512045d7632">Upgrade Notes</a></li>


    
  
    
    
	
<li>5.5: <a href="#pg-199b183caa5a903d1a02192647e506dd">Change Log</a></li>


    
  

    </ul>
    
  
    
    
	
<li>6: <a href="#pg-c673ba50f20aa338806d134931497231">Version 7.1</a></li>


    
  
    
    
	
<li>7: <a href="#pg-f0c6a7cde2e48a7bb02d6fea8b62df65">Version 7.0</a></li>


    
  
    
    
	
<li>8: <a href="#pg-9e26b25d73d0e49ed8dbcbc813916857">Version 6.1</a></li>


    
  
    
    
	
<li>9: <a href="#pg-ec129f05597f6fd97d927662858735dd">Version 6.0</a></li>


    
  

    </ul>


<div class="content">
      
</div>
</div>


  
  
  
  

  
  

  
    
    
	
    



<div class="td-content" style="--base-section-num: '1.'; ">
    
  <h1 id="pg-e50fcb18eeaa0c251990cad82312e15d">1 - Unreleased</h1>
    <div class="lead">As yet unreleased key features and changes.</div>
	
</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '2.'; page-break-before: always">
    
  <h1 id="pg-ae74892c7978974337f8a6d4538f22ac">2 - Version 7.5</h1>
    <div class="lead">Key new features and changes present in v7.5 of Stroom and Stroom-Proxy.</div>
	
</div>




    
      
  
  
  
  

  
  

  
    
    
	
    



<div class="td-content" style="--base-section-num: '2.1.'; ">
    
  <h1 id="pg-5faeda1b75cde298d6f7e132db8caaad">2.1 - New Features</h1>
    <div class="lead">New features in Stroom version 7.5.</div>
	<h2 id="user-interface">User Interface</h2>
<h3 id="jobs-screen">Jobs Screen</h3>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 910px">

  <a title="images/releases/07.05/Jobs.png" href="../../images/releases/07.05/Jobs.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/Jobs.png" style="max-width:900" alt="images/releases/07.05/Jobs.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The Jobs screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<ul>
<li>
<p>Rows are now greyed out if one of the following is true:</p>
<ul>
<li>
<p>The parent job is disabled.</p>
</li>
<li>
<p>The job is disabled on a specific node.</p>
</li>
<li>
<p>The node itself is disabled.</p>
</li>
</ul>
</li>
<li>
<p>The column <em>Next Scheduled</em> has been added to the detail pane to show the time that the job will next run.</p>
</li>
<li>
<p>The details pane now has an Actions menu (<span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Actions..."><svg xmlns="http://www.w3.org/2000/svg" height="1792" width="1792" version="1.1" viewBox="0 0 1792 1792"><g style="fill:currentColor"><circle cx="342.43176" cy="896" r="208.83429"/><circle cx="896" cy="896" r="208.83429"/><circle cx="1449.5682" cy="896" r="208.83429"/></g></svg> </span>
  </span>) where it is possible to do the follow actions to a job on a specific node.</p>
<ul>
<li>
<p>Edit the schedule for job on the selected node.</p>
</li>
<li>
<p>Run the job on the selected node now.
This will run the job within 10s or so once clicked.
Monitor the <em>Last Executed</em> column to see when it has run.</p>
</li>
<li>
<p>Show in Server Tasks (selected node).
This will open the Server Tasks screen with the quick filter set to the selected job and node.</p>
</li>
<li>
<p>Show in Server Tasks (all nodes).
This will open the Server Tasks screen with the quick filter set to the selected job.</p>
</li>
</ul>
<p>It is now possible to link directly to the Nodes screen by clicking the Open <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Open"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path style="fill:currentColor" d="M17 17H3V3h5V1H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2z"/><path style="fill:currentColor" d="M19 1h-8l3.29 3.29-5.73 5.73 1.42 1.42 5.73-5.73L19 9V1z"/></svg></span>
  </span> hover button next to the node name.</p>
</li>
</ul>
<h3 id="nodes-screen">Nodes Screen</h3>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 910px">

  <a title="images/releases/07.05/Nodes.png" href="../../images/releases/07.05/Nodes.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/Nodes.png" style="max-width:900" alt="images/releases/07.05/Nodes.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The Nodes screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<ul>
<li>
<p>A jobs detail pane has been added to show the jobs on that node.
This shows all jobs and allows jobs to be enabled/disabled on a node.
It also shows the state of the parent job and the node.
The <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Click to show only enabled jobs"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1595 295q17 41-14 70l-493 493v742q0 42-39 59-13 5-25 5-27 0-45-19l-256-256q-19-19-19-45v-486l-493-493q-31-29-14-70 17-39 59-39h1280q42 0 59 39z"/></svg></span>
  </span> button can be used to show only the enabled jobs on that node.</p>
<p>An auto-refresh button <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Turn Auto Refresh On"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M 383.37305 1128.0742 C 383.65683 1128.7015 383.89025 1129.3581 384.17578 1129.9844 L 384.25391 1129.9844 C 383.9631 1129.346 383.66159 1128.714 383.37305 1128.0742 z "/><path style="fill:currentColor" d="M 217.53125 1024 L 192 1024 C 174.66672 1024 159.66663 1030.3333 147 1043 C 134.33337 1055.6667 128 1070.6667 128 1088 L 128 1536 C 128 1553.3333 134.33337 1568.3333 147 1581 C 159.66663 1593.6667 174.66672 1600 192 1600 C 209.33328 1600 224.33337 1593.6667 237 1581 L 366 1452 C 437.33312 1519.9997 518.50027 1572.3334 609.5 1609 C 700.49973 1645.6666 794.66696 1664 892 1664 C 1074.6661 1664 1234.0003 1608.4997 1370 1497.5 C 1505.9997 1386.5003 1595.3334 1241.6661 1638 1063 C 1638.6667 1061.6667 1639 1059.3333 1639 1056 C 1639 1047.3333 1635.8333 1039.8333 1629.5 1033.5 C 1623.1667 1027.1667 1615.6667 1024 1607 1024 L 1574.5645 1024 L 1478.1309 1024 C 1478.1309 1024 1474.7585 1024.0561 1470.2129 1024.791 C 1467.9401 1025.1585 1465.3744 1025.6962 1462.791 1026.4805 C 1460.2077 1027.2647 1457.605 1028.2959 1455.2617 1029.6523 C 1453.1579 1031.0302 1451.0908 1032.7194 1449.123 1034.6445 C 1447.1553 1036.5697 1445.2886 1038.7303 1443.5859 1041.0508 C 1441.8832 1043.3712 1440.3438 1045.8524 1439.0352 1048.416 C 1437.7265 1050.9797 1436.6469 1053.6266 1435.8613 1056.2812 C 1432.0881 1069.0321 1427.8071 1081.5263 1423.1172 1093.7988 C 1421.7201 1097.4547 1420.0569 1100.9608 1418.5898 1104.5781 C 1415.8637 1111.4375 1413.0156 1118.228 1410.0371 1124.9414 C 1409.2957 1126.6019 1408.6736 1128.3313 1407.9199 1129.9844 L 1407.7441 1129.9844 C 1317.8048 1327.4255 1119.6274 1459.399 896 1459.957 C 672.37232 1459.399 474.19322 1327.4261 384.25391 1129.9844 L 384.17578 1129.9844 C 383.89025 1129.3581 383.65683 1128.7015 383.37305 1128.0742 C 379.44158 1119.3571 375.73356 1110.5078 372.23047 1101.543 C 371.19032 1098.9366 369.98219 1096.4252 368.97852 1093.7988 C 364.2886 1081.5263 360.00763 1069.0321 356.23438 1056.2812 C 355.44876 1053.6265 354.36919 1050.9797 353.06055 1048.416 C 351.7519 1045.8524 350.21441 1043.3712 348.51172 1041.0508 C 346.80903 1038.7303 344.94235 1036.5697 342.97461 1034.6445 C 341.00686 1032.7193 338.93779 1031.0302 336.83398 1029.6523 C 334.49071 1028.2959 331.88998 1027.2647 329.30664 1026.4805 C 326.7233 1025.6962 324.15759 1025.1584 321.88477 1024.791 C 317.33912 1024.0562 313.96484 1024 313.96484 1024 L 217.53125 1024 z "/><path style="fill:currentColor" d="m 1407.7441,1129.9844 h 0.1758 c 0.7537,-1.6531 1.3758,-3.3825 2.1172,-5.043 -0.7497,1.6898 -1.5275,3.3626 -2.293,5.043 z"/><path style="fill:currentColor" d="M 1408.998 662.01562 C 1410.8019 665.97553 1412.5691 669.95862 1414.2852 673.9707 C 1412.5695 670.0093 1411.0506 665.93469 1409.2637 662.01562 L 1408.998 662.01562 z "/><path style="fill:currentColor" d="M 896 128 C 712.66721 128 552.66625 183.50033 416 294.5 C 279.33375 405.49967 189.33321 550.33387 146 729 L 146 736 C 146 744.66664 149.16669 752.16669 155.5 758.5 C 161.83331 764.83331 169.33336 768 178 768 L 314.42773 768 C 314.42773 768 327.9238 767.77341 337.29688 762.34766 C 345.71211 756.83634 353.55482 746.33794 356.69727 735.71875 C 427.0175 498.08732 645.56448 332.66797 896 332.04297 C 1120.0947 332.10458 1318.8778 464.1752 1408.998 662.01562 L 1409.2637 662.01562 C 1411.0506 665.93469 1412.5695 670.0093 1414.2852 673.9707 C 1415.0485 675.7553 1415.7953 677.54898 1416.541 679.34375 C 1419.1931 685.62348 1422.0169 691.80554 1424.4609 698.20117 C 1429.1508 710.47373 1433.4318 722.96786 1437.2051 735.71875 C 1437.9907 738.37355 1439.0703 741.02032 1440.3789 743.58398 C 1441.6876 746.14765 1443.227 748.62876 1444.9297 750.94922 C 1446.6324 753.26967 1448.4991 755.43029 1450.4668 757.35547 C 1452.4345 759.28064 1454.5017 760.96983 1456.6055 762.34766 C 1458.9487 763.70408 1461.5514 764.7353 1464.1348 765.51953 C 1466.7181 766.30376 1469.2838 766.84155 1471.5566 767.20898 C 1476.1023 767.94385 1479.4746 768 1479.4746 768 L 1575.9082 768 L 1600 768 C 1617.3333 768 1632.3333 761.66663 1645 749 C 1657.6667 736.33337 1664 721.33328 1664 704 L 1664 256 C 1664 238.66672 1657.6667 223.66663 1645 211 C 1632.3333 198.33337 1617.3333 192 1600 192 C 1582.6667 192 1567.6667 198.33337 1555 211 L 1425 340 C 1353.6669 272.66687 1271.9997 220.49988 1180 183.5 C 1088.0003 146.50012 993.33304 128 896 128 z "/><path style="fill:none;stroke:currentColor;stroke-width:145;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-dasharray:none" d="M 664.92147,1027.8846 H 1127.0785 M 608.29781,1150.9974 895.99986,525.46719 1183.7022,1150.9974"/></svg> </span>
  </span> has also been added to keep refreshing the jobs detail pane so the <em>Last Executed</em> and <em>Next Scheduled</em> columns are updated.</p>
<p>It is also possible to link directly to the Jobs screen by clicking the Open <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Open"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path style="fill:currentColor" d="M17 17H3V3h5V1H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2z"/><path style="fill:currentColor" d="M19 1h-8l3.29 3.29-5.73 5.73 1.42 1.42 5.73-5.73L19 9V1z"/></svg></span>
  </span> hover button next to the job name.</p>
</li>
<li>
<p>Nodes rows are now greyed out if the node is disabled.</p>
</li>
<li>
<p>Job rows are not greyed out if one of the following is true:</p>
<ul>
<li>The node is disabled.</li>
<li>The parent job is disabled.</li>
<li>The job is disabled on a specific node.</li>
</ul>
</li>
<li>
<p>The column <em>Build Version</em> has been added to show the version of Stroom that the node is running.
This is to highlight any nodes running the wrong version.</p>
</li>
<li>
<p>The column <em>Up Date</em> have been added to the Nodes screen to show the time that Stroom was last booted on that node.</p>
</li>
<li>
<p>The <em>Ping</em> column screen has been changed so an enabled node with no ping stands out while a disabled node does not.</p>
</li>
</ul>
<h3 id="new-look-and-feel">New Look and Feel</h3>
<p>The Login, Change Password and Manage Accounts screens have been changed to bring their look and feel in line with the rest of the application.
The screens may look a little different but are functionally the same.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 910px">

  <a title="images/releases/07.05/Accounts.png" href="../../images/releases/07.05/Accounts.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/Accounts.png" style="max-width:900" alt="images/releases/07.05/Accounts.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The Manage Accounts screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<div class="td-card-deck card-deck mb-4">
    






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 260px">

  <a title="images/releases/07.05/NewAccount.png" href="../../images/releases/07.05/NewAccount.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/NewAccount.png" style="max-width:250" alt="images/releases/07.05/NewAccount.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The New Account screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

    






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 260px">

  <a title="images/releases/07.05/EditAccount.png" href="../../images/releases/07.05/EditAccount.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/EditAccount.png" style="max-width:250" alt="images/releases/07.05/EditAccount.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The Edit Account screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

    






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 260px">

  <a title="images/releases/07.05/Login.png" href="../../images/releases/07.05/Login.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/Login.png" style="max-width:250" alt="images/releases/07.05/Login.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The Login screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

    






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 260px">

  <a title="images/releases/07.05/ChangePassword.png" href="../../images/releases/07.05/ChangePassword.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/ChangePassword.png" style="max-width:250" alt="images/releases/07.05/ChangePassword.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The Change Password screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

</div>
<h3 id="authentication-error-screen">Authentication Error Screen</h3>
<p>If there is an authentication error during user login, e.g. the account is disabled or locked, the user will now be redirected to a configurable error screen rather than back to the login screen.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.05/AuthError.png" href="../../images/releases/07.05/AuthError.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/AuthError.png" style="max-width:300" alt="images/releases/07.05/AuthError.png">
      

      
    </figure>
  </a>
</div>

<p>The content of the lower part of the dialog is configurable via the property <code>stroom.ui.authErrorMessage</code>.
This property accepts HTML content.
This the message to contain details of how to contact the appropriate Stroom admin team.</p>
<h3 id="other-changes">Other Changes</h3>
<ul>
<li>
<p>The explorer tree now shows the name of the item in the hover tooltip.
This is useful if the name extends beyond the limit of the explorer tree pane.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4339" target="_blank" class="" style="" title="#4339 (external link to https://github.com/gchq/stroom/issues/4339)">
    <span>#4339</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Allow user selection of analytic duplicate columns.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/3989" target="_blank" class="" style="" title="#3989 (external link to https://github.com/gchq/stroom/issues/3989)">
    <span>#3989</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Improve pause behaviour in dashboards and general presentation of <code>busy</code> state throughout UI.</p>
</li>
</ul>
<h2 id="permissions">Permissions</h2>
<ul>
<li>
<p>Document deletion will now also delete all associated document permissions granted to user/groups.
This previously did not happen on document delete so orphaned document permissions would build up in the database.</p>
<p>The DB migration <code>V07_04_00_005__Orphaned_Doc_Perms</code> which will delete all document permissions (in table <code>doc_permission</code>) for docs that are not a folder, not the System doc, are not a valid doc (i.e. in the <code>doc</code> table) and are not a pipeline filter. Deleted document permission records will first be copied to a backup table <code>doc_permission_backup_V07_04_00_005</code>.</p>
</li>
<li>
<p>Document Copy and Move has been changed to check that the user has Owner permission (or admin) on the document being copied/moved if the permissions mode is None, Destination or Combined. This is because those modes will change the permissions which is something only an Owner/admin can do.</p>
</li>
</ul>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>


    Significant changes to document permissions are coming in v7.6.

</div>


<h2 id="content-search">Content Search</h2>
<p>The Find in Content screen added in v7.3 has been changed to add Lucene indexing to speed up content searches.</p>
<p>Indexing of the content can be enabled by setting the property <code>stroom.contentIndex.enabled</code> to <code>true</code>.</p>
<h2 id="volumes">Volumes</h2>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 910px">

  <a title="images/releases/07.05/Volumes.png" href="../../images/releases/07.05/Volumes.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.05/Volumes.png" style="max-width:900" alt="images/releases/07.05/Volumes.png">
      

      
    </figure>
  </a>
</div>

<ul>
<li>
<p>The tables on the Data Volumes and Index Volumes screens have been changed to low-light <code>CLOSED</code>/<code>INACTIVE</code> volumes.</p>
</li>
<li>
<p>Tooltips have been added to the <em>Path</em> and <em>Last Updated</em> columns.</p>
</li>
<li>
<p>The <em>Use%</em> column has been changed to a percentage bar.</p>
</li>
<li>
<p>Red/green colouring has been added to the to the <em>Full</em> column values to make it clearer which volumes are full.</p>
</li>
</ul>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '2.2.'; page-break-before: always">
    
  <h1 id="pg-0da87286cf54892289a68c1a3b99f448">2.2 - Preview Features (experimental)</h1>
    <div class="lead">Preview features in Stroom version 7.5. Preview features are somewhat experimental in nature and are therefore subject to breaking changes in future releases.</div>
	<h2 id="state-store">State Store</h2>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Work in progress

</div>

<ul>
<li>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/2126" target="_blank" class="" style="" title="#2126 (external link to https://github.com/gchq/stroom/issues/2126)">
    <span>#2126</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Add experimental state store.</li>
</ul>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '2.3.'; page-break-before: always">
    
  <h1 id="pg-a6c72e6258e2c345d4c4e52ba2819b79">2.3 - Breaking Changes</h1>
    <div class="lead">Changes in Stroom version 7.5 that may break existing processing or ways of working.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of the changes affect you.

</div>


<p>There are no breaking changes in v7.5.</p>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '2.4.'; page-break-before: always">
    
  <h1 id="pg-237cc48cb817921fda081fb62e8340b3">2.4 - Upgrade Notes</h1>
    <div class="lead">Required actions and information relating to upgrading to Stroom version 7.5.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of it is relevant to your Stroom instance.

</div>


<h2 id="java-version">Java Version</h2>
<p>Stroom v7.5 requires Java 21.
This is the same java version as Stroom v7.4.
Ensure the Stroom and Stroom-Proxy hosts are running the latest patch release of Java v21.</p>
<h2 id="configuration-file-changes">Configuration File Changes</h2>
<p>The following changes requiring action have been made to the <code>stroom.yml</code> configuration file.</p>
<h3 id="removed-properties">Removed Properties</h3>
<h4 id="stroomuithemebackgroundcolour"><code>stroom.ui.theme.backgroundColour</code></h4>
<p>This property has been removed.
You will need to remove it (if present) from your configuration files else Stroom will not boot.</p>
<h3 id="new-properties">New Properties</h3>
<h4 id="stroomcontentindex"><code>stroom.contentIndex</code></h4>
<p>This property has been added.
It enables the indexing of stroom content for fast content searching.</p>
<h4 id="state"><code>state.*</code></h4>
<p>This block of properties has been added to control the new state store functionality.</p>
<pre><code class="language-yaml">appConfig:
  state:
    scyllaDbDocCache:
      expireAfterAccess: null
      expireAfterWrite: &quot;PT10M&quot;
      maximumSize: 100
      refreshAfterWrite: null
    sessionCache:
      expireAfterAccess: &quot;PT1H&quot;
      expireAfterWrite: null
      maximumSize: 10
      refreshAfterWrite: null
    stateDocCache:
      expireAfterAccess: null
      expireAfterWrite: &quot;PT10M&quot;
      maximumSize: 100
      refreshAfterWrite: null
</code></pre>
<h3 id="changed-property-values">Changed Property Values</h3>
<h4 id="stroomuihelpsubpathjobs"><code>stroom.ui.helpSubPathJobs</code></h4>
<p>The value of this property has changed from <code>/user-guide/jobs/</code> to <code>/reference-section/jobs/</code>.</p>
<h4 id="stroomuihelpurl"><code>stroom.ui.helpUrl</code></h4>
<p>The value of this property has changed from <code>https://gchq.github.io/stroom-docs/7.4/docs</code> to <code>https://gchq.github.io/stroom-docs/7.5/docs</code>.</p>
<h2 id="servlets">Servlets</h2>
<p>Stroom presents various servlets.
The paths to these servlets have changed but the existing paths remain.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    While the old paths still work, they will be removed in a future version of Stroom so you are advised to change any scripts or similar that point to these servlets.

</div>


<ul>
<li><code>/stroom/noauth/datafeed</code> =&gt; <code>/datafeed</code></li>
<li><code>/stroom/noauth/debug</code> =&gt; <code>/debug</code></li>
<li><code>/stroom/noauth/echo</code> =&gt; <code>/echo</code></li>
<li><code>/stroom/noauth/status</code> =&gt; <code>/status</code></li>
<li><code>/stroom/noauth/swagger-ui</code> =&gt; <code>/swagger-ui</code></li>
<li><code>/stroom/sessionList</code> =&gt; <code>/sessionList</code></li>
</ul>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>


    These servlet paths are those presented by the stroom application itself. Stroom may be fronted by nginx in which case that may already be doing path mapping to abstract the end client from Stroom&rsquo;s servlet paths.

</div>


<p>The <code>/sessionList</code> (and <code>/stroom/sessionList</code>) servlet has been changed to require manage users permission.</p>
<h2 id="database-migrations">Database Migrations</h2>
<p>When Stroom boots for the first time with a new version it will run any required database migrations to bring the database schema up to the correct version.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    It is highly recommended to ensure you have a database backup in place before booting stroom with a new version.
This is to mitigate against any problems with the migration.
It is also recommended to test the migration against a copy of your database to ensure that there are no problems when you do it for real.

</div>


<p>On boot, Stroom will ensure that the migrations are only run by a single node in the cluster.
This will be the node that reaches that point in the boot process first.
All other nodes will wait until that is complete before proceeding with the boot process.</p>
<p>It is recommended however to use a single node to execute the migration.
To avoid Stroom starting up and beginning processing you can use the <code>migrage</code> command to just migrate the database and not fully boot Stroom.
See <a href="../../docs/user-guide/tools/command-line/#migrate"><code>migrage</code> command</a> for more details.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    <p>If you are upgrading a v7.5 Stroom instance that has a version less than or equal to <strong>v7.5-beta.9</strong> to a version higher than <strong>v7.5-beta.9</strong> then you must run the following SQL on the database to correct the renaming of a migration script.
If you don&rsquo;t, Stroom will not boot as it will detect a mismatch in the DB migration scripts.</p>
<pre><code class="language-sql">update cross_module_schema_history
set version = '07.05.00.005',
script = 'stroom.app.db.migration.V07_05_00_005__Orphaned_Doc_Perms'
where version = '07.04.00.005'
and script = 'stroom.app.db.migration.V07_04_00_005__Orphaned_Doc_Perms';
</code></pre>


</div>


<h3 id="migration-scripts">Migration Scripts</h3>
<!--
#############################################################################################
#                                                                                           #
#  This section is auto-generated by TestListDbMigrations.listDbMigrationsForLatestVersion  #
#                                                                                           #
#############################################################################################
-->
<p>For information purposes only, the following are the database migrations that will be run when upgrading to 7.5.0 from the previous minor version.</p>
<p>Note, the <code>legacy</code> module will run first (if present) then the other module will run in no particular order.</p>
<h4 id="module-stroom-app">Module <code>stroom-app</code></h4>
<h4 id="script-v07_05_00_005__orphaned_doc_permsjava">Script <code>V07_05_00_005__Orphaned_Doc_Perms.java</code></h4>
<p><strong>Path</strong>: <code>stroom-app/src/main/java/stroom/app/db/migration/V07_05_00_005__Orphaned_Doc_Perms.java</code></p>
<p>It is not possible to display the content here.
The file can be viewed on : 







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/tree/7.5/stroom-app/src/main/java/stroom/app/db/migration/V07_05_00_005__Orphaned_Doc_Perms.java" target="_blank" class="" style="" title="GitHub (external link to https://github.com/gchq/stroom/tree/7.5/stroom-app/src/main/java/stroom/app/db/migration/V07_05_00_005__Orphaned_Doc_Perms.java)">
    <span>GitHub</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</p>
<h4 id="module-stroom-node">Module <code>stroom-node</code></h4>
<h5 id="script-v07_05_00_005__add_build_ver_last_bootsql">Script <code>V07_05_00_005__add_build_ver_last_boot.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-node/stroom-node-impl-db/src/main/resources/stroom/node/impl/db/migration/V07_05_00_005__add_build_ver_last_boot.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

-- --------------------------------------------------

DELIMITER $$

DROP PROCEDURE IF EXISTS node_run_sql_v1 $$

-- DO NOT change this without reading the header!
CREATE PROCEDURE node_run_sql_v1 (
    p_sql_stmt varchar(1000)
)
BEGIN

    SET @sqlstmt = p_sql_stmt;

    SELECT CONCAT('Running sql: ', @sqlstmt);

    PREPARE stmt FROM @sqlstmt;
    EXECUTE stmt;
    DEALLOCATE PREPARE stmt;
END $$

-- --------------------------------------------------

DROP PROCEDURE IF EXISTS node_add_column_v1$$

CREATE PROCEDURE node_add_column_v1 (
    p_table_name varchar(64),
    p_column_name varchar(64),
    p_column_type_info varchar(64) -- e.g. 'varchar(255) default NULL'
)
BEGIN
    DECLARE object_count integer;

    SELECT COUNT(1)
    INTO object_count
    FROM information_schema.columns
    WHERE table_schema = database()
    AND table_name = p_table_name
    AND column_name = p_column_name;

    IF object_count = 0 THEN
        CALL node_run_sql_v1(CONCAT(
            'alter table ', database(), '.', p_table_name,
            ' add column ', p_column_name, ' ', p_column_type_info));
    ELSE
        SELECT CONCAT(
            'Column ',
            p_column_name,
            ' already exists on table ',
            database(),
            '.',
            p_table_name);
    END IF;
END $$

-- --------------------------------------------------

DELIMITER ;

CALL node_add_column_v1(
    'node',
    'build_version',
    'varchar(255) DEFAULT NULL');

CALL node_add_column_v1(
    'node',
    'last_boot_ms',
    'bigint DEFAULT NULL');

DROP PROCEDURE IF EXISTS node_add_column_v1;

DROP PROCEDURE IF EXISTS node_run_sql_v1;

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set tabstop=4 shiftwidth=4 expandtab:

</code></pre>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '2.5.'; page-break-before: always">
    
  <h1 id="pg-4e041f40f647aa7836edab82113d7375">2.5 - Change Log</h1>
    <div class="lead">Link to the full CHANGELOG.</div>
	<p>The follow changes are in 7.5 but not in 7.4:</p>
<!--
To build this list run diff_changelog.sh in the root of the stroom repo.
E.g. ./diff_changelog.sh 7.4 7.5 | sed -E -e 's/^/\n/' -e 's|Issue \*\*#([0-9]+)\*\*|Issue **







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/%5c1" target="_blank" class="" style="" title="#\1 (external link to https://github.com/gchq/stroom/issues/\1)">
    <span>#\1</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
**|g'
-->
<ul>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4383" target="_blank" class="" style="" title="#4383 (external link to https://github.com/gchq/stroom/issues/4383)">
    <span>#4383</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Add an authentication error screen to be shown when a user tries to login and there is an authentication problem or the user&rsquo;s account has been locked/disabled. Previously the user was re-directed to the sign-in screen even if cert auth was enabled.  Added the new property <code>stroom.ui.authErrorMessage</code> to allow setting generic HTML content to show the user when an authentication error occurs.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4412" target="_blank" class="" style="" title="#4412 (external link to https://github.com/gchq/stroom/issues/4412)">
    <span>#4412</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Fix <code>/</code> key not working in quick filter text input fields.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4400" target="_blank" class="" style="" title="#4400 (external link to https://github.com/gchq/stroom/issues/4400)">
    <span>#4400</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Fix missing styling on <code>sessionList</code> servlet.</p>
</li>
<li>
<p>Fix broken description pane in the stroomQL code completion.</p>
</li>
<li>
<p>Change API endpoint <code>/Authentication/v1/noauth/reset</code> from GET to POST and from a path parameter to a POST body.</p>
</li>
<li>
<p>Fix various issues relating to unauthenticated servlets. Add new servlet paths e.g. <code>/stroom/XXX</code> becomes <code>/XXX</code> and <code>/stroom/XXX</code>. The latter will be removed in some future release. Notable new servlet paths are <code>/dashboard</code>, <code>/status</code>, <code>/swagger-ui</code>, <code>/echo</code>, <code>/debug</code>, <code>/datafeed</code>, <code>/sessionList</code>.</p>
</li>
<li>
<p>Change <code>sessionList</code> servlet to require manage users permission.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4360" target="_blank" class="" style="" title="#4360 (external link to https://github.com/gchq/stroom/issues/4360)">
    <span>#4360</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Fix quick time settings popup.</p>
</li>
<li>
<p>Improve styling of Jobs screen so disabled jobs/nodes are greyed out.</p>
</li>
<li>
<p>Add <em>Next Scheduled</em> column to the detail pane of the Job screen.</p>
</li>
<li>
<p>Add <em>Build Version</em> and <em>Up Date</em> columns to the Nodes screen. Also change the styling of the <em>Ping</em> column so an enabled node with no ping stands out while a disabled node does not. Also change the row styling for disabled nodes.</p>
</li>
<li>
<p>Add a Run now icon to the jobs screen to execute a job on a node immediately.</p>
</li>
<li>
<p>Change the FS Volume and Index Volume tables to low-light CLOSED/INACTIVE volumes. Add tooltips to the path and last updated columns. Change the <em>Use%</em> column to a percentage bar. Add red/green colouring to the <em>Full</em> column values.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4327" target="_blank" class="" style="" title="#4327 (external link to https://github.com/gchq/stroom/issues/4327)">
    <span>#4327</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Add a Jobs pane to the Nodes screen to view jobs by node. Add linking between job nodes on the Nodes screen and the Jobs screen.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4339" target="_blank" class="" style="" title="#4339 (external link to https://github.com/gchq/stroom/issues/4339)">
    <span>#4339</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Allow user selection of analytic duplicate columns.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/2126" target="_blank" class="" style="" title="#2126 (external link to https://github.com/gchq/stroom/issues/2126)">
    <span>#2126</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Add experimental state store.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4334" target="_blank" class="" style="" title="#4334 (external link to https://github.com/gchq/stroom/issues/4334)">
    <span>#4334</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Popup explorer text on mouse hover.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/4278" target="_blank" class="" style="" title="#4278 (external link to https://github.com/gchq/stroom/issues/4278)">
    <span>#4278</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Make document deletion also delete the permission records for that document. Also run migration <code>V07_04_00_005__Orphaned_Doc_Perms</code> which will delete all document permissions (in table <code>doc_permission</code>) for docs that are not a folder, not the System doc, are not a valid doc (i.e. in the <code>doc</code> table) and are not a pipeline filter. Deleted document permission records will first be copied to a backup table <code>doc_permission_backup_V07_04_00_005</code>.</p>
</li>
<li>
<p>Change document Copy and Move to check that the user has Owner permission (or admin) on the document being copied/moved if the permissions mode is None, Destination or Combined. This is because those modes will change the permissions which is something only an Owner/admin can do.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/3989" target="_blank" class="" style="" title="#3989 (external link to https://github.com/gchq/stroom/issues/3989)">
    <span>#3989</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Improve pause behaviour in dashboards and general presentation of <code>busy</code> state throughout UI.</p>
</li>
<li>
<p>Issue <strong>







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/issues/2111" target="_blank" class="" style="" title="#2111 (external link to https://github.com/gchq/stroom/issues/2111)">
    <span>#2111</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</strong> : Add index assistance to find content feature.</p>
</li>
</ul>
<p>For a detailed list of all the changes in v7.5 see:








  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/7.5/CHANGELOG.md" target="_blank" class="" style="" title="v7.5 CHANGELOG (external link to https://github.com/gchq/stroom/blob/7.5/CHANGELOG.md)">
    <span>v7.5 CHANGELOG</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</p>

</div>




    
	
  

    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '3.'; page-break-before: always">
    
  <h1 id="pg-b83769ae5686f392da930688e13d2435">3 - Version 7.4</h1>
    <div class="lead">Key new features and changes present in v7.4 of Stroom and Stroom-Proxy.</div>
	
</div>




    
      
  
  
  
  

  
  

  
    
    
	
    



<div class="td-content" style="--base-section-num: '3.1.'; ">
    
  <h1 id="pg-625fdbb16bb237b775da7825485b59af">3.1 - New Features</h1>
    <div class="lead">New features in Stroom version 7.4.</div>
	<h2 id="scheduler">Scheduler</h2>
<p>The scheduler in Stroom that is used to schedule all the background jobs <span class="stroom-icon inline-svg-button icon-button  icon-colour__grey" >
    <span class="face" title="Jobs"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1024 1408h640v-128h-640v128zm-384-512h1024v-128h-1024v128zm640-512h384v-128h-384v128zm512 832v256q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-512v256q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-512v256q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h1664q26 0 45 19t19 45z"/></svg></span>
  </span> and Analytic Rules <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Analytic rule"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M1333 566q18 20 7 44l-540 1157q-13 25-42 25-4 0-14-2-17-5-25.5-19t-4.5-30l197-808-406 101q-4 1-12 1-18 0-31-11-18-15-13-39l201-825q4-14 16-23t28-9h328q19 0 32 12.5t13 29.5q0 8-5 18l-171 463 396-98q8-2 12-2 19 0 34 15z"/></svg></span>
  </span> has been changed.
The existing <span class="glossary-link">
  <a href="../../docs/glossary/#cron" title="Glossary entry for cron">
    <span>cron</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>/frequency scheduler was quite simplistic and only supported a limited set of features of a cron schedule.</p>
<p>The cron format has changed from a three value cron expression (e.g. <code>* * *</code> to run every minute) to six value one.
Existing three value cron expressions will be migrated to the new syntax when deploying Stroom v7.4.</p>
<p>For full details of the new scheduler see <a href="../../docs/user-guide/jobs/scheduler/">Scheduler</a></p>
<p>






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 710px">

  <a title="images/releases/07.04/schedule-icon.png" href="../../images/releases/07.04/schedule-icon.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/schedule-icon.png" style="max-width:700" alt="images/releases/07.04/schedule-icon.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">New cron schedule format.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/schedule-cron.png" href="../../images/releases/07.04/schedule-cron.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/schedule-cron.png" style="max-width:300" alt="images/releases/07.04/schedule-cron.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The edit dialog for a cron schedule.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/schedule-freq.png" href="../../images/releases/07.04/schedule-freq.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/schedule-freq.png" style="max-width:300" alt="images/releases/07.04/schedule-freq.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">The edit dialog for a frequency schedule.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

</div></p>
<h2 id="general-user-interface-changes">General User Interface Changes</h2>
<h3 id="keyboard-shortcuts">Keyboard Shortcuts</h3>
<p>Various new keyboard shortcuts for performing actions in Stroom.
See <a href="../../docs/reference-section/keyboard-shortcuts/">Keyboard Shortcuts</a> for details.</p>
<ul>
<li>Add the keyboard shortcut 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    
      
    

    

    

    

    
      
      
    
      
      
        
          
          
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">Ctrl ^</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">Enter ↵</span>
      </span>
    </span>
 to the code pane of the stepper to perform a <em>step refresh</em> <span class="stroom-icon inline-svg-button icon-button  icon-colour__green" >
    <span class="face" title="Refresh"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1639 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z"/></svg></span>
  </span>.</li>
<li>Add the keyboard shortcut 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    
      
    

    

    

    

    
      
      
    
      
      
        
          
          
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">Ctrl ^</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">Enter ↵</span>
      </span>
    </span>
 to the Dashboards to execute all queries.</li>
<li>Add multiple <em>Goto</em> type shortcuts to jump directly to a screen.
See <a href="../../docs/reference-section/keyboard-shortcuts/#direct-access-to-screens">Direct Access to Screens</a> for details.</li>
</ul>
<h3 id="documentation">Documentation</h3>
<p>The Documentation <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Documentation"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path style="fill:var(--icon-colour__blue)" d="m 311.60754,227.97375 c -92.11457,0 -167.00657,74.892 -167.00657,167.00656 V 1397.0197 c 0,92.1146 74.892,167.0065 167.00657,167.0065 h 668.02617 c 92.11459,0 167.00659,-74.8919 167.00659,-167.0065 v -50.3629 c -7.0457,2.8703 -14.0912,5.2189 -21.3977,7.0456 l -156.82959,39.1421 c -7.8284,1.8267 -15.6569,3.1313 -23.4853,3.6533 -2.3485,0.261 -4.6971,0.5218 -7.0456,0.5218 H 770.87557 c -15.91782,0 -30.26994,-8.8723 -37.31554,-22.9633 l -22.9634,-46.1877 c -4.43611,-8.8723 -13.30833,-14.3523 -22.9634,-14.3523 -9.65506,0 -18.78824,5.48 -22.9634,14.3523 l -22.9634,46.1877 c -7.56748,15.3959 -24.00719,24.5292 -40.96879,22.9633 -16.96161,-1.5656 -31.57469,-13.3082 -36.27174,-29.4872 l -44.10017,-145.3478 -25.57288,85.5908 c -15.91781,52.9724 -64.71504,89.2442 -120.03596,89.2442 h -21.39772 c -22.9634,0 -41.75163,-18.7882 -41.75163,-41.7516 0,-22.9635 18.78823,-41.7517 41.75163,-41.7517 h 21.39772 c 18.52729,0 34.70604,-12.0037 39.925,-29.7481 l 38.88122,-129.1691 c 8.87222,-29.4871 36.01079,-49.841 66.80262,-49.841 30.79184,0 57.9304,20.3539 66.80262,49.841 l 30.26994,100.7258 c 19.31013,-16.1788 43.83922,-25.3119 69.93399,-25.3119 41.4907,0 79.32812,23.4853 97.85541,60.5399 l 11.4817,22.9634 h 23.22435 c -8.08938,-22.9634 -9.65507,-48.0144 -3.65327,-72.5435 l 39.14217,-156.8296 c 7.30653,-29.4871 22.4415,-56.1036 43.83917,-77.5014 L 1146.6403,759.26336 V 645.49014 H 812.62721 c -46.18775,0 -83.50329,-37.31553 -83.50329,-83.50328 V 227.97375 Z m 501.01967,0 v 334.01311 h 334.01309 z m 766.66449,364.544 c -40.7079,-40.70785 -106.7277,-40.70785 -147.6965,0 l -76.7186,76.71863 185.2729,185.27291 76.7186,-76.71864 c 40.7079,-40.70785 40.7079,-106.72763 0,-147.69642 z M 958.49701,1065.6161 c -10.6989,10.6989 -18.2664,24.007 -21.9196,38.8811 l -39.1422,156.8296 c -3.6533,14.3522 0.5219,29.2263 10.9598,39.6641 10.4379,10.4379 25.312,14.6131 39.6641,10.9599 l 156.82949,-39.1422 c 14.6131,-3.6532 28.1824,-11.2208 38.8812,-21.9196 L 1480.9143,913.48345 1295.6415,728.21058 Z" /></svg> </span>
  </span> entity will now default to edit mode if there is no documentation, e.g. on a newly created Documentation entity.</p>
<h3 id="copy-as">Copy As</h3>
<p>A <em>Copy As</em> group has been added to the explorer tree context menu.
This replaces, but includes the <em>Copy Link to Clipboard</em> menu item.</p>
<ul>
<li>Copy Name to Clipboard - Copies the name of the entity to the clipboard.</li>
<li>Copy UUID to Clipboard - Copies the <span class="glossary-link">
  <a href="../../docs/glossary/#uuid" title="Glossary entry for UUID">
    <span>UUID</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> of the entity to the clipboard.</li>
<li>Copy link to Clipboard - Copies a URL to the clipboard that will link directly to the selected entity.</li>
</ul>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/copy-as.png" href="../../images/releases/07.04/copy-as.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/copy-as.png" style="max-width:300" alt="images/releases/07.04/copy-as.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Copy explorer tree entities as name/UUID/link</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h3 id="api-specification-link">API Specification Link</h3>
<p>Previous versions of Stroom have included an interactive user interface for navigating Stroom&rsquo;s <span class="glossary-link">
  <a href="../../docs/glossary/#api" title="Glossary entry for API">
    <span>API</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> specification.
A link to this has been added to the Help menu.</p>
<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/api-link.png" href="../../images/releases/07.04/api-link.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/api-link.png" style="max-width:300" alt="images/releases/07.04/api-link.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Help menu item to the API specification.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/swagger.png" href="../../images/releases/07.04/swagger.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/swagger.png" style="max-width:300" alt="images/releases/07.04/swagger.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Swagger user interface.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

</div>
<h3 id="dashboard-conditional-formatting">Dashboard Conditional Formatting</h3>
<ul>
<li>Make the <em>Enabled</em> and <em>Hide Row</em> checkboxes clickable in the table without having open the rule edit dialog.</li>
<li>Dim disabled rules in the table.</li>
<li>Add colour swatches for the background and text colours.</li>
</ul>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.04/conditional-formatting.png" href="../../images/releases/07.04/conditional-formatting.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/conditional-formatting.png" style="max-width:400" alt="images/releases/07.04/conditional-formatting.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Clickable checkboxes and colour swatches.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h3 id="help-icons-on-dialogs">Help Icons on Dialogs</h3>
<p>Functionality has been added to included help icons <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Help"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__info-blue)" d="m 1664,896 c 0,139.3333 -34.3333,267.8333 -103,385.5 -68.6667,117.6667 -161.8333,210.8333 -279.5,279.5 -117.6667,68.6667 -246.1667,103 -385.5,103 -139.33333,0 -267.83333,-34.3333 -385.5,-103 C 392.83333,1492.3333 299.66667,1399.1667 231,1281.5 162.33333,1163.8333 128,1035.3333 128,896 128,756.66667 162.33333,628.16667 231,510.5 299.66667,392.83333 392.83333,299.66667 510.5,231 628.16667,162.33333 756.66667,128 896,128 c 139.3333,0 267.8333,34.33333 385.5,103 117.6667,68.66667 210.8333,161.83333 279.5,279.5 68.6667,117.66667 103,246.16667 103,385.5 z"/><path style="fill:#fff" d="m 1024,1376 0,-192 c 0,-9.3333 -3,-17 -9,-23 -6,-6 -13.6667,-9 -23,-9 l -192,0 c -9.33333,0 -17,3 -23,9 -6,6 -9,13.6667 -9,23 l 0,192 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 z m 256,-672 c 0,-58.66667 -18.5,-113 -55.5,-163 -37,-50 -83.1667,-88.66667 -138.5,-116 -55.3333,-27.33333 -112,-41 -170,-41 -162,0 -285.66667,71 -371,213 -10,16 -7.33333,30 8,42 l 132,100 c 4.66667,4 11,6 19,6 10.66667,0 19,-4 25,-12 35.33333,-45.33333 64,-76 86,-92 22.66667,-16 51.33333,-24 86,-24 32,0 60.5,8.66667 85.5,26 25,17.33333 37.5,37 37.5,59 0,25.33333 -6.6667,45.66667 -20,61 -13.33333,15.33333 -36,30.33333 -68,45 -42,18.66667 -80.5,47.5 -115.5,86.5 -35,39 -52.5,80.83333 -52.5,125.5 l 0,36 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 0,-12.6667 7.1667,-29.1667 21.5,-49.5 14.3333,-20.33333 32.5,-36.83333 54.5,-49.5 21.3333,-12 37.6667,-21.5 49,-28.5 11.3333,-7 26.6667,-18.66667 46,-35 19.3333,-16.33333 34.1667,-32.33333 44.5,-48 10.3333,-15.66667 19.6667,-35.83333 28,-60.5 8.3333,-24.66667 12.5,-51.66667 12.5,-81 z"/></svg> </span>
  </span> on dialogs.
Clicking the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Help"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__info-blue)" d="m 1664,896 c 0,139.3333 -34.3333,267.8333 -103,385.5 -68.6667,117.6667 -161.8333,210.8333 -279.5,279.5 -117.6667,68.6667 -246.1667,103 -385.5,103 -139.33333,0 -267.83333,-34.3333 -385.5,-103 C 392.83333,1492.3333 299.66667,1399.1667 231,1281.5 162.33333,1163.8333 128,1035.3333 128,896 128,756.66667 162.33333,628.16667 231,510.5 299.66667,392.83333 392.83333,299.66667 510.5,231 628.16667,162.33333 756.66667,128 896,128 c 139.3333,0 267.8333,34.33333 385.5,103 117.6667,68.66667 210.8333,161.83333 279.5,279.5 68.6667,117.66667 103,246.16667 103,385.5 z"/><path style="fill:#fff" d="m 1024,1376 0,-192 c 0,-9.3333 -3,-17 -9,-23 -6,-6 -13.6667,-9 -23,-9 l -192,0 c -9.33333,0 -17,3 -23,9 -6,6 -9,13.6667 -9,23 l 0,192 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 z m 256,-672 c 0,-58.66667 -18.5,-113 -55.5,-163 -37,-50 -83.1667,-88.66667 -138.5,-116 -55.3333,-27.33333 -112,-41 -170,-41 -162,0 -285.66667,71 -371,213 -10,16 -7.33333,30 8,42 l 132,100 c 4.66667,4 11,6 19,6 10.66667,0 19,-4 25,-12 35.33333,-45.33333 64,-76 86,-92 22.66667,-16 51.33333,-24 86,-24 32,0 60.5,8.66667 85.5,26 25,17.33333 37.5,37 37.5,59 0,25.33333 -6.6667,45.66667 -20,61 -13.33333,15.33333 -36,30.33333 -68,45 -42,18.66667 -80.5,47.5 -115.5,86.5 -35,39 -52.5,80.83333 -52.5,125.5 l 0,36 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 0,-12.6667 7.1667,-29.1667 21.5,-49.5 14.3333,-20.33333 32.5,-36.83333 54.5,-49.5 21.3333,-12 37.6667,-21.5 49,-28.5 11.3333,-7 26.6667,-18.66667 46,-35 19.3333,-16.33333 34.1667,-32.33333 44.5,-48 10.3333,-15.66667 19.6667,-35.83333 28,-60.5 8.3333,-24.66667 12.5,-51.66667 12.5,-81 z"/></svg> </span>
  </span> icon will display a popup containing help text relating to the thing the icon is next to.</p>
<p>Currently help icons have only been added to a few dialogs, but more will follow.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.04/help-icons.png" href="../../images/releases/07.04/help-icons.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/help-icons.png" style="max-width:400" alt="images/releases/07.04/help-icons.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Help icons on dialogs.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h3 id="stepping-location">Stepping Location</h3>
<p>The way you change the step location in the stepper <span class="stroom-icon inline-svg-button icon-button  icon-colour__green" >
    <span class="face" title="Stepper"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!-- Font Awesome Free 5.15.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) --><path style="fill:currentColor" d="m 400,75.977968 0,360.000002 c 0,6.6 -5.4,12 -12,12 l -40,0 c -6.6,0 -12,-5.4 -12,-12 l 0,-151.9 -171.5,156.5 c -20.6,17.2 -52.5,2.8 -52.5,-24.6 0,-202.11605 0,-87.47785 0,-320.000002 0,-27.399997 31.9,-41.699997 52.5,-24.6 L 336,226.77797 336,75.977968 c 0,-6.599997 5.4,-11.999997 12,-11.999997 l 40,0 c 6.6,0 12,5.4 12,11.999997 z" /></svg> </span>
  </span> has changed.
Previously you could click and then directly edit each of the three numbers.
Now the location label is a clickable link that opens an edit dialog.</p>
<p>






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.04/step-location-link.png" href="../../images/releases/07.04/step-location-link.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/step-location-link.png" style="max-width:200" alt="images/releases/07.04/step-location-link.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Modified step location label.</figcaption>
      </div>
      
    </figure>
  </a>
</div>








  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.04/step-location-dialog.png" href="../../images/releases/07.04/step-location-dialog.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/step-location-dialog.png" style="max-width:200" alt="images/releases/07.04/step-location-dialog.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Step location edit dialog.</figcaption>
      </div>
      
    </figure>
  </a>
</div>
</p>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '3.2.'; page-break-before: always">
    
  <h1 id="pg-37294b2f6db5b6f5743c446760d16673">3.2 - Preview Features (experimental)</h1>
    <div class="lead">Preview features in Stroom version 7.4. Preview features are somewhat experimental in nature and are therefore subject to breaking changes in future releases.</div>
	<h2 id="analytic-rules">Analytic Rules</h2>
<p>Analytic Rules were introduced in Stroom v7.2 as a preview feature.
They remain an experimental preview feature but have undergone more changes/improvements.</p>
<p>Analytic rules are a means of writing a query to find matching data.</p>
<h3 id="processing-types">Processing Types</h3>
<p>Analytic rules have three different processing types:</p>
<h4 id="streaming">Streaming</h4>
<p>A streaming rule uses a processor filter to find streams that match the filter and runs the query against the stream.</p>
<h4 id="scheduled-query">Scheduled Query</h4>
<p>A scheduled query will run the rule&rsquo;s query against a time window of data on a scheduled basis.
The time window can be absolute or relative to when the scheduled query fires.</p>
<h4 id="table-builder">Table Builder</h4>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Complete

</div>

<h3 id="multiple-notifications">Multiple Notifications</h3>
<p>Rules now support having multiple notification types/destinations, for example sending an email as well a <span class="glossary-link">
  <a href="../../docs/glossary/#stream" title="Glossary entry for stream">
    <span>stream</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>.
Currently Email and Stream are the only notification types supported.</p>
<h3 id="email-templating">Email Templating</h3>
<p>The email notifications have been improved to allow templating of the email subject and body.
The template enables static text/HTML to be mixed with values taken from the detection.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/email-notifications.png" href="../../images/releases/07.04/email-notifications.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/email-notifications.png" style="max-width:300" alt="images/releases/07.04/email-notifications.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Email notification settings.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<p>The templating uses a template syntax called <em>jinja</em> and specifically the JinJava library.
The templating syntax includes support for variables, filters, condition blocks, loops, etc.
Full details of the syntax see <a href="../../docs/reference-section/templating/">Templating</a> and for details of the templating context available in email subject/body templates see <a href="../../docs/reference-section/templating/#rule-detections-context">Rule Detections Context</a>.</p>
<h4 id="example-template">Example Template</h4>
<p>The following is an example of a detection template producing a HTML email body that includes conditions and loops:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;meta charset=&quot;UTF-8&quot; /&gt;
&lt;title&gt;Detector '{{ detectorName | escape }}' Alert&lt;/title&gt;
&lt;body&gt;
  &lt;p&gt;Detector &lt;em&gt;{{ detectorName | escape }}&lt;/em&gt; {{ detectorVersion | escape }} fired at {{ detectTime | escape }}&lt;/p&gt;

  {%- if (values | length) &gt; 0 -%}
  &lt;p&gt;Detail: {{ headline | escape }}&lt;/p&gt;
  &lt;ul&gt;
    {% for key, val in values | dictsort -%}
      &lt;li&gt;&lt;strong&gt;{{ key | escape }}&lt;/strong&gt;: {{ val | escape }}&lt;/li&gt;
    {% endfor %}
  &lt;/ul&gt;
  {% endif -%}

  {%- if (linkedEvents | length) &gt; 0 -%}
  &lt;p&gt;Linked Events:&lt;/p&gt;
  &lt;ul&gt;
    {% for linkedEvent in linkedEvents -%}
      &lt;li&gt;Environment: {{ linkedEvent.stroom | escape }}, Stream ID: {{ linkedEvent.streamId | escape }}, Event ID: {{ linkedEvent.eventId | escape }}&lt;/li&gt;
    {% endfor %}
  &lt;/ul&gt;
  {% endif %}
&lt;/body&gt;
</code></pre>
<h3 id="improved-date-picker">Improved Date Picker</h3>
<p>Scheduled queries make use of a new data picker dialog which makes the process of setting a date/time value much easier for the user.
This new date picker will be rolled out to other screens in Stroom in some later release.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.04/date-picker.png" href="../../images/releases/07.04/date-picker.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.04/date-picker.png" style="max-width:300" alt="images/releases/07.04/date-picker.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">New date picker</figcaption>
      </div>
      
    </figure>
  </a>
</div>


</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '3.3.'; page-break-before: always">
    
  <h1 id="pg-9d40796fbd6dd154e3187ff851452cf5">3.3 - Breaking Changes</h1>
    <div class="lead">Changes in Stroom version 7.4 that may break existing processing or ways of working.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of the changes affect you.

</div>


<h2 id="analytic-rules">Analytic Rules</h2>
<p>Any Analytic Rules <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Analytic rule"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M1333 566q18 20 7 44l-540 1157q-13 25-42 25-4 0-14-2-17-5-25.5-19t-4.5-30l197-808-406 101q-4 1-12 1-18 0-31-11-18-15-13-39l201-825q4-14 16-23t28-9h328q19 0 32 12.5t13 29.5q0 8-5 18l-171 463 396-98q8-2 12-2 19 0 34 15z"/></svg></span>
  </span> created in versions 7.2 or 7.3 will need to be deleted and re-created in v7.4.
Analytic Rules has been an experimental feature therefore there is no migration in place for rules from previous versions of Stroom.</p>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '3.4.'; page-break-before: always">
    
  <h1 id="pg-efd79778d154f50adaa2e1c1dc12abf8">3.4 - Upgrade Notes</h1>
    <div class="lead">Required actions and information relating to upgrading to Stroom version 7.4.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of it is relevant to your Stroom instance.

</div>


<h2 id="java-version">Java Version</h2>
<p>Stroom v7.5 requires Java 21.
This is the same java version as Stroom v7.3.
Ensure the Stroom and Stroom-Proxy hosts are running the latest patch release of Java v21.</p>
<h2 id="database-migrations">Database Migrations</h2>
<p>When Stroom boots for the first time with a new version it will run any required database migrations to bring the database schema up to the correct version.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    It is highly recommended to ensure you have a database backup in place before booting stroom with a new version.
This is to mitigate against any problems with the migration.
It is also recommended to test the migration against a copy of your database to ensure that there are no problems when you do it for real.

</div>


<p>On boot, Stroom will ensure that the migrations are only run by a single node in the cluster.
This will be the node that reaches that point in the boot process first.
All other nodes will wait until that is complete before proceeding with the boot process.</p>
<p>It is recommended however to use a single node to execute the migration.
To avoid Stroom starting up and beginning processing you can use the <code>migrage</code> command to just migrate the database and not fully boot Stroom.
See <a href="../../docs/user-guide/tools/command-line/#migrate"><code>migrage</code> command</a> for more details.</p>
<h3 id="migration-filename-change">Migration Filename Change</h3>
<p>If you are deploying onto a v7.4-beta.1 instance you will need to modify the database table used to log migration history.
If the <code>job_schema_history</code> table contains version <code>07.03.00.001</code> then you will need to run the following SQL against the database to prevent Stroom from failing the migration on boot.</p>


<div class="code-toolbar">
  <pre 
    class="command-line language-sql" 
    data-prompt="mysql>" 
    data-filter-output="(out)"
    data-continuation-prompt="->"
    data-filter-continuation="(con)"><code class="language-sql">delete from job_schema_history where version = &#39;07.03.00.001&#39;;</code></pre>
</div>

<h3 id="migration-scripts">Migration Scripts</h3>
<!--
#############################################################################################
#                                                                                           #
#  This section is auto-generated by TestListDbMigrations.listDbMigrationsForLatestVersion  #
#                                                                                           #
#############################################################################################
-->
<p>For information purposes only, the following are the database migrations that will be run when upgrading to 7.4.0 from the previous minor version.</p>
<p>Note, the <code>legacy</code> module will run first (if present) then the other module will run in no particular order.</p>
<h4 id="module-stroom-analytics">Module <code>stroom-analytics</code></h4>
<h5 id="script-v07_04_00_001__execution_schedulesql">Script <code>V07_04_00_001__execution_schedule.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-analytics/stroom-analytics-impl-db/src/main/resources/stroom/analytics/impl/db/migration/V07_04_00_001__execution_schedule.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

-- --------------------------------------------------

--
-- Create the table
--
CREATE TABLE IF NOT EXISTS execution_schedule (
   id int NOT NULL AUTO_INCREMENT,
   name varchar(255) NOT NULL,
   enabled tinyint NOT NULL DEFAULT '0',
   node_name varchar(255) NOT NULL,
   schedule_type varchar(255) NOT NULL,
   expression varchar(255) NOT NULL,
   contiguous tinyint NOT NULL DEFAULT '0',
   start_time_ms bigint DEFAULT NULL,
   end_time_ms bigint DEFAULT NULL,
   doc_type varchar(255) NOT NULL,
   doc_uuid varchar(255) NOT NULL,
   PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

CREATE INDEX execution_schedule_doc_idx ON execution_schedule (doc_type, doc_uuid);
CREATE INDEX execution_schedule_enabled_idx ON execution_schedule (doc_type, doc_uuid, enabled, node_name);

CREATE TABLE IF NOT EXISTS execution_history (
   id bigint(20) NOT NULL AUTO_INCREMENT,
   fk_execution_schedule_id int NOT NULL,
   execution_time_ms bigint NOT NULL,
   effective_execution_time_ms bigint NOT NULL,
   status varchar(255) NOT NULL,
   message longtext,
   PRIMARY KEY (id),
   CONSTRAINT execution_history_execution_schedule_id FOREIGN KEY (fk_execution_schedule_id) REFERENCES execution_schedule (id)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

CREATE TABLE IF NOT EXISTS execution_tracker (
   fk_execution_schedule_id int NOT NULL,
   actual_execution_time_ms bigint NOT NULL,
   last_effective_execution_time_ms bigint DEFAULT NULL,
   next_effective_execution_time_ms bigint NOT NULL,
   PRIMARY KEY (fk_execution_schedule_id),
   CONSTRAINT execution_tracker_execution_schedule_id FOREIGN KEY (fk_execution_schedule_id) REFERENCES execution_schedule (id)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

-- --------------------------------------------------

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set shiftwidth=2 tabstop=2 expandtab:

</code></pre>
<h4 id="module-stroom-job">Module <code>stroom-job</code></h4>
<h5 id="script-v07_04_00_005__job_nodesql">Script <code>V07_04_00_005__job_node.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-job/stroom-job-impl-db/src/main/resources/stroom/job/impl/db/migration/V07_04_00_005__job_node.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

update job_node set schedule = concat('0 ', schedule, ' * ?') where job_type = 1 and regexp_like(schedule, '^[^ ]+ [^ ]+ [^ ]+$');

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set tabstop=4 shiftwidth=4 expandtab:

</code></pre>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '3.5.'; page-break-before: always">
    
  <h1 id="pg-ab282e490d7fd3bac3100ba675e6770b">3.5 - Change Log</h1>
    <div class="lead">Link to the full CHANGELOG.</div>
	<p>For a detailed list of all the changes in v7.4 see:








  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/7.4/CHANGELOG.md" target="_blank" class="" style="" title="v7.4 CHANGELOG (external link to https://github.com/gchq/stroom/blob/7.4/CHANGELOG.md)">
    <span>v7.4 CHANGELOG</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</p>

</div>




    
	
  

    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '4.'; page-break-before: always">
    
  <h1 id="pg-2358d9e0b9500722f2c0f337a65e19c6">4 - Version 7.3</h1>
    <div class="lead">Key new features and changes present in v7.3 of Stroom and Stroom-Proxy.</div>
	
</div>




    
      
  
  
  
  

  
  

  
    
    
	
    



<div class="td-content" style="--base-section-num: '4.1.'; ">
    
  <h1 id="pg-dfcd046ddb96d24807a393379db9a699">4.1 - New Features</h1>
    <div class="lead">New features in Stroom version 7.3.</div>
	<h2 id="user-interface">User Interface</h2>
<ul>
<li>
<p>Add a Copy <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1664 1632v-1088q0-13-9.5-22.5t-22.5-9.5h-1088q-13 0-22.5 9.5t-9.5 22.5v1088q0 13 9.5 22.5t22.5 9.5h1088q13 0 22.5-9.5t9.5-22.5zm128-1088v1088q0 66-47 113t-113 47h-1088q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1088q66 0 113 47t47 113zm-384-384v160h-128v-160q0-13-9.5-22.5t-22.5-9.5h-1088q-13 0-22.5 9.5t-9.5 22.5v1088q0 13 9.5 22.5t22.5 9.5h160v128h-160q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1088q66 0 113 47t47 113z"/></svg></span>
  </span> button to the Processors sub-tab on the Pipeline screen.
This will create a duplicate of an existing filter.</p>
</li>
<li>
<p>Add a Line Wrapping <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Text wrap"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg" ><path style="stroke-width:32;fill:currentColor;stroke:currentColor;stroke-dasharray:none" d="m 55.939046,1336.0329 c 0,-33.1384 26.865158,-60.0043 60.004354,-60.0043 h 520.03774 c 33.1392,0 60.00435,26.8659 60.00435,60.0043 0,33.1384 -26.86515,60.0044 -60.00435,60.0044 H 115.9434 c -33.139196,0 -60.004354,-26.866 -60.004354,-60.0044 z M 115.9434,755.99082 c -33.139196,0 -60.004354,26.86595 -60.004354,60.00436 0,33.1384 26.865158,60.00435 60.004354,60.00435 h 1300.0944 c 110.4641,0 200.0145,89.5505 200.0145,200.01457 0,110.464 -89.5504,200.0145 -200.0145,200.0145 h -355.1697 l 57.5721,-57.5802 c 23.4337,-23.4337 23.4337,-61.4204 0,-84.8542 -23.4337,-23.4337 -61.4205,-23.4337 -84.8541,0 l -160.01172,160.0117 c -23.4337,23.4336 -23.4337,61.4205 0,84.8541 l 160.01172,160.0116 c 23.4336,23.4338 61.4204,23.4338 84.8541,0 23.4337,-23.4337 23.4337,-61.4204 0,-84.8542 l -57.5721,-57.5801 h 355.1697 c 176.7409,0 320.0232,-143.2824 320.0232,-320.0232 0,-176.74088 -143.2823,-320.02328 -320.0232,-320.02328 z m 0,-520.03774 c -33.139196,0 -60.004354,26.86515 -60.004354,60.00436 0,33.1392 26.865158,60.00435 60.004354,60.00435 h 1480.1074 c 33.1385,0 60.0044,-26.86515 60.0044,-60.00435 0,-33.13921 -26.8659,-60.00436 -60.0044,-60.00436 z" /></svg> </span>
  </span> toggle button to the Server Tasks screen.
This will enable/disable line wrapping on the Name and Info cells.</p>
</li>
<li>
<p>Allow pane resizing in dashboards without needing to be in design mode.</p>
</li>
<li>
<p>Add Copy <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Copy"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1664 1632v-1088q0-13-9.5-22.5t-22.5-9.5h-1088q-13 0-22.5 9.5t-9.5 22.5v1088q0 13 9.5 22.5t22.5 9.5h1088q13 0 22.5-9.5t9.5-22.5zm128-1088v1088q0 66-47 113t-113 47h-1088q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1088q66 0 113 47t47 113zm-384-384v160h-128v-160q0-13-9.5-22.5t-22.5-9.5h-1088q-13 0-22.5 9.5t-9.5 22.5v1088q0 13 9.5 22.5t22.5 9.5h160v128h-160q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1088q66 0 113 47t47 113z"/></svg></span>
  </span> and Jump to <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Open"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path style="fill:currentColor" d="M17 17H3V3h5V1H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2z"/><path style="fill:currentColor" d="M19 1h-8l3.29 3.29-5.73 5.73 1.42 1.42 5.73-5.73L19 9V1z"/></svg></span>
  </span> hover buttons to the Stream Browser screen to copy the value of the cell or (if it is a document) jump to that document.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/meta-links.png" href="../../images/releases/07.03/meta-links.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/meta-links.png" style="max-width:400" alt="images/releases/07.03/meta-links.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Copy and jump to links in the Data Browser screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

</li>
<li>
<p>Tagging of individual explorer nodes was introduced in <a href="../../releases/v07.02/new-features/#document-tagging">v7.2</a>.
v7.3 however adds support for adding/removing tags to/from multiple explorer tree nodes via the explorer context menu.</p>
<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/add-remove-tags.png" href="../../images/releases/07.03/add-remove-tags.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/add-remove-tags.png" style="max-width:400" alt="images/releases/07.03/add-remove-tags.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Add/Remove tags on multiple items.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/add-tags.png" href="../../images/releases/07.03/add-tags.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/add-tags.png" style="max-width:400" alt="images/releases/07.03/add-tags.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Add tags to multiple nodes.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/remove-tags.png" href="../../images/releases/07.03/remove-tags.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/remove-tags.png" style="max-width:400" alt="images/releases/07.03/remove-tags.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Remove tags from multiple nodes.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

  </div>
</li>
</ul>
<h3 id="explorer-tree">Explorer Tree</h3>
<ul>
<li>
<p>Additional buttons on the top of the explorer tree pane.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.03/explorer-pane.png" href="../../images/releases/07.03/explorer-pane.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/explorer-pane.png" style="max-width:300" alt="images/releases/07.03/explorer-pane.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Explorer Tree Pane</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<ul>
<li>
<p>Add Expand All <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Expand all"><svg width="1427.7665" height="2031.5197" viewBox="-300 -330 2027.7665 2631.5197" version="1.1" id="svg1" sodipodi:docname="expand.svg" inkscape:version="1.3.2 (091e20ef0f, 2023-11-25, custom)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs1" /><sodipodi:namedview id="namedview1" pagecolor="var(--icon-colour__white)" bordercolor="var(--icon-colour__black)" borderopacity="0.25" inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0" inkscape:deskcolor="#d1d1d1" inkscape:zoom="0.27501497" inkscape:cx="-125.44772" inkscape:cy="1319.9282" inkscape:window-width="2520" inkscape:window-height="1404" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="svg1" /><g style="stroke:currentColor;stroke-width:167.567" id="g1" transform="translate(0.03304027,-272.00435)"><path d="m 83.75224,1012.6366 c 0.4303,39.9266 48.3887,75.4147 81.9121,40.0468 183.0776,-192.5449 365.53292,-385.74845 548.20252,-578.72498 182.6695,192.97653 365.12474,386.18008 548.20224,578.72498 43.7856,46.1947 112.1966,-28.4881 67.1682,-76.05707 -185.823,-195.93558 -370.82484,-392.95261 -557.52754,-587.98689 -4.8034,-5.6117 -10.2473,-10.4633 -16.1231,-14.4855 -12.4844,-9.643 -27.0796,-13.9638 -41.7198,-13.6909 -14.6402,-0.2729 -29.2354,4.0479 -41.7198,13.6909 -5.8758,4.0222 -11.3198,8.8738 -16.1231,14.4855 -186.7028,195.03428 -371.70472,392.05131 -557.52782,587.98689 -10.5534,11.14898 -14.8757,23.78787 -14.7439,36.01027 z" id="path1" /></g><g style="stroke:currentColor;stroke-width:167.567" id="g2" transform="rotate(180,713.86671,1153.5801)"><path d="m 83.75224,1012.6366 c 0.4303,39.9266 48.3887,75.4147 81.9121,40.0468 183.0776,-192.5449 365.53292,-385.74845 548.20252,-578.72498 182.6695,192.97653 365.12474,386.18008 548.20224,578.72498 43.7856,46.1947 112.1966,-28.4881 67.1682,-76.05707 -185.823,-195.93558 -370.82484,-392.95261 -557.52754,-587.98689 -4.8034,-5.6117 -10.2473,-10.4633 -16.1231,-14.4855 -12.4844,-9.643 -27.0796,-13.9638 -41.7198,-13.6909 -14.6402,-0.2729 -29.2354,4.0479 -41.7198,13.6909 -5.8758,4.0222 -11.3198,8.8738 -16.1231,14.4855 -186.7028,195.03428 -371.70472,392.05131 -557.52782,587.98689 -10.5534,11.14898 -14.8757,23.78787 -14.7439,36.01027 z" id="path1-5" /></g></svg> </span>
  </span> and Collapse All <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Collapse all"><svg width="1427.7665" height="2031.5197" viewBox="-300 -330 2027.7665 2631.5197" version="1.1" id="svg1" sodipodi:docname="collapse.svg" inkscape:version="1.3.2 (091e20ef0f, 2023-11-25, custom)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs1" /><sodipodi:namedview id="namedview1" pagecolor="var(--icon-colour__white)" bordercolor="var(--icon-colour__black)" borderopacity="0.25" inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0" inkscape:deskcolor="#d1d1d1" inkscape:zoom="0.27501497" inkscape:cx="-125.44772" inkscape:cy="1319.9282" inkscape:window-width="2520" inkscape:window-height="1404" inkscape:window-x="0" inkscape:window-y="0" inkscape:window-maximized="1" inkscape:current-layer="svg1" /><g style="stroke:currentColor;stroke-width:167.567" id="g1" transform="translate(0.03304027,880.66019)"><path d="m 83.75224,1012.6366 c 0.4303,39.9266 48.3887,75.4147 81.9121,40.0468 183.0776,-192.5449 365.53292,-385.74845 548.20252,-578.72498 182.6695,192.97653 365.12474,386.18008 548.20224,578.72498 43.7856,46.1947 112.1966,-28.4881 67.1682,-76.05707 -185.823,-195.93558 -370.82484,-392.95261 -557.52754,-587.98689 -4.8034,-5.6117 -10.2473,-10.4633 -16.1231,-14.4855 -12.4844,-9.643 -27.0796,-13.9638 -41.7198,-13.6909 -14.6402,-0.2729 -29.2354,4.0479 -41.7198,13.6909 -5.8758,4.0222 -11.3198,8.8738 -16.1231,14.4855 -186.7028,195.03428 -371.70472,392.05131 -557.52782,587.98689 -10.5534,11.14898 -14.8757,23.78787 -14.7439,36.01027 z" id="path1" /></g><g style="stroke:currentColor;stroke-width:167.567" id="g2" transform="rotate(180,713.86671,575.42972)"><path d="m 83.75224,1012.6366 c 0.4303,39.9266 48.3887,75.4147 81.9121,40.0468 183.0776,-192.5449 365.53292,-385.74845 548.20252,-578.72498 182.6695,192.97653 365.12474,386.18008 548.20224,578.72498 43.7856,46.1947 112.1966,-28.4881 67.1682,-76.05707 -185.823,-195.93558 -370.82484,-392.95261 -557.52754,-587.98689 -4.8034,-5.6117 -10.2473,-10.4633 -16.1231,-14.4855 -12.4844,-9.643 -27.0796,-13.9638 -41.7198,-13.6909 -14.6402,-0.2729 -29.2354,4.0479 -41.7198,13.6909 -5.8758,4.0222 -11.3198,8.8738 -16.1231,14.4855 -186.7028,195.03428 -371.70472,392.05131 -557.52782,587.98689 -10.5534,11.14898 -14.8757,23.78787 -14.7439,36.01027 z" id="path1-5" /></g></svg> </span>
  </span> buttons to the explorer pane to open or close all items in the tree respectively.</p>
</li>
<li>
<p>Add a Locate Current Item <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Locate Current Item"><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --><svg width="800px" height="800px" viewBox="0 0 24 24" style="fill:none;stroke:currentColor" version="1.1" id="svg5" sodipodi:docname="locate.svg" inkscape:version="1.3.2 (091e20ef0f, 2023-11-25, custom)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs5" /><sodipodi:namedview id="namedview5" pagecolor="var(--icon-colour__white)" bordercolor="var(--icon-colour__black)" borderopacity="0.25" inkscape:showpageshadow="2" inkscape:pageopacity="0.0" inkscape:pagecheckerboard="0" inkscape:deskcolor="#d1d1d1" inkscape:zoom="0.49469006" inkscape:cx="292.10209" inkscape:cy="320.40264" inkscape:window-width="1444" inkscape:window-height="1243" inkscape:window-x="934" inkscape:window-y="75" inkscape:window-maximized="0" inkscape:current-layer="svg5" /><g id="g6"><path d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z" stroke-width="3" id="path1" /><path d="M 4.0618971,12 H 5.9096605" stroke-width="3" stroke-linecap="round" id="path2" style="stroke-linecap:square" sodipodi:nodetypes="cc" /><path d="m 18.09034,12 h 1.544543" stroke-width="3" stroke-linecap="round" id="path3" style="stroke-linecap:square" sodipodi:nodetypes="cc" /><path d="M 12,19.877459 V 18.09034" stroke-width="3" stroke-linecap="round" id="path4" style="stroke-linecap:square" sodipodi:nodetypes="cc" /><path d="M 12,5.9096605 V 4.2438292" stroke-width="3" stroke-linecap="round" id="path5" style="stroke-linecap:square" sodipodi:nodetypes="cc" /></g><!--<path d="M10 12H12H14" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>--><!--<path d="M12 14L12 12L12 10" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>--></svg> </span>
  </span> button to the explorer pane to locate the currently open document in the explorer tree.</p>
</li>
</ul>
</li>
</ul>
<h3 id="finding-things">Finding Things</h3>
<h4 id="find">Find</h4>
<p>New screen for finding documents by name.
Accessed using 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    

    
      
    

    
      
    

    

    
      
      
    
      
      
    
      
      
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">Shift ⇧</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">Alt</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">f</span>
      </span>
    </span>
 or</p>





  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item " >

      <div class="stroom-menu-item-text">Navigation
      </div>
        <div class="stroom-menu-item-arrow">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Arrow right"><svg xmlns="http://www.w3.org/2000/svg" width="1427.7665" height="1427.7665" viewBox="0 0 1427.7665 1427.7665"><g style="stroke:currentColor;stroke-width:167.567"><path d="m 415.05387,83.70929 c -39.92654,0.4303 -75.41463,48.3887 -40.0468,81.9121 C 567.552,348.69899 760.75555,531.15431 953.73208,713.82391 760.75555,896.49341 567.552,1078.9486 375.00707,1262.0262 c -46.19471,43.7855 28.48812,112.1966 76.0571,67.1681 195.93558,-185.823 392.95261,-370.82479 587.98693,-557.52749 5.6117,-4.8034 10.4633,-10.2473 14.4855,-16.1231 9.643,-12.4844 13.9638,-27.0796 13.6909,-41.7198 0.2729,-14.6402 -4.0479,-29.2354 -13.6909,-41.7198 -4.0222,-5.8758 -8.8738,-11.3198 -14.4855,-16.1231 C 844.01678,469.27821 646.99975,284.27629 451.06417,98.45319 439.91519,87.89979 427.27628,83.57749 415.05387,83.70929 Z"/></g></svg> </span>
  </span>
        </div>
    </div>
  </div>

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 7px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Find"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg></span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Find
      </div>
    </div>
  </div>
  </div>










  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/find.png" href="../../images/releases/07.03/find.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/find.png" style="max-width:400" alt="images/releases/07.03/find.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Find</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h4 id="find-in-content">Find In Content</h4>
<p>Improvements to the Find In Content screen so that it now shows the content of the document and highlights the matched terms.
Now accessible using 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    

    

    

    

    
      
      
        
        
      
    
      
      
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">shift,ctrl</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">f</span>
      </span>
    </span>
 or</p>





  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item " >

      <div class="stroom-menu-item-text">Navigation
      </div>
        <div class="stroom-menu-item-arrow">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Arrow right"><svg xmlns="http://www.w3.org/2000/svg" width="1427.7665" height="1427.7665" viewBox="0 0 1427.7665 1427.7665"><g style="stroke:currentColor;stroke-width:167.567"><path d="m 415.05387,83.70929 c -39.92654,0.4303 -75.41463,48.3887 -40.0468,81.9121 C 567.552,348.69899 760.75555,531.15431 953.73208,713.82391 760.75555,896.49341 567.552,1078.9486 375.00707,1262.0262 c -46.19471,43.7855 28.48812,112.1966 76.0571,67.1681 195.93558,-185.823 392.95261,-370.82479 587.98693,-557.52749 5.6117,-4.8034 10.4633,-10.2473 14.4855,-16.1231 9.643,-12.4844 13.9638,-27.0796 13.6909,-41.7198 0.2729,-14.6402 -4.0479,-29.2354 -13.6909,-41.7198 -4.0222,-5.8758 -8.8738,-11.3198 -14.4855,-16.1231 C 844.01678,469.27821 646.99975,284.27629 451.06417,98.45319 439.91519,87.89979 427.27628,83.57749 415.05387,83.70929 Z"/></g></svg> </span>
  </span>
        </div>
    </div>
  </div>

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 7px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Find"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg></span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Find In Content
      </div>
    </div>
  </div>
  </div>










  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/find-in-content.png" href="../../images/releases/07.03/find-in-content.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/find-in-content.png" style="max-width:400" alt="images/releases/07.03/find-in-content.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Find In Content</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h4 id="recent-items">Recent Items</h4>
<p>New screen for finding recently used documents.
Accessed using 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    
      
    

    

    

    

    
      
      
    
      
      
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">Ctrl ^</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">e</span>
      </span>
    </span>
 or</p>





  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item " >

      <div class="stroom-menu-item-text">Navigation
      </div>
        <div class="stroom-menu-item-arrow">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Arrow right"><svg xmlns="http://www.w3.org/2000/svg" width="1427.7665" height="1427.7665" viewBox="0 0 1427.7665 1427.7665"><g style="stroke:currentColor;stroke-width:167.567"><path d="m 415.05387,83.70929 c -39.92654,0.4303 -75.41463,48.3887 -40.0468,81.9121 C 567.552,348.69899 760.75555,531.15431 953.73208,713.82391 760.75555,896.49341 567.552,1078.9486 375.00707,1262.0262 c -46.19471,43.7855 28.48812,112.1966 76.0571,67.1681 195.93558,-185.823 392.95261,-370.82479 587.98693,-557.52749 5.6117,-4.8034 10.4633,-10.2473 14.4855,-16.1231 9.643,-12.4844 13.9638,-27.0796 13.6909,-41.7198 0.2729,-14.6402 -4.0479,-29.2354 -13.6909,-41.7198 -4.0222,-5.8758 -8.8738,-11.3198 -14.4855,-16.1231 C 844.01678,469.27821 646.99975,284.27629 451.06417,98.45319 439.91519,87.89979 427.27628,83.57749 415.05387,83.70929 Z"/></g></svg> </span>
  </span>
        </div>
    </div>
  </div>

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 7px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="History"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1024 544v448q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h224v-352q0-14 9-23t23-9h64q14 0 23 9t9 23zm416 352q0-148-73-273t-198-198-273-73-273 73-198 198-73 273 73 273 198 198 273 73 273-73 198-198 73-273zm224 0q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/></svg></span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Recent Items
      </div>
    </div>
  </div>
  </div>










  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/recent-items.png" href="../../images/releases/07.03/recent-items.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/recent-items.png" style="max-width:400" alt="images/releases/07.03/recent-items.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Recent Items</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h3 id="editor-snippets">Editor Snippets</h3>
<p><a href="../../docs/user-guide/content/editing-text/#auto-completion-and-snippets">Snippets</a> are a way of quickly adding snippets of pre-defined text into the text editors in Stroom.
Snippets have been available in previous versions of Stroom however there have been various additions to the library of snippets available which makes creating/editing content a lot easier.</p>
<ul>
<li>
<p>Add snippets for <a href="../../docs/user-guide/data-splitter/">Data Splitter</a>.
For the list of available snippets see <a href="../../docs/reference-section/snippet-reference/#data-splitter-snippets">here</a>.</p>
</li>
<li>
<p>Add snippets for <a href="../../docs/reference-section/pipeline-elements/#xmlfragmentparser">XMLFragmentParser</a>.
For the list of available snippets see <a href="../../docs/reference-section/snippet-reference/#xmlfragmentparser-snippets">here</a>.</p>
</li>
<li>
<p>Add new XSLT snippets for <code>&lt;xsl:element&gt;</code> and <code>&lt;xsl:message&gt;</code>.
For the list of available snippets see <a href="../../docs/reference-section/snippet-reference/#xmlxslt-snippets">here</a>.</p>
</li>
<li>
<p>Add snippets for <span class="glossary-link">
  <a href="../../docs/glossary/#stroomql" title="Glossary entry for StroomQL">
    <span>StroomQL</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>.
For the list of available snippets see <a href="../../docs/reference-section/snippet-reference/#stroom-query-language-snippets">here</a>.</p>
</li>
</ul>
<h3 id="api-keys">API Keys</h3>
<p>API Keys are a means for client systems to authenticate with Stroom.
In v7.2 of Stroom, the ability to use API Keys was removed if you were using an <span class="glossary-link">
  <a href="../../docs/glossary/#idp" title="Glossary entry for external identity provider">
    <span>external identity provider</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> as client systems could get tokens from the IDP themselves.
In v7.3 the ability to use API Keys with an external IDP has returned as we felt it offered client systems a choice and removed the complexity of dealing with the IDP.</p>
<p>The API Keys screen has undergone various improvements:</p>
<ul>
<li>Look/feel brought in line with other screens in Stroom.</li>
<li>Ability to temporarily enable/disable API Keys.
A key that is disabled in Stroom cannot be authenticated against.</li>
<li>Deletion of an API Key prevents any future authentication against that key.</li>
<li>Named API Keys to indicate purpose, e.g. naming a key with the client system&rsquo;s name.</li>
<li>Comments for keys to add additional context/information for a key.</li>
<li>API Key prefix to aid with identifying an API Key.</li>
<li>The full API key string is no longer stored in Stroom and cannot be viewed after creation.</li>
</ul>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 810px">

  <a title="images/releases/07.03/api-keys.png" href="../../images/releases/07.03/api-keys.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/api-keys.png" style="max-width:800" alt="images/releases/07.03/api-keys.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">API Keys screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h4 id="key-creation">Key Creation</h4>
<p>The screens for creating a new API Key are as follows:</p>
<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/create-api-key-1.png" href="../../images/releases/07.03/create-api-key-1.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/create-api-key-1.png" style="max-width:400" alt="images/releases/07.03/create-api-key-1.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Create API Key (part 1)</figcaption>
      </div>
      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/create-api-key-2.png" href="../../images/releases/07.03/create-api-key-2.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/create-api-key-2.png" style="max-width:400" alt="images/releases/07.03/create-api-key-2.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Create API Key (part 2)</figcaption>
      </div>
      
    </figure>
  </a>
</div>

</div>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Note that the actual API Key is <strong>ONLY</strong> visible on the second dialog.
Once that dialog is closed Stroom cannot show you the API Key string as it does not store it.
This is for security reasons.
You must copy the created key and give it to the recipient at this point.

</div>


<h4 id="key-format">Key Format</h4>
<p>We have also made changes to the format of the API Key itself.
In v7.2, the API Key was an OAuth token so had data baked into it.
In v7.3, the API Key is essentially just a <em>dumb</em> random string, like a very long and secure password.
The following is an example of a new API Key:</p>
<pre><code>sak_e1e78f6ee0_6CyT2Mpj2seVJzYtAXsqWwKJzyUqkYqTsammVerbJpvimtn4BpE9M5L2Sx6oeG5prhyzcA7U6fyV5EkwTxoXJPfDWLneQAq16i5P75qdQNbqJ99Wi7xzaDhryMdhVZhs
</code></pre>
<p>The structure of the key is as follows:</p>
<ol>
<li><code>sak</code> - The key type, <strong>S</strong>troom <strong>A</strong>PI <strong>K</strong>ey.</li>
<li><code>_</code> - separator</li>
<li>Truncated SHA2-256 hash (truncated to 10 chars) of the whole API Key.</li>
<li><code>_</code> - separator</li>
<li>128 crypto random chars in the Base58 character set.
This character set ensures no awkward characters that might need escaping and removes some ambiguous characters (<code>0OIl</code>).</li>
</ol>
<p>Features of the new format are:</p>
<ul>
<li>Fixed length of 143 chars with fixed prefix (<code>sak_</code>) that make it easier to search for API Keys in config, e.g. to stop API Keys being leaked into online public repositories and the like.</li>
<li>Unique prefix (e.g. <code>sak_e1e78f6ee0_</code>) to help link an API being used by a client with the API Key record stored in Stroom.
This part of the key is stored and displayed in Stroom.</li>
<li>The hash part acts as a checksum for the key to ensure it is correct.
The following 







  
  

<span class="external-link">
  <a href="https://gchq.github.io/CyberChef/#recipe=Register%28%27sak_%28.*%29_.*$%27,true,false,false%29Regular_expression%28%27User%20defined%27,%27sak_.*_%28.*%29$%27,true,true,false,false,false,false,%27List%20capture%20groups%27%29SHA2%28%27256%27,64,160%29Regular_expression%28%27User%20defined%27,%27%5E.%7B10%7D%27,true,true,false,false,false,false,%27List%20matches%27%29Regular_expression%28%27User%20defined%27,%27%5E$R0$%27,true,true,false,false,false,false,%27Highlight%20matches%27%29&amp;input=c2FrX2UxZTc4ZjZlZTBfNkN5VDJNcGoyc2VWSnpZdEFYc3FXd0tKenlVcWtZcVRzYW1tVmVyYkpwdmltdG40QnBFOU01TDJTeDZvZUc1cHJoeXpjQTdVNmZ5VjVFa3dUeG9YSlBmRFdMbmVRQXExNmk1UDc1cWRRTmJxSjk5V2k3eHphRGhyeU1kaFZaaHM" target="_blank" class="" style="" title="CyberChef recipe (external link to https://gchq.github.io/CyberChef/#recipe=Register(&#39;sak_(.*)_.*$&#39;,true,false,false)Regular_expression(&#39;User%20defined&#39;,&#39;sak_.*_(.*)$&#39;,true,true,false,false,false,false,&#39;List%20capture%20groups&#39;)SHA2(&#39;256&#39;,64,160)Regular_expression(&#39;User%20defined&#39;,&#39;%5E.%7B10%7D&#39;,true,true,false,false,false,false,&#39;List%20matches&#39;)Regular_expression(&#39;User%20defined&#39;,&#39;%5E$R0$&#39;,true,true,false,false,false,false,&#39;Highlight%20matches&#39;)&amp;input=c2FrX2UxZTc4ZjZlZTBfNkN5VDJNcGoyc2VWSnpZdEFYc3FXd0tKenlVcWtZcVRzYW1tVmVyYkpwdmltdG40QnBFOU01TDJTeDZvZUc1cHJoeXpjQTdVNmZ5VjVFa3dUeG9YSlBmRFdMbmVRQXExNmk1UDc1cWRRTmJxSjk5V2k3eHphRGhyeU1kaFZaaHM)">
    <span>CyberChef recipe</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
 shows how you can validate the hash part of a key.</li>
</ul>
<h2 id="analytics">Analytics</h2>
<ul>
<li>
<p>Add distributed processing for streaming analytics.
This means streaming analytics can now run on all nodes in the cluster rather than just one.</p>
</li>
<li>
<p>Add multiple recipients to rule notification emails.
Previously only one recipient could be added.</p>
</li>
</ul>
<h2 id="search">Search</h2>
<ul>
<li>
<p>Add support for Lucene 9.8.0 and supporting multiple version of Lucene.
Stroom now stores the Lucene version used to create an index shard against the shard so that the correct Lucene version is used when reading/writing from that shard.
This will allow Stroom to harness new Lucene features in future while maintaining backwards compatibility with older versions.</p>
</li>
<li>
<p>Add support for <code>field in</code> and <code>field in dictionary</code> to <span class="glossary-link">
  <a href="../../docs/glossary/#stroomql" title="Glossary entry for StroomQL">
    <span>StroomQL</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>.</p>
</li>
</ul>
<h2 id="processing">Processing</h2>
<ul>
<li>
<p>Improve the display of processor filter state.
The columns <code>Tracker Ms</code> and <code>Tracker %</code> have been removed and the <code>Status</code> column has been improved better reflect the state of the filter tracker.</p>
</li>
<li>
<p>Stroom now supports the XSLT standard element <code>&lt;xsl:message&gt;</code>.
This element will be handled as follows:</p>
<pre><code class="language-xml">&lt;!-- Log `some message` at severity `FATAL` and terminate processing of that stream part immediately.
     Note that `terminate=&quot;yes&quot;` will trump any severity that is also set. --&gt;
&lt;xsl:message terminate=&quot;yes&quot;&gt;some message&lt;/xsl:message&gt;

&lt;!-- Log `some message` at severity `ERROR`. --&gt;
&lt;xsl:message&gt;some message&lt;/xsl:message&gt;

&lt;!-- Log `some message` at severity `FATAL`. --&gt;
&lt;xsl:message&gt;&lt;fatal&gt;some message&lt;/fatal&gt;&lt;/xsl:message&gt;

&lt;!-- Log `some message` at severity `ERROR`. --&gt;
&lt;xsl:message&gt;&lt;error&gt;some message&lt;/error&gt;&lt;/xsl:message&gt;

&lt;!-- Log `some message` at severity `WARNING`. --&gt;
&lt;xsl:message&gt;&lt;warn&gt;some message&lt;/warn&gt;&lt;/xsl:message&gt;

&lt;!-- Log `some message` at severity `INFO`. --&gt;
&lt;xsl:message&gt;&lt;info&gt;some message&lt;/info&gt;&lt;/xsl:message&gt;

&lt;!-- Log $msg at severity `ERROR`. --&gt;
&lt;xsl:message&gt;&lt;xsl:value-of select=&quot;$msg&quot;&gt;&lt;/xsl:message&gt;
</code></pre>
<p>The namespace of the severity element (e.g. <code>&lt;info&gt;</code> is ignored.</p>
</li>
<li>
<p>Add the following pipeline element properties to allow control of logged warnings for removal/replacement respectively.</p>
<ul>
<li>Add property <code>warnOnRemoval</code> to 







  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#invalidcharfilterreader" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="InvalidCharFilterReader &#34;InvalidCharFilterReader&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Stream"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__blue)" d="M 499.42773 349.50586 C 471.2255 349.65535 443.05802 352.21777 415.25195 357.10156 C 314.29291 374.83377 218.08985 423.16111 142.17383 497.58398 C 120.16923 517.22845 82.017578 562.56836 82.017578 562.56836 L 17.439453 647.62891 C 11.715074 655.16906 9.4362619 663.20332 10.603516 671.73047 C 11.770779 680.25761 16.123954 687.38299 23.664062 693.10742 L 178.77539 810.86523 C 186.3155 816.58967 194.34977 818.87035 202.87695 817.70312 C 211.40415 816.53588 218.95139 812.4832 224.25391 804.64062 C 252.73415 758.03917 266.71282 735.64156 320.53711 677.81836 C 409.46174 596.02665 519.53665 566.34857 644.56055 635.73047 C 814.48739 738.37221 971.75585 900.37132 1180.918 905.55859 C 1209.7108 905.57829 1251.7809 901.38952 1283.5625 895.00391 C 1384.5214 877.27168 1480.7245 828.94644 1556.6406 754.52344 C 1578.6452 734.87902 1616.7969 689.53906 1616.7969 689.53906 L 1681.375 604.47852 C 1687.0993 596.93839 1689.3762 588.90409 1688.209 580.37695 C 1687.0417 571.8498 1682.6905 564.72444 1675.1504 559 L 1520.0391 441.24219 C 1512.499 435.51777 1504.4646 433.23706 1495.9375 434.4043 C 1487.4102 435.57155 1479.8631 439.62422 1474.5605 447.4668 C 1446.0803 494.06826 1432.1016 516.46587 1378.2773 574.28906 C 1348.8635 601.34351 1316.4063 622.69518 1281.6191 636.6543 C 1067.6463 709.61943 913.77105 505.66893 745.44531 415.86719 C 668.96293 370.33416 584.03444 349.05738 499.42773 349.50586 z M 594.88477 897.21094 C 566.68253 897.36043 538.51505 899.92285 510.70898 904.80664 C 409.74993 922.53885 313.54689 970.86407 237.63086 1045.2871 C 215.62627 1064.9315 177.47266 1110.2734 177.47266 1110.2734 L 112.89648 1195.332 C 107.1721 1202.8722 104.89329 1210.9084 106.06055 1219.4355 C 107.22781 1227.9627 111.58098 1235.086 119.12109 1240.8105 L 274.23242 1358.5684 C 281.77254 1364.2928 289.80483 1366.5734 298.33203 1365.4062 C 306.85921 1364.239 314.4084 1360.1864 319.71094 1352.3438 C 348.19118 1305.7423 362.16986 1283.3466 415.99414 1225.5234 C 504.91877 1143.7317 614.99368 1114.0536 740.01758 1183.4355 C 909.94442 1286.0772 1067.2128 1448.0744 1276.375 1453.2617 C 1305.1678 1453.2817 1347.2362 1449.0945 1379.0176 1442.709 C 1479.9765 1424.9767 1576.1817 1376.6515 1652.0977 1302.2285 C 1674.1023 1282.584 1712.2539 1237.2441 1712.2539 1237.2441 L 1776.832 1152.1836 C 1782.5562 1144.6434 1784.8333 1136.6091 1783.666 1128.082 C 1782.4987 1119.5548 1778.1456 1112.4295 1770.6055 1106.7051 L 1615.4941 988.94727 C 1607.9538 983.22287 1599.9217 980.94208 1591.3945 982.10938 C 1582.8673 983.27657 1575.3182 987.32927 1570.0156 995.17188 C 1541.5354 1041.7734 1527.5567 1064.169 1473.7324 1121.9922 C 1444.3187 1149.0467 1411.8635 1170.4003 1377.0762 1184.3594 C 1163.1036 1257.3246 1009.2262 1053.3739 840.90039 963.57227 C 764.41799 918.0392 679.49147 896.76246 594.88477 897.21094 z "/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">InvalidCharFilterReader</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  







.</li>
<li>Add property <code>warnOnReplacement</code> to 







  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#invalidxmlcharfilterreader" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="InvalidXMLCharFilterReader &#34;InvalidXMLCharFilterReader&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Stream"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__blue)" d="M 499.42773 349.50586 C 471.2255 349.65535 443.05802 352.21777 415.25195 357.10156 C 314.29291 374.83377 218.08985 423.16111 142.17383 497.58398 C 120.16923 517.22845 82.017578 562.56836 82.017578 562.56836 L 17.439453 647.62891 C 11.715074 655.16906 9.4362619 663.20332 10.603516 671.73047 C 11.770779 680.25761 16.123954 687.38299 23.664062 693.10742 L 178.77539 810.86523 C 186.3155 816.58967 194.34977 818.87035 202.87695 817.70312 C 211.40415 816.53588 218.95139 812.4832 224.25391 804.64062 C 252.73415 758.03917 266.71282 735.64156 320.53711 677.81836 C 409.46174 596.02665 519.53665 566.34857 644.56055 635.73047 C 814.48739 738.37221 971.75585 900.37132 1180.918 905.55859 C 1209.7108 905.57829 1251.7809 901.38952 1283.5625 895.00391 C 1384.5214 877.27168 1480.7245 828.94644 1556.6406 754.52344 C 1578.6452 734.87902 1616.7969 689.53906 1616.7969 689.53906 L 1681.375 604.47852 C 1687.0993 596.93839 1689.3762 588.90409 1688.209 580.37695 C 1687.0417 571.8498 1682.6905 564.72444 1675.1504 559 L 1520.0391 441.24219 C 1512.499 435.51777 1504.4646 433.23706 1495.9375 434.4043 C 1487.4102 435.57155 1479.8631 439.62422 1474.5605 447.4668 C 1446.0803 494.06826 1432.1016 516.46587 1378.2773 574.28906 C 1348.8635 601.34351 1316.4063 622.69518 1281.6191 636.6543 C 1067.6463 709.61943 913.77105 505.66893 745.44531 415.86719 C 668.96293 370.33416 584.03444 349.05738 499.42773 349.50586 z M 594.88477 897.21094 C 566.68253 897.36043 538.51505 899.92285 510.70898 904.80664 C 409.74993 922.53885 313.54689 970.86407 237.63086 1045.2871 C 215.62627 1064.9315 177.47266 1110.2734 177.47266 1110.2734 L 112.89648 1195.332 C 107.1721 1202.8722 104.89329 1210.9084 106.06055 1219.4355 C 107.22781 1227.9627 111.58098 1235.086 119.12109 1240.8105 L 274.23242 1358.5684 C 281.77254 1364.2928 289.80483 1366.5734 298.33203 1365.4062 C 306.85921 1364.239 314.4084 1360.1864 319.71094 1352.3438 C 348.19118 1305.7423 362.16986 1283.3466 415.99414 1225.5234 C 504.91877 1143.7317 614.99368 1114.0536 740.01758 1183.4355 C 909.94442 1286.0772 1067.2128 1448.0744 1276.375 1453.2617 C 1305.1678 1453.2817 1347.2362 1449.0945 1379.0176 1442.709 C 1479.9765 1424.9767 1576.1817 1376.6515 1652.0977 1302.2285 C 1674.1023 1282.584 1712.2539 1237.2441 1712.2539 1237.2441 L 1776.832 1152.1836 C 1782.5562 1144.6434 1784.8333 1136.6091 1783.666 1128.082 C 1782.4987 1119.5548 1778.1456 1112.4295 1770.6055 1106.7051 L 1615.4941 988.94727 C 1607.9538 983.22287 1599.9217 980.94208 1591.3945 982.10938 C 1582.8673 983.27657 1575.3182 987.32927 1570.0156 995.17188 C 1541.5354 1041.7734 1527.5567 1064.169 1473.7324 1121.9922 C 1444.3187 1149.0467 1411.8635 1170.4003 1377.0762 1184.3594 C 1163.1036 1257.3246 1009.2262 1053.3739 840.90039 963.57227 C 764.41799 918.0392 679.49147 896.76246 594.88477 897.21094 z "/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">InvalidXMLCharFilterReader</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  







.</li>
</ul>
</li>
</ul>
<h3 id="xslt-functions">XSLT Functions</h3>
<ul>
<li>Add XSLT function <code>stroom:hex-to-string(hex, charsetName)</code>.</li>
<li>Add XSLT function <code>stroom:cidr-to-numeric-ip-range</code> XSLT function.</li>
<li>Add XSLT function <code>stroom:ip-in-cidr</code> for testing whether an IP address is within the specified CIDR range.</li>
</ul>
<p>For details of the new functions, see <a href="../../docs/user-guide/pipelines/xslt/xslt-functions/">XSLT Functions</a>.</p>
<h2 id="api">API</h2>
<ul>
<li>Add the un-authenticated API method <code>/api/authproxy/v1/noauth/fetchClientCredsToken</code> to effectively proxy for the <span class="glossary-link">
  <a href="../../docs/glossary/#idp" title="Glossary entry for IDP&#39;s">
    <span>IDP&#39;s</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> token endpoint to obtain an access token using the client credentials flow.
The request contains the client credentials and looks like <code>{ &quot;clientId&quot;: &quot;a-client&quot;, &quot;clientSecret&quot;: &quot;BR9m.....KNQO&quot; }</code>.
The response media type is <code>text/plain</code> and contains the access token.</li>
</ul>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '4.2.'; page-break-before: always">
    
  <h1 id="pg-19c88188f3dbf89c3a5a3fa974883433">4.2 - Preview Features (experimental)</h1>
    <div class="lead">Preview experimental features in Stroom version 7.3.</div>
	<h2 id="s3-storage">S3 Storage</h2>
<p>Integration with S3 storage has been added to allow Stroom to read/write to/from S3 storage, e.g. S3 on AWS.
A data volume can now be create as either <code>Standard</code> or <code>S3</code>.
If configured as <code>S3</code> you need to supply the <code>S3</code> configuration data.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.03/add-volume.png" href="../../images/releases/07.03/add-volume.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/add-volume.png" style="max-width:400" alt="images/releases/07.03/add-volume.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">Add Volume screen.</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<p>This is an experimental feature at this stage and may be subject to change.
The way Stroom reads and writes data has not been optimised for S3 so performance at scale is currently unknown.</p>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '4.3.'; page-break-before: always">
    
  <h1 id="pg-a7a884b9277d2d1671812b8de5f4ae23">4.3 - Breaking Changes</h1>
    <div class="lead">Changes in Stroom version 7.3 that may break existing processing or ways of working.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of the changes affect you.

</div>


<ul>
<li>
<p>The Hessian based feed status RPC service <code>/remoting/remotefeedservice.rpc</code> has been removed as it is using the legacy <code>javax.servlet</code> dependency that is incompatible with <code>jakarta.servlet</code> that is now in use in stroom.
This was used by Stroom-Proxy up to v5.</p>
</li>
<li>
<p>The StroomQL keyword combination <code>vis as</code> has been replaced with <code>show</code>.</p>
</li>
</ul>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '4.4.'; page-break-before: always">
    
  <h1 id="pg-e0a603b7f85bc86392f49c53a4d4e2c6">4.4 - Upgrade Notes</h1>
    <div class="lead">Required actions and information relating to upgrading to Stroom version 7.3.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of it is relevant to your Stroom instance.

</div>


<h2 id="java-version">Java Version</h2>
<p>Stroom v7.3 requires Java v21.
Previous versions of Stroom used Java v17 or lower.
You will need to upgrade Java on the Stroom and Stroom-Proxy hosts to the latest patch release of Java v21.</p>
<h2 id="api-keys">API Keys</h2>
<p>With the change to the format of API Keys (see <a href="../../releases/v07.03/new-features/">here</a>), it is recommended to migrate legacy API Keys over to the new format.
There is no hard requirement to do this as legacy keys will continue to work as is, however the new keys are easier to work with and Stroom has more control over the new format keys, making them more secure.
You are encouraged to create new keys for client systems and ask them to change the keys over.</p>
<h3 id="legacy-key-migration">Legacy Key Migration</h3>
<p>The new API Keys are now stored in a new table <code>api_key</code>.
Legacy keys will be migrated into this table and given a key name and prefix like <code>LEGACY_API_KEY_N</code>, where <code>N</code> is a unique number.
As the whole API was previously visible in v7.2, the API Key string is migrated into the Comments field so remains visible in the UI.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 810px">

  <a title="images/releases/07.03/api-keys.png" href="../../images/releases/07.03/api-keys.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.03/api-keys.png" style="max-width:800" alt="images/releases/07.03/api-keys.png">
      

      
      <div class="card-body px-0 pt-2 pb-0">
        <hr style="border-top: 1px solid #ddd; margin-top: 0px; margin-bottom:4px;">
        <figcaption class="card-text" style="font-size: smaller; text-align: center;">API Keys screen</figcaption>
      </div>
      
    </figure>
  </a>
</div>

<h2 id="database-migrations">Database Migrations</h2>
<p>When Stroom boots for the first time with a new version it will run any required database migrations to bring the database schema up to the correct version.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    It is highly recommended to ensure you have a database backup in place before booting stroom with a new version.
This is to mitigate against any problems with the migration.
It is also recommended to test the migration against a copy of your database to ensure that there are no problems when you do it for real.

</div>


<p>On boot, Stroom will ensure that the migrations are only run by a single node in the cluster.
This will be the node that reaches that point in the boot process first.
All other nodes will wait until that is complete before proceeding with the boot process.</p>
<p>It is recommended however to use a single node to execute the migration.
To avoid Stroom starting up and beginning processing you can use the <code>migrage</code> command to just migrate the database and not fully boot Stroom.
See <a href="../../docs/user-guide/tools/command-line/#migrate"><code>migrage</code> command</a> for more details.</p>
<h3 id="migration-scripts">Migration Scripts</h3>
<!-- This section is auto-generated by TestListDbMigrations.listDbMigrationsForLatestVersion -->
<p>For information purposes only, the following are the database migrations that will be run when upgrading to 7.3.0 from the previous minor version.</p>
<p>Note, the <code>legacy</code> module will run first (if present) then the other module will run in no particular order.</p>
<h4 id="module-stroom-data">Module <code>stroom-data</code></h4>
<h5 id="script-v07_03_00_001__fs_volume_s3sql">Script <code>V07_03_00_001__fs_volume_s3.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-data/stroom-data-store-impl-fs-db/src/main/resources/stroom/data/store/impl/fs/db/migration/V07_03_00_001__fs_volume_s3.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

CREATE TABLE IF NOT EXISTS fs_volume_group (
  id                    int NOT NULL AUTO_INCREMENT,
  version               int NOT NULL,
  create_time_ms        bigint NOT NULL,
  create_user           varchar(255) NOT NULL,
  update_time_ms        bigint NOT NULL,
  update_user           varchar(255) NOT NULL,
  name                  varchar(255) NOT NULL,
  -- 'name' needs to be unique because it is used as a reference
  UNIQUE (name),
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;


DROP PROCEDURE IF EXISTS V07_03_00_001;

DELIMITER $$

CREATE PROCEDURE V07_03_00_001 ()
BEGIN
    DECLARE object_count integer;

    -- Add volume type
    SELECT COUNT(1)
    INTO object_count
    FROM information_schema.columns
    WHERE table_schema = database()
    AND table_name = 'fs_volume'
    AND column_name = 'volume_type';

    IF object_count = 0 THEN
        ALTER TABLE `fs_volume` ADD COLUMN `volume_type` int NOT NULL;
        ALTER TABLE `fs_volume` ADD COLUMN `data` longblob;
        UPDATE `fs_volume` set `volume_type` = 0;
    END IF;

    -- Add default group
    SELECT COUNT(*)
    INTO object_count
    FROM fs_volume_group
    WHERE name = &quot;Default&quot;;

    IF object_count = 0 THEN
        INSERT INTO fs_volume_group (
          version,
          create_time_ms,
          create_user,
          update_time_ms,
          update_user,
          name)
        VALUES (
            1,
            UNIX_TIMESTAMP() * 1000,
            &quot;Flyway migration&quot;,
            UNIX_TIMESTAMP() * 1000,
            &quot;Flyway migration&quot;,
            &quot;Default Volume Group&quot;);
    END IF;

    -- Add volume group
    SELECT COUNT(1)
    INTO object_count
    FROM information_schema.columns
    WHERE table_schema = database()
    AND table_name = 'fs_volume'
    AND column_name = 'fk_fs_volume_group_id';

    IF object_count = 0 THEN
        ALTER TABLE `fs_volume`
        ADD COLUMN `fk_fs_volume_group_id` int NOT NULL;
        UPDATE `fs_volume` SET `fk_fs_volume_group_id` = (SELECT `id` FROM `fs_volume_group` WHERE `name` = &quot;Default Volume Group&quot;);
        ALTER TABLE fs_volume
            ADD CONSTRAINT fs_volume_group_fk_fs_volume_group_id
            FOREIGN KEY (fk_fs_volume_group_id)
            REFERENCES fs_volume_group (id);
    END IF;

END $$

DELIMITER ;

CALL V07_03_00_001;

DROP PROCEDURE IF EXISTS V07_03_00_001;

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set shiftwidth=4 tabstop=4 expandtab:

</code></pre>
<h4 id="module-stroom-index">Module <code>stroom-index</code></h4>
<h5 id="script-v07_03_00_001__index_fieldsql">Script <code>V07_03_00_001__index_field.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-index/stroom-index-impl-db/src/main/resources/stroom/index/impl/db/migration/V07_03_00_001__index_field.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

DROP PROCEDURE IF EXISTS drop_field_source;
DELIMITER //
CREATE PROCEDURE drop_field_source ()
BEGIN
    IF EXISTS (
        SELECT NULL
        FROM INFORMATION_SCHEMA.TABLES
        WHERE TABLE_SCHEMA = database()
        AND TABLE_NAME = 'field_info') THEN
        DROP TABLE field_info;
    END IF;
    IF EXISTS (
        SELECT NULL
        FROM INFORMATION_SCHEMA.TABLES
        WHERE TABLE_SCHEMA = database()
        AND TABLE_NAME = 'field_source') THEN
        DROP TABLE field_source;
    END IF;
    IF EXISTS (
        SELECT NULL
        FROM INFORMATION_SCHEMA.TABLES
        WHERE TABLE_SCHEMA = database()
        AND TABLE_NAME = 'field_schema_history') THEN
        DROP TABLE field_schema_history;
    END IF;
END//
DELIMITER ;
CALL drop_field_source();
DROP PROCEDURE drop_field_source;

--
-- Create the field_source table
--
CREATE TABLE IF NOT EXISTS `index_field_source` (
    `id`        int NOT NULL AUTO_INCREMENT,
    `type`      varchar(255) NOT NULL,
    `uuid`      varchar(255) NOT NULL,
    `name`      varchar(255) NOT NULL,
    PRIMARY KEY (`id`),
    UNIQUE KEY  `index_field_source_type_uuid` (`type`, `uuid`)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

--
-- Create the index_field table
--
CREATE TABLE IF NOT EXISTS `index_field` (
    `id`                        bigint NOT NULL AUTO_INCREMENT,
    `fk_index_field_source_id`  int NOT NULL,
    `type`                      tinyint NOT NULL,
    `name`                      varchar(255) NOT NULL,
    `analyzer`                  varchar(255) NOT NULL,
    `indexed`                   tinyint NOT NULL DEFAULT '0',
    `stored`                    tinyint NOT NULL DEFAULT '0',
    `term_positions`            tinyint NOT NULL DEFAULT '0',
    `case_sensitive`            tinyint NOT NULL DEFAULT '0',
    PRIMARY KEY                 (`id`),
    UNIQUE KEY                  `index_field_source_id_name` (`fk_index_field_source_id`, `name`),
    CONSTRAINT `index_field_fk_index_field_source_id` FOREIGN KEY (`fk_index_field_source_id`) REFERENCES `index_field_source` (`id`)
) ENGINE=InnoDB DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci;

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set tabstop=4 shiftwidth=4 expandtab:

</code></pre>
<h5 id="script-v07_03_00_005__index_field_change_pksql">Script <code>V07_03_00_005__index_field_change_pk.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-index/stroom-index-impl-db/src/main/resources/stroom/index/impl/db/migration/V07_03_00_005__index_field_change_pk.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

DELIMITER $$

DROP PROCEDURE IF EXISTS modify_field_source$$

-- The surrogate PK results in fields from different indexes all being mixed together
-- in the PK index, which causes deadlocks in batch upserts due to gap locks.
-- Change the PK to be (fk_index_field_source_id, name) which should keep the fields
-- together.

CREATE PROCEDURE modify_field_source ()
BEGIN

    -- Remove existing PK
    IF EXISTS (
            SELECT NULL
            FROM INFORMATION_SCHEMA.columns
            WHERE TABLE_SCHEMA = database()
            AND TABLE_NAME = 'index_field'
            AND COLUMN_NAME = 'id') THEN

        ALTER TABLE index_field DROP COLUMN id;
    END IF;

    -- Add the new PK
    IF NOT EXISTS (
            SELECT NULL
            FROM INFORMATION_SCHEMA.table_constraints
            WHERE TABLE_SCHEMA = database()
            AND TABLE_NAME = 'index_field'
            AND CONSTRAINT_NAME = 'PRIMARY') THEN

        ALTER TABLE index_field ADD PRIMARY KEY (fk_index_field_source_id, name);
    END IF;

    -- Remove existing index that is now served by PK
    IF EXISTS (
            SELECT NULL
            FROM INFORMATION_SCHEMA.table_constraints
            WHERE TABLE_SCHEMA = database()
            AND TABLE_NAME = 'index_field'
            AND CONSTRAINT_NAME = 'index_field_source_id_name') THEN

        ALTER TABLE index_field DROP INDEX index_field_source_id_name;
    END IF;

END $$

DELIMITER ;

CALL modify_field_source();

DROP PROCEDURE IF EXISTS modify_field_source;

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set tabstop=4 shiftwidth=4 expandtab:

</code></pre>
<h4 id="module-stroom-processor">Module <code>stroom-processor</code></h4>
<h5 id="script-v07_03_00_001__processorsql">Script <code>V07_03_00_001__processor.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-processor/stroom-processor-impl-db/src/main/resources/stroom/processor/impl/db/migration/V07_03_00_001__processor.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

DROP PROCEDURE IF EXISTS modify_processor;
DELIMITER //
CREATE PROCEDURE modify_processor ()
BEGIN
     DECLARE object_count integer;

     SELECT COUNT(1)
     INTO object_count
     FROM information_schema.table_constraints
     WHERE table_schema = database()
     AND table_name = 'processor'
     AND constraint_name = 'processor_pipeline_uuid';

     IF object_count = 1 THEN
         ALTER TABLE processor DROP INDEX processor_pipeline_uuid;
     END IF;

     SELECT COUNT(1)
     INTO object_count
     FROM information_schema.table_constraints
     WHERE table_schema = database()
     AND table_name = 'processor'
     AND constraint_name = 'processor_task_type_pipeline_uuid';

     IF object_count = 0 THEN
         CREATE UNIQUE INDEX processor_task_type_pipeline_uuid ON processor (task_type, pipeline_uuid);
     END IF;
END//
DELIMITER ;
CALL modify_processor();
DROP PROCEDURE modify_processor;

SET SQL_NOTES=@OLD_SQL_NOTES;

-- vim: set shiftwidth=4 tabstop=4 expandtab:

</code></pre>
<h5 id="script-v07_03_00_005__processor_filtersql">Script <code>V07_03_00_005__processor_filter.sql</code></h5>
<p><strong>Path</strong>: <code>stroom-processor/stroom-processor-impl-db/src/main/resources/stroom/processor/impl/db/migration/V07_03_00_005__processor_filter.sql</code></p>
<pre><code class="language-sql">-- ------------------------------------------------------------------------
-- Copyright 2020 Crown Copyright
--
-- Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
-- ------------------------------------------------------------------------

-- Stop NOTE level warnings about objects (not)? existing
SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0;

-- --------------------------------------------------

DELIMITER $$

-- --------------------------------------------------

DROP PROCEDURE IF EXISTS processor_run_sql_v1 $$

-- DO NOT change this without reading the header!
CREATE PROCEDURE processor_run_sql_v1 (
    p_sql_stmt varchar(1000)
)
BEGIN

    SET @sqlstmt = p_sql_stmt;

    SELECT CONCAT('Running sql: ', @sqlstmt);

    PREPARE stmt FROM @sqlstmt;
    EXECUTE stmt;
    DEALLOCATE PREPARE stmt;
END $$

-- --------------------------------------------------

DROP PROCEDURE IF EXISTS processor_add_column_v1$$

-- DO NOT change this without reading the header!
CREATE PROCEDURE processor_add_column_v1 (
    p_table_name varchar(64),
    p_column_name varchar(64),
    p_column_type_info varchar(64) -- e.g. 'varchar(255) default NULL'
)
BEGIN
    DECLARE object_count integer;

    SELECT COUNT(1)
    INTO object_count
    FROM information_schema.columns
    WHERE table_schema = database()
    AND table_name = p_table_name
    AND column_name = p_column_name;

    IF object_count = 0 THEN
        CALL processor_run_sql_v1(CONCAT(
            'alter table ', database(), '.', p_table_name,
            ' add column ', p_column_name, ' ', p_column_type_info));
    ELSE
        SELECT CONCAT(
            'Column ',
            p_column_name,
            ' already exists on table ',
            database(),
            '.',
            p_table_name);
    END IF;
END $$

-- idempotent
CALL processor_add_column_v1(
        'processor_filter',
        'max_processing_tasks',
        'int NOT NULL DEFAULT 0');

-- vim: set shiftwidth=4 tabstop=4 expandtab:

</code></pre>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '4.5.'; page-break-before: always">
    
  <h1 id="pg-3557f878171ee03337ebbb97b108f394">4.5 - Change Log</h1>
    <div class="lead">Link to the full CHANGELOG.</div>
	<p>For a detailed list of all the changes in v7.3 see:








  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/7.3/CHANGELOG.md" target="_blank" class="" style="" title="v7.3 CHANGELOG (external link to https://github.com/gchq/stroom/blob/7.3/CHANGELOG.md)">
    <span>v7.3 CHANGELOG</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</p>

</div>




    
	
  

    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '5.'; page-break-before: always">
    
  <h1 id="pg-16243fb705115bc5ee1029385a86c967">5 - Version 7.2</h1>
    <div class="lead">Key new features and changes present in v7.2 of Stroom and Stroom-Proxy.</div>
	<p>Stroom v7.1 was not widely adopted so this section may describe features or changes that were part of the v7.1 release.</p>

</div>




    
      
  
  
  
  

  
  

  
    
    
	
    



<div class="td-content" style="--base-section-num: '5.1.'; ">
    
  <h1 id="pg-6c846b813065f8297a59c5faf0f7060c">5.1 - New Features</h1>
    <div class="lead">New features in Stroom version 7.2.</div>
	<h2 id="look-and-feel">Look and Feel</h2>
<h3 id="new-user-interface-design">New User Interface Design</h3>
<p>The user interface has had a bit of a re-design to give it a more modern look and to make it conform to accessibility standards.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.02/new-look.png" href="../../images/releases/07.02/new-look.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/new-look.png" style="max-width:400" alt="images/releases/07.02/new-look.png">
      

      
    </figure>
  </a>
</div>

<h3 id="user-preferences">User Preferences</h3>
<p>Now you can customise Stroom with your own personal preferences.
From the main menu <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Main Menu"><svg xmlns="http://www.w3.org/2000/svg" width="122.879" height="103.609" viewBox="0 0 122.879 103.609"><g style="fill:currentColor"><path d="M10.368,0h102.144c5.703,0,10.367,4.665,10.367,10.367v0 c0,5.702-4.664,10.368-10.367,10.368H10.368C4.666,20.735,0,16.07,0,10.368v0C0,4.665,4.666,0,10.368,0L10.368,0z M10.368,82.875 h102.144c5.703,0,10.367,4.665,10.367,10.367l0,0c0,5.702-4.664,10.367-10.367,10.367H10.368C4.666,103.609,0,98.944,0,93.242l0,0 C0,87.54,4.666,82.875,10.368,82.875L10.368,82.875z M10.368,41.438h102.144c5.703,0,10.367,4.665,10.367,10.367l0,0 c0,5.702-4.664,10.368-10.367,10.368H10.368C4.666,62.173,0,57.507,0,51.805l0,0C0,46.103,4.666,41.438,10.368,41.438 L10.368,41.438z"/></g></svg></span>
  </span>, select:</p>





  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item " >

      <div class="stroom-menu-item-text">User
      </div>
        <div class="stroom-menu-item-arrow">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Arrow right"><svg xmlns="http://www.w3.org/2000/svg" width="1427.7665" height="1427.7665" viewBox="0 0 1427.7665 1427.7665"><g style="stroke:currentColor;stroke-width:167.567"><path d="m 415.05387,83.70929 c -39.92654,0.4303 -75.41463,48.3887 -40.0468,81.9121 C 567.552,348.69899 760.75555,531.15431 953.73208,713.82391 760.75555,896.49341 567.552,1078.9486 375.00707,1262.0262 c -46.19471,43.7855 28.48812,112.1966 76.0571,67.1681 195.93558,-185.823 392.95261,-370.82479 587.98693,-557.52749 5.6117,-4.8034 10.4633,-10.2473 14.4855,-16.1231 9.643,-12.4844 13.9638,-27.0796 13.6909,-41.7198 0.2729,-14.6402 -4.0479,-29.2354 -13.6909,-41.7198 -4.0222,-5.8758 -8.8738,-11.3198 -14.4855,-16.1231 C 844.01678,469.27821 646.99975,284.27629 451.06417,98.45319 439.91519,87.89979 427.27628,83.57749 415.05387,83.70929 Z"/></g></svg> </span>
  </span>
        </div>
    </div>
  </div>

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 7px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Settings"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1152 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm512-109v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z"/></svg></span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Preferences
      </div>
    </div>
  </div>
  </div>



<p>You can also change the following:</p>
<ul>
<li>
<p><strong>Layout Density</strong> - This controls the layout spacing to fit more or less user interface elements in the available space.</p>
</li>
<li>
<p><strong>Font</strong> - Change font used in Stroom.</p>
</li>
<li>
<p><strong>Font Size</strong> - Change the font size used in Stroom.</p>
</li>
<li>
<p><strong>Transparency</strong> - Enables partial transparency of dialog windows.
Entirely cosmetic.</p>
</li>
</ul>
<h4 id="theme">Theme</h4>
<p>Choose between the traditional light theme and a new dark theme with light text on a dark background.</p>
<div class="td-card-deck card-deck mb-4">







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 260px">

  <a title="images/releases/07.02/theme-light.png" href="../../images/releases/07.02/theme-light.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/theme-light.png" style="max-width:250" alt="images/releases/07.02/theme-light.png">
      

      
    </figure>
  </a>
</div>








  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 260px">

  <a title="images/releases/07.02/theme-dark.png" href="../../images/releases/07.02/theme-dark.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/theme-dark.png" style="max-width:250" alt="images/releases/07.02/theme-dark.png">
      

      
    </figure>
  </a>
</div>

</div>
<h4 id="editor-preferences">Editor Preferences</h4>
<p>The Ace text editor used within Stroom is used for editing things like XSLTs and viewing stream data.
It can now be personalised with the following options:</p>
<ul>
<li>
<p><strong>Theme</strong> - The colour theme for the editor.
The theme options will be applicable to the main user interface theme, i.e. light/dark editor themes.
The theme affects the colours used for the syntax highlight content.</p>
</li>
<li>
<p><strong>Key Bindings</strong> - Allows you to set the editor to use 







  
  

<span class="external-link">
  <a href="https://en.wikipedia.org/wiki/Vim_%28text_editor%29" target="_blank" class="" style="" title="Vim (external link to https://en.wikipedia.org/wiki/Vim_(text_editor))">
    <span>Vim</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
 key bindings for more powerful text editing.
If you don&rsquo;t know what Vim is then it is best to stick to <em>Standard</em>.
If you would like to learn how to use Vim, install <code>vimtutor</code>.
Note: The Ace editor does not fully emulate Vim, not all Vim key bindings work and there is limited command mode support.</p>
</li>
<li>
<p><strong>Live Auto Completion</strong> - Set this to <em>On</em> if you want the editor code completion to make suggestions as you type.
When set to <em>Off</em> you need to press 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    
      
    

    

    

    

    
      
      
    
      
      
        
          
          
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">Ctrl ^</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">Space ␣</span>
      </span>
    </span>
 to show the suggestion dialog.</p>
</li>
</ul>
<h4 id="date-and-time">Date and Time</h4>
<p>You can now change the format used for displaying the date and time in the user interface.
You can also set the time zone used for displaying the date and time in the user interface.</p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>



    <p>Stroom works in <span class="glossary-link">
<a href="../../docs/glossary/#utc" title="Glossary entry for UTC">
<span>UTC</span>
<i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
</a>
</span> time internally.
Changing the time zone only affects display of dates/times, not how data is stored or the dates/times in events.</p>


</div>


<h3 id="dashboard-changes">Dashboard Changes</h3>
<h4 id="design-mode">Design Mode</h4>
<p>A Design Mode has been introduced to <span class="glossary-link">
  <a href="../../docs/glossary/#dashboard" title="Glossary entry for Dashboards">
    <span>Dashboards</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> and is toggled using the button <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Enter/Exit Design Mode"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z"/></svg></span>
  </span>.
When a <em>Dashboard</em> is in design mode, the following functionality is enabled:</p>
<ul>
<li>Adding components to the <em>Dashboard</em>.</li>
<li>Removing components from the <em>Dashboard</em>.</li>
<li>Moving <em>Dashboard</em> components within panes, to new panes or to existing panes.</li>
<li>Changing the constraints of the <em>Dashboard</em>.</li>
</ul>
<p>On creation of a new <em>Dashboard</em>, Design Mode will be on so the user has full functionality.
On opening an existing <em>Dashboard</em>, Design Mode will be off.
This is because typically, <em>Dashboards</em> are viewed more than they are modified.</p>
<h4 id="visual-constraints">Visual Constraints</h4>
<p>Now it is possible to control the horizontal and vertical constraints of a <em>Dashboard</em>.
In Stroom 7.0, a dashboard would always scale to fit the user&rsquo;s screen.
Sometimes it is desirable for the dashboard canvas area to be larger than the screen so that you have to scroll to see it all.
For example you may have a dashboard with a large number of component panes and rather than squashing them all into the available space you want to be able to scroll vertically in order to see them all.</p>
<p>It is now possible to change the horizontal and/or vertical constraints to fit the available width/height or to be fixed by clicking the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Set Constraints"><svg xmlns="http://www.w3.org/2000/svg" viewBox="4 4 23 23"><path style="fill: currentColor" d="M 5 5 L 5 6 L 5 7 L 6 7 L 7 7 L 7 6 L 7 5 L 6 5 L 5 5 z M 9 5 L 9 7 L 11 7 L 11 5 L 9 5 z M 13 5 L 13 7 L 15 7 L 15 5 L 13 5 z M 17 5 L 17 7 L 19 7 L 19 5 L 17 5 z M 21 5 L 21 7 L 23 7 L 23 5 L 21 5 z M 25 5 L 25 6 L 25 7 L 26 7 L 27 7 L 27 6 L 27 5 L 26 5 L 25 5 z M 5 9 L 5 11 L 7 11 L 7 9 L 5 9 z M 25 9 L 25 11 L 27 11 L 27 9 L 25 9 z M 14 11 L 14 13 L 17.5625 13 L 13.5625 17 L 7 17 L 5 17 L 5 18 L 5 19 L 5 21 L 5 23 L 5 25 L 5 26 L 5 27 L 6 27 L 7 27 L 14 27 L 15 27 L 15 26 L 15 18.4375 L 19 14.4375 L 19 18 L 21 18 L 21 12 L 21 11 L 20 11 L 14 11 z M 5 13 L 5 15 L 7 15 L 7 13 L 5 13 z M 25 13 L 25 15 L 27 15 L 27 13 L 25 13 z M 25 17 L 25 19 L 27 19 L 27 17 L 25 17 z M 7 19 L 13 19 L 13 25 L 7 25 L 7 23 L 7 21 L 7 19 z M 25 21 L 25 23 L 27 23 L 27 21 L 25 21 z M 17 25 L 17 27 L 19 27 L 19 25 L 17 25 z M 21 25 L 21 27 L 23 27 L 23 25 L 21 25 z M 25 25 L 25 26 L 25 27 L 26 27 L 27 27 L 27 26 L 27 25 L 26 25 L 25 25 z"/></svg></span>
  </span> button.</p>
<div class="td-card-deck card-deck mb-4">







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/dashboard-canvas.png" href="../../images/releases/07.02/dashboard-canvas.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/dashboard-canvas.png" style="max-width:300" alt="images/releases/07.02/dashboard-canvas.png">
      

      
    </figure>
  </a>
</div>








  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 110px">

  <a title="images/releases/07.02/dashboard-set-constraints.png" href="../../images/releases/07.02/dashboard-set-constraints.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/dashboard-set-constraints.png" style="max-width:100" alt="images/releases/07.02/dashboard-set-constraints.png">
      

      
    </figure>
  </a>
</div>

</div>
<p>The edges of the canvas can be moved to shrink/grow it.</p>
<h3 id="explorer-filter-matches">Explorer Filter Matches</h3>
<p>Filtering in the explorer has been changed to highlight the filter matches and to search in folders that themselves are a match.
In Stroom v7.0 folders that matched were not expanded.
Match highlighting makes it clearer what items have matched.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.02/explorer-filter-matches.png" href="../../images/releases/07.02/explorer-filter-matches.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/explorer-filter-matches.png" style="max-width:200" alt="images/releases/07.02/explorer-filter-matches.png">
      

      
    </figure>
  </a>
</div>

<h3 id="document-permissions-screen">Document Permissions Screen</h3>
<p>The document and folder permissions screens have been re-designed with a better layout and item highlighting to make it clearer which permissions have been selected.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/folder-permissions.png" href="../../images/releases/07.02/folder-permissions.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/folder-permissions.png" style="max-width:300" alt="images/releases/07.02/folder-permissions.png">
      

      
    </figure>
  </a>
</div>

<h3 id="editor-completion-snippets">Editor Completion snippets</h3>
<p>The number of available <a href="../../docs/user-guide/content/editing-text/#auto-completion-and-snippets">editor completion snippets</a> has increased.
For a list of the available completion snippets see the <a href="../../docs/reference-section/snippet-reference/">Completion Snippet Reference</a>.</p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>


    Completion snippets are an evolving feature so if you have an requests for generic completion snippets then raise an issue on GitHub and we will consider adding them in.

</div>


<h2 id="partitioned-reference-data-stores">Partitioned Reference Data Stores</h2>
<p>In Stroom v7.0 reference data is loaded using a reference loader pipeline and the key/value pairs are stored in a single disk backed reference data store on each Stroom node for fast lookup.
This single store approach has led to high contention and performance problems when purge operations are running against it at the same time or multiple reference <em>Feeds</em> are being loaded at the same time.</p>
<p>In Stroom v7.2 the reference data key/value pairs are now stored in multiple reference data stores on each node, with one store per <em>Feed</em>.
This reduces contention as reference data for one <em>Feed</em> can be loading while a purge operation is running on the store for another <em>Feed</em> or reference data for multiple <em>Feeds</em> can be loaded concurrently.
Performance is still limited by the file system that the stores are hosted on.</p>
<p>All reference data stores are stored in the directory defined by <code>stroom.pipeline.referenceData.lmdb.localDir</code>.</p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">See Also</h4>


    <p>See the <a href="../../releases/v07.02/upgrade-notes/#reference-data-store">upgrade notes</a> for the reference data stores.</p>


</div>


<h2 id="improved-oauth20openid-connect-support">Improved OAuth2.0/OpenID Connect Support</h2>
<p>The support for Open ID Connect (OIDC) authentication has been improved in v7.2.
Stroom can be integrated with AWS Cognito, MS Azure AD, KeyCloak and other OIDC <span class="glossary-link">
  <a href="../../docs/glossary/#idp" title="Glossary entry for Identity Providers (IDPs)">
    <span>Identity Providers (IDPs)</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>.</p>
<p>Data receipt in Stroom and Stroom-Proxy can now enforce OIDC token authentication as well as certificate authentication.
The data receipt authentication is configured via the properties:</p>
<ul>
<li><code>stroom.receive.authenticationRequired</code></li>
<li><code>stroom.receive.certificateAuthenticationEnabled</code></li>
<li><code>stroom.receive.tokenAuthenticationEnabled</code></li>
</ul>
<p>Stroom and Stroom-Proxy have also been changed to use OIDC tokens for API endpoints and inter-node communications.
This currently requires the OIDC IDP to support the client credentials flow.</p>
<p>Stroom can still be used with its own internal IDP if you do not have an external IDP available.</p>
<h3 id="user-naming-changes">User Naming Changes</h3>
<p>The changes to add integration with external OAuth 2.0/OpenID Connect identity provides has required some changes to the way users in Stroom are identified.</p>
<p>Previously in Stroom a user would have a unique username that would be set when creating the account in Stroom.
This would typically by a human friendly name like <code>jbloggs</code> or similar.
It would be used in all the user/permission management screens to identify the user, for functions like <code>current-user()</code>, for simple audit columns in the database (<code>create_user</code> and <code>update_user</code>) and for the audit events stroom produces.</p>
<p>With the integration to external identity providers this has had to change a little.
Typically in OpenID Connect IDPs the unique identity of a principle (user) is fairly unfriendly <span class="glossary-link">
  <a href="../../docs/glossary/#uuid" title="Glossary entry for UUID">
    <span>UUID</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>.
The user will likely also have a more human friendly identity (sometimes called the <code>preferred_username</code>) that may be something like <code>jblogs</code> or <code>jblogs@somedomain.x</code>.
As per the OpenID Connect specification, this friendly identity may not be unique within the IDP, so Stroom has to assume this also.
In reality this identity is typically unique on the IDP though.
The IDP will often also have a full name for the user, e.g. <code>Joe Bloggs</code>.</p>
<p>Stroom now stores and can display all of these identities.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 510px">

  <a title="images/releases/07.02/application-permissions.png" href="../../images/releases/07.02/application-permissions.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/application-permissions.png" style="max-width:500" alt="images/releases/07.02/application-permissions.png">
      

      
    </figure>
  </a>
</div>

<ul>
<li><strong>Display Name</strong> - This is the (potentially non-unique) preferred user name held by the IDP, e.g. <code>jbloggs</code> or  <code>jblogs@somedomain.x</code>.</li>
<li><strong>Full Name</strong> - The user&rsquo;s full name, e.g. <code>Joe Bloggs</code>, if known by the IDP.</li>
<li><strong>Unique User Identity</strong> - The unique identity of the user on the IDP, which may look like <code>ca650638-b52c-45af-948c-3f34aeeb6f86</code>.</li>
</ul>
<p>In most screens, Stroom will display the <em>Display Name</em>.
This will also be used for any audit purposes.
The permissions screen show all three identities so an admin can be sure which user they are dealing with and be able to correlate it with one on the IDP.</p>
<h3 id="user-creation">User Creation</h3>
<p>When using an external IDP, a user visiting Stroom for the first time will result in the creation of a Stroom User record for them.
This Stroom User will have no permissions associated with it.
To improve the experience for a new user it is preferable for the Stroom administrator to pre-create the Stroom User account in Stroom with the necessary permissions.</p>
<p>This can be done from the Application Permissions screen accessed from the Main menu (<span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Main Menu"><svg xmlns="http://www.w3.org/2000/svg" width="122.879" height="103.609" viewBox="0 0 122.879 103.609"><g style="fill:currentColor"><path d="M10.368,0h102.144c5.703,0,10.367,4.665,10.367,10.367v0 c0,5.702-4.664,10.368-10.367,10.368H10.368C4.666,20.735,0,16.07,0,10.368v0C0,4.665,4.666,0,10.368,0L10.368,0z M10.368,82.875 h102.144c5.703,0,10.367,4.665,10.367,10.367l0,0c0,5.702-4.664,10.367-10.367,10.367H10.368C4.666,103.609,0,98.944,0,93.242l0,0 C0,87.54,4.666,82.875,10.368,82.875L10.368,82.875z M10.368,41.438h102.144c5.703,0,10.367,4.665,10.367,10.367l0,0 c0,5.702-4.664,10.368-10.367,10.368H10.368C4.666,62.173,0,57.507,0,51.805l0,0C0,46.103,4.666,41.438,10.368,41.438 L10.368,41.438z"/></g></svg></span>
  </span>).</p>





  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item " >

      <div class="stroom-menu-item-text">Security
      </div>
        <div class="stroom-menu-item-arrow">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Arrow right"><svg xmlns="http://www.w3.org/2000/svg" width="1427.7665" height="1427.7665" viewBox="0 0 1427.7665 1427.7665"><g style="stroke:currentColor;stroke-width:167.567"><path d="m 415.05387,83.70929 c -39.92654,0.4303 -75.41463,48.3887 -40.0468,81.9121 C 567.552,348.69899 760.75555,531.15431 953.73208,713.82391 760.75555,896.49341 567.552,1078.9486 375.00707,1262.0262 c -46.19471,43.7855 28.48812,112.1966 76.0571,67.1681 195.93558,-185.823 392.95261,-370.82479 587.98693,-557.52749 5.6117,-4.8034 10.4633,-10.2473 14.4855,-16.1231 9.643,-12.4844 13.9638,-27.0796 13.6909,-41.7198 0.2729,-14.6402 -4.0479,-29.2354 -13.6909,-41.7198 -4.0222,-5.8758 -8.8738,-11.3198 -14.4855,-16.1231 C 844.01678,469.27821 646.99975,284.27629 451.06417,98.45319 439.91519,87.89979 427.27628,83.57749 415.05387,83.70929 Z"/></g></svg> </span>
  </span>
        </div>
    </div>
  </div>

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 7px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="User"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1536 1399q0 109-62.5 187t-150.5 78h-854q-88 0-150.5-78t-62.5-187q0-85 8.5-160.5t31.5-152 58.5-131 94-89 134.5-34.5q131 128 313 128t313-128q76 0 134.5 34.5t94 89 58.5 131 31.5 152 8.5 160.5zm-256-887q0 159-112.5 271.5t-271.5 112.5-271.5-112.5-112.5-271.5 112.5-271.5 271.5-112.5 271.5 112.5 112.5 271.5z"/></svg></span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Application Permissions
      </div>
    </div>
  </div>
  </div>



<p>You can create a single Stroom User by clicking the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Add User"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="m 1600,800 0,192 q 0,40 -28,68 -28,28 -68,28 l -416,0 0,416 q 0,40 -28,68 -28,28 -68,28 l -192,0 q -40,0 -68,-28 -28,-28 -28,-68 l 0,-416 -416,0 q -40,0 -68,-28 -28,-28 -28,-68 l 0,-192 q 0,-40 28,-68 28,-28 68,-28 l 416,0 0,-416 q 0,-40 28,-68 28,-28 68,-28 l 192,0 q 40,0 68,28 28,28 28,68 l 0,416 416,0 q 40,0 68,28 28,28 28,68 z"/></svg> </span>
  </span> button.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/create-single-user.png" href="../../images/releases/07.02/create-single-user.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/create-single-user.png" style="max-width:300" alt="images/releases/07.02/create-single-user.png">
      

      
    </figure>
  </a>
</div>

<p>Or you can create multiple Stroom Users by clicking the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Add Multiple Users"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path style="fill:currentColor" d="M 1408,160 V 320 H 1280 V 160 q 0,-13 -9.5,-22.5 Q 1261,128 1248,128 H 160 q -13,0 -22.5,9.5 Q 128,147 128,160 v 1088 q 0,13 9.5,22.5 9.5,9.5 22.5,9.5 h 160 v 128 H 160 Q 94,1408 47,1361 0,1314 0,1248 V 160 Q 0,94 47,47 94,0 160,0 h 1088 q 66,0 113,47 47,47 47,113 z" id="path594" /><path id="path592" style="fill:currentColor" d="M 544 384 C 500.00004 384 462.3333 399.6667 431 431 C 399.6667 462.3333 384 500.00004 384 544 L 384 1632 C 384 1676 399.6667 1713.6667 431 1745 C 462.3333 1776.3333 500.00004 1792 544 1792 L 1632 1792 C 1676 1792 1713.6667 1776.3333 1745 1745 C 1776.3333 1713.6667 1792 1676 1792 1632 L 1792 544 C 1792 500.00004 1776.3333 462.3333 1745 431 C 1713.6667 399.6667 1676 384 1632 384 L 544 384 z M 544 512 L 1632 512 C 1640.6667 512 1648.1667 515.16667 1654.5 521.5 C 1660.8333 527.83333 1664 535.33334 1664 544 L 1664 1632 C 1664 1640.6667 1660.8333 1648.1667 1654.5 1654.5 C 1648.1667 1660.8333 1640.6667 1664 1632 1664 L 544 1664 C 535.33334 1664 527.83333 1660.8333 521.5 1654.5 C 515.16667 1648.1667 512 1640.6667 512 1632 L 512 544 C 512 535.33334 515.16667 527.83333 521.5 521.5 C 527.83333 515.16667 535.33334 512 544 512 z " /><path style="fill:currentColor;stroke-width:0.65685" d="m 1550.4219,1024.9425 v 126.1151 q 0,26.274 -18.3918,44.6658 -18.3917,18.3917 -44.6657,18.3917 H 1214.115 v 273.2494 q 0,26.274 -18.3917,44.6657 -18.3918,18.3918 -44.6658,18.3918 h -126.1151 q -26.27392,0 -44.6657,-18.3918 -18.39176,-18.3917 -18.39176,-44.6657 V 1214.1151 H 688.6356 q -26.274,0 -44.66577,-18.3917 -18.39177,-18.3918 -18.39177,-44.6658 v -126.1151 q 0,-26.27406 18.39177,-44.66583 18.39177,-18.39176 44.66577,-18.39176 H 961.88494 V 688.63557 q 0,-26.274 18.39176,-44.66577 18.39178,-18.39177 44.6657,-18.39177 h 126.1151 q 26.274,0 44.6658,18.39177 18.3917,18.39177 18.3917,44.66577 v 273.24934 h 273.2494 q 26.274,0 44.6657,18.39176 18.3918,18.39177 18.3918,44.66583 z" id="path172" /></svg> </span>
  </span> button.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/create-multiple-users.png" href="../../images/releases/07.02/create-multiple-users.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/create-multiple-users.png" style="max-width:300" alt="images/releases/07.02/create-multiple-users.png">
      

      
    </figure>
  </a>
</div>

<p>In both cases the <em>Unique User ID</em> is mandatory, and this must be obtained from the IDP.
The <em>Display Name</em> and <em>Full Name</em> are optional, as these will be obtained automatically from the IDP by Stroom on login.
It can be useful to populate them initially to make it easier for the administrator to see who is who in the list of users.</p>
<p>Once the user(s) are created, the appropriate permissions/groups can be assigned to them so that when they log in for the first time they will be able to see the required content and be able to use Stroom.</p>
<h2 id="new-document-types">New Document types</h2>
<p>The following new types of document can be created and managed in the explorer tree.</p>
<h3 id="_documentation_"><em>Documentation</em></h3>
<p>It is now possible to create a <em>Documentation</em> <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Documentation"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path style="fill:var(--icon-colour__blue)" d="m 311.60754,227.97375 c -92.11457,0 -167.00657,74.892 -167.00657,167.00656 V 1397.0197 c 0,92.1146 74.892,167.0065 167.00657,167.0065 h 668.02617 c 92.11459,0 167.00659,-74.8919 167.00659,-167.0065 v -50.3629 c -7.0457,2.8703 -14.0912,5.2189 -21.3977,7.0456 l -156.82959,39.1421 c -7.8284,1.8267 -15.6569,3.1313 -23.4853,3.6533 -2.3485,0.261 -4.6971,0.5218 -7.0456,0.5218 H 770.87557 c -15.91782,0 -30.26994,-8.8723 -37.31554,-22.9633 l -22.9634,-46.1877 c -4.43611,-8.8723 -13.30833,-14.3523 -22.9634,-14.3523 -9.65506,0 -18.78824,5.48 -22.9634,14.3523 l -22.9634,46.1877 c -7.56748,15.3959 -24.00719,24.5292 -40.96879,22.9633 -16.96161,-1.5656 -31.57469,-13.3082 -36.27174,-29.4872 l -44.10017,-145.3478 -25.57288,85.5908 c -15.91781,52.9724 -64.71504,89.2442 -120.03596,89.2442 h -21.39772 c -22.9634,0 -41.75163,-18.7882 -41.75163,-41.7516 0,-22.9635 18.78823,-41.7517 41.75163,-41.7517 h 21.39772 c 18.52729,0 34.70604,-12.0037 39.925,-29.7481 l 38.88122,-129.1691 c 8.87222,-29.4871 36.01079,-49.841 66.80262,-49.841 30.79184,0 57.9304,20.3539 66.80262,49.841 l 30.26994,100.7258 c 19.31013,-16.1788 43.83922,-25.3119 69.93399,-25.3119 41.4907,0 79.32812,23.4853 97.85541,60.5399 l 11.4817,22.9634 h 23.22435 c -8.08938,-22.9634 -9.65507,-48.0144 -3.65327,-72.5435 l 39.14217,-156.8296 c 7.30653,-29.4871 22.4415,-56.1036 43.83917,-77.5014 L 1146.6403,759.26336 V 645.49014 H 812.62721 c -46.18775,0 -83.50329,-37.31553 -83.50329,-83.50328 V 227.97375 Z m 501.01967,0 v 334.01311 h 334.01309 z m 766.66449,364.544 c -40.7079,-40.70785 -106.7277,-40.70785 -147.6965,0 l -76.7186,76.71863 185.2729,185.27291 76.7186,-76.71864 c 40.7079,-40.70785 40.7079,-106.72763 0,-147.69642 z M 958.49701,1065.6161 c -10.6989,10.6989 -18.2664,24.007 -21.9196,38.8811 l -39.1422,156.8296 c -3.6533,14.3522 0.5219,29.2263 10.9598,39.6641 10.4379,10.4379 25.312,14.6131 39.6641,10.9599 l 156.82949,-39.1422 c 14.6131,-3.6532 28.1824,-11.2208 38.8812,-21.9196 L 1480.9143,913.48345 1295.6415,728.21058 Z" /></svg> </span>
  </span> entity in the explorer tree.
This is designed to hold any text or documentation that the user chooses to write in <span class="glossary-link">
  <a href="../../docs/glossary/#markdown" title="Glossary entry for Markdown">
    <span>Markdown</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> format.
These can be useful for providing documentation within a folder in the tree to collectively describe all the items in that folder, or to provide a useful README type document.
It is not possible to add documentation to a folder entity itself, so this is useful substitute.</p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">See Also</h4>


    <p>See <a href="../../docs/user-guide/content/documentation/">Documenting Content</a> for details on the Markdown syntax.</p>


</div>


<h3 id="_elastic-cluster_"><em>Elastic Cluster</em></h3>
<p><em>Elastic Cluster</em> <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Elastic cluster"><svg width="2500" height="2500" viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet"><path d="M255.96 134.393c0-21.521-13.373-40.117-33.223-47.43a75.239 75.239 0 0 0 1.253-13.791c0-39.909-32.386-72.295-72.295-72.295-23.193 0-44.923 11.074-58.505 30.088-6.686-5.224-14.835-7.94-23.402-7.94-21.104 0-38.446 17.133-38.446 38.446 0 4.597.836 9.194 2.298 13.373C13.582 81.739 0 100.962 0 122.274c0 21.522 13.373 40.327 33.431 47.64-.835 4.388-1.253 8.985-1.253 13.79 0 39.7 32.386 72.087 72.086 72.087 23.402 0 44.924-11.283 58.505-30.088 6.686 5.223 15.044 8.149 23.611 8.149 21.104 0 38.446-17.134 38.446-38.446 0-4.597-.836-9.194-2.298-13.373 19.64-7.104 33.431-26.327 33.431-47.64z" fill="#FFF"/><path d="M100.085 110.364l57.043 26.119 57.669-50.565a64.312 64.312 0 0 0 1.253-12.746c0-35.52-28.834-64.355-64.355-64.355-21.313 0-41.162 10.447-53.072 27.998l-9.612 49.73 11.074 23.82z" fill="#F4BD19"/><path d="M40.953 170.75c-.835 4.179-1.253 8.567-1.253 12.955 0 35.52 29.043 64.564 64.564 64.564 21.522 0 41.372-10.656 53.49-28.208l9.403-49.729-12.746-24.238-57.251-26.118-56.207 50.774z" fill="#3CBEB1"/><path d="M40.536 71.918l39.073 9.194 8.775-44.506c-5.432-4.179-11.91-6.268-18.805-6.268-16.925 0-30.924 13.79-30.924 30.924 0 3.552.627 7.313 1.88 10.656z" fill="#E9478C"/><path d="M37.192 81.32c-17.551 5.642-29.67 22.567-29.67 40.954 0 17.97 11.074 34.059 27.79 40.327l54.953-49.73-10.03-21.52-43.043-10.03z" fill="#2C458F"/><path d="M167.784 219.852c5.432 4.18 11.91 6.478 18.596 6.478 16.925 0 30.924-13.79 30.924-30.924 0-3.761-.627-7.314-1.88-10.657l-39.073-9.193-8.567 44.296z" fill="#95C63D"/><path d="M175.724 165.317l43.043 10.03c17.551-5.85 29.67-22.566 29.67-40.954 0-17.97-11.074-33.849-27.79-40.326l-56.415 49.311 11.492 21.94z" fill="#176655"/></svg></span>
  </span> provides a means to define a connection to an <span class="glossary-link">
  <a href="../../docs/glossary/#elasticsearch" title="Glossary entry for Elasticsearch">
    <span>Elasticsearch</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> Cluster.
You would create one of these documents for each Elasticsearch cluster that you want to connect to.
It defines the location and authentication details for connecting to an elastic cluster.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.02/elastic-cluster.png" href="../../images/releases/07.02/elastic-cluster.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/elastic-cluster.png" style="max-width:200" alt="images/releases/07.02/elastic-cluster.png">
      

      
    </figure>
  </a>
</div>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">See Also</h4>


    <p><a href="../../docs/user-guide/indexing/elasticsearch/">Using Elasticsearch to index data</a> and <a href="../../docs/user-guide/search/data-sources/elastic-data-source/">searching an Elasticsearch index</a></p>


</div>


<p>Thanks to Pete K for his help adding the new Elasticsearch integration features.</p>
<h3 id="_elastic-index_"><em>Elastic Index</em></h3>
<p>An <em>Elastic Index</em> <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Elastic index"><!-- Generator: Adobe Illustrator 25.2.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 2500 2500" style="enable-background:new 0 0 2500 2500;" xml:space="preserve"><style type="text/css"> .st0{fill:#4A4B4C;} .st1{fill:var(--icon-colour__white);} .st2{fill:#F4BD19;} .st3{fill:#3CBEB1;} .st4{fill:#E9478C;} .st5{fill:#2C458F;} .st6{fill:#95C63D;} .st7{fill:#176655;} </style><g><path class="st0" d="M1240,1071.5c220.3,0,426.2-20,617.7-60c191.5-40,80.9,38.1,191.5-40l114,129.1c0,64.1,99.8,94.5,4,149.3 s-225.9,98.3-390.4,130.4s-343.5,48.1-536.8,48.1s-372.3-16-536.8-48.1s-294.7-75.5-390.4-130.4s-143.6-114.3-143.6-178.5v-237 c110.6,78.1,261.7,137.1,453.2,177.1C813.8,1051.5,1019.7,1071.5,1240,1071.5z M1240,2499.4c-193.4,0-372.3-16-536.8-48.1 s-294.7-75.5-390.4-130.4s-143.6-114.3-143.6-178.5v-237c110.6,78.1,261.7,137.1,453.2,177.1c191.5,40,397.4,60,617.7,60 M1776.8,1915.8c-164.5,32.1-343.5,48.1-536.8,48.1s-372.3-16-536.8-48.1c-164.5-32.1-294.7-75.5-390.4-130.4 S169.1,1671.1,169.1,1607v-237C279.7,1448,430.8,1507,622.3,1547c191.5,40,397.4,60,617.7,60s426.2-20,617.7-60 c191.5-40,163.5-99,274.1-177.1l179.1,237c0,64.1-47.9,123.6-143.6,178.5 M1240,0.6c193.4,0,372.3,16,536.8,48.1 s294.7,75.5,390.4,130.4s143.6,114.3,143.6,178.5v178.5c0,64.1-47.9,123.6-143.6,178.5s-225.9,98.3-390.4,130.4 C1612.3,877,1433.4,893,1240,893s-372.3-16-536.8-48.1c-164.5-32.1-294.7-75.5-390.4-130.4S169.1,600.2,169.1,536.1V357.6 c0-64.1,47.9-123.6,143.6-178.5S538.6,80.8,703.2,48.8S1046.6,0.6,1240,0.6z"/></g><path class="st1" d="M2518.6,1692.2c0-151.6-94.2-282.5-234-334c5.9-32,8.9-64.5,8.8-97.1c0-281-228.1-509.1-509.1-509.1 c-163.3,0-316.3,78-412,211.9c-47.1-36.8-104.5-55.9-164.8-55.9c-148.6,0-270.7,120.7-270.7,270.7c0,32.4,5.9,64.7,16.2,94.2 c-141.2,48.6-236.9,183.9-236.9,334c0,151.6,94.2,284,235.4,335.5c-5.9,30.9-8.8,63.3-8.8,97.1c0,279.6,228.1,507.6,507.6,507.6 c164.8,0,316.4-79.5,412-211.9c47.1,36.8,105.9,57.4,166.3,57.4c148.6,0,270.7-120.7,270.7-270.7c0-32.4-5.9-64.7-16.2-94.2 C2421.4,1977.6,2518.5,1842.2,2518.6,1692.2L2518.6,1692.2z"/><path class="st2" d="M1420.9,1522.9l401.7,183.9l406.1-356.1c5.9-29.6,8.9-59.6,8.8-89.8c0-250.1-203-453.2-453.2-453.2 c-150.1,0-289.9,73.6-373.7,197.2l-67.7,350.2L1420.9,1522.9L1420.9,1522.9z"/><path class="st3" d="M1004.5,1948.2c-5.9,29.4-8.8,60.3-8.8,91.2c0,250.1,204.5,454.7,454.7,454.7c151.6,0,291.3-75,376.7-198.6 l66.2-350.2l-89.8-170.7l-403.2-183.9L1004.5,1948.2L1004.5,1948.2z"/><path class="st4" d="M1001.5,1252.2l275.2,64.7l61.8-313.4c-38.3-29.4-83.9-44.1-132.4-44.1c-119.2,0-217.8,97.1-217.8,217.8 C988.3,1202.2,992.7,1228.7,1001.5,1252.2L1001.5,1252.2z"/><path class="st5" d="M978,1318.4c-123.6,39.7-208.9,158.9-208.9,288.4c0,126.5,78,239.8,195.7,284l387-350.2l-70.6-151.5L978,1318.4 L978,1318.4z"/><path class="st6" d="M1897.6,2294c38.3,29.4,83.9,45.6,131,45.6c119.2,0,217.8-97.1,217.8-217.8c0-26.5-4.4-51.5-13.2-75 l-275.2-64.7L1897.6,2294L1897.6,2294z"/><path class="st7" d="M1953.5,1909.9l303.1,70.6c123.6-41.2,208.9-158.9,208.9-288.4c0-126.5-78-238.4-195.7-284l-397.3,347.2 L1953.5,1909.9L1953.5,1909.9z"/></svg> </span>
  </span> document is a data source for searching one or more indexes on Elasticsearch.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.02/elastic-index.png" href="../../images/releases/07.02/elastic-index.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/elastic-index.png" style="max-width:200" alt="images/releases/07.02/elastic-index.png">
      

      
    </figure>
  </a>
</div>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">See Also</h4>


    <p><a href="../../docs/user-guide/search/data-sources/elastic-data-source/">Searching an Elasticsearch index</a></p>


</div>


<h2 id="new-searchables">New Searchables</h2>
<p>A <span class="glossary-link">
  <a href="../../docs/glossary/#searchable" title="Glossary entry for Searchable">
    <span>Searchable</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> is one of the data sources that appear at the top level of the tree pickers but not in the explorer tree.</p>
<h3 id="_analytics_"><em>Analytics</em></h3>
<p>Adds the ability to query data from <em>Table Builder</em> type <em>Analytic Rules</em>.</p>
<h2 id="new-pipeline-elements">New Pipeline Elements</h2>
<h3 id="_dynamicindexingfilter_"><em>DynamicIndexingFilter</em></h3>








  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#dynamicindexingfilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="DynamicIndexingFilter &#34;DynamicIndexingFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Index"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M896 768q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0 768q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0-384q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0-1152q208 0 385 34.5t280 93.5 103 128v128q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-128q0-69 103-128t280-93.5 385-34.5z"/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">DynamicIndexingFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  








<p>This filter element is used by <a href="#_view_"><em>Views</em></a> and <a href="#_analytic-rule_"><em>Analytic Rules</em></a>.
Unlike 







  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#indexingfilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="IndexingFilter &#34;IndexingFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Index"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M896 768q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0 768q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0-384q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0-1152q208 0 385 34.5t280 93.5 103 128v128q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-128q0-69 103-128t280-93.5 385-34.5z"/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">IndexingFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  







 where you have to specify all the fields in the index up front for them to visible to the user in a <em>Dashboard</em>, 







  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#dynamicindexingfilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="DynamicIndexingFilter &#34;DynamicIndexingFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Index"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M896 768q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0 768q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0-384q237 0 443-43t325-127v170q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-170q119 84 325 127t443 43zm0-1152q208 0 385 34.5t280 93.5 103 128v128q0 69-103 128t-280 93.5-385 34.5-385-34.5-280-93.5-103-128v-128q0-69 103-128t280-93.5 385-34.5z"/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">DynamicIndexingFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  







 allows fields to be dynamically created in the XSLT based on the event being indexed.
These dynamic fields are then &lsquo;discovered&rsquo; after the event has been added to the index.</p>
<h3 id="_dynamicsearchresultoutputfilter_"><em>DynamicSearchResultOutputFilter</em></h3>








  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#dynamicsearchresultoutputfilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="DynamicSearchResultOutputFilter &#34;DynamicSearchResultOutputFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Search output"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__blue)" d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">DynamicSearchResultOutputFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  








<p>This filter element is used by <a href="#_view_"><em>Views</em></a> and <a href="#_analytic-rule_"><em>Analytic Rules</em></a>.
Unlike 







  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#searchresultoutputfilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="SearchResultOutputFilter &#34;SearchResultOutputFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Search output"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__blue)" d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">SearchResultOutputFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  







 this element can discover the fields found in the extracted event when the extraction pipeline creates fields that are not present in the index.
These discovered field are then available for the user to pick from in the <em>Dashboard</em>/<em>Query</em>.</p>
<h3 id="_elasticindexingfilter_"><em>ElasticIndexingFilter</em></h3>








  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#elasticindexingfilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="ElasticIndexingFilter &#34;ElasticIndexingFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Elastic index"><!-- Generator: Adobe Illustrator 25.2.0, SVG Export Plug-In . SVG Version: 6.00 Build 0) --><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 2500 2500" style="enable-background:new 0 0 2500 2500;" xml:space="preserve"><style type="text/css"> .st0{fill:var(--icon-colour__grey);} .st1{fill:#FFF;} .st2{fill:#F4BD19;} .st3{fill:#3CBEB1;} .st4{fill:#E9478C;} .st5{fill:#2C458F;} .st6{fill:#95C63D;} .st7{fill:#176655;} </style><g><path class="st0" d="M1240,1071.5c220.3,0,426.2-20,617.7-60c191.5-40,80.9,38.1,191.5-40l114,129.1c0,64.1,99.8,94.5,4,149.3 s-225.9,98.3-390.4,130.4s-343.5,48.1-536.8,48.1s-372.3-16-536.8-48.1s-294.7-75.5-390.4-130.4s-143.6-114.3-143.6-178.5v-237 c110.6,78.1,261.7,137.1,453.2,177.1C813.8,1051.5,1019.7,1071.5,1240,1071.5z M1240,2499.4c-193.4,0-372.3-16-536.8-48.1 s-294.7-75.5-390.4-130.4s-143.6-114.3-143.6-178.5v-237c110.6,78.1,261.7,137.1,453.2,177.1c191.5,40,397.4,60,617.7,60 M1776.8,1915.8c-164.5,32.1-343.5,48.1-536.8,48.1s-372.3-16-536.8-48.1c-164.5-32.1-294.7-75.5-390.4-130.4 S169.1,1671.1,169.1,1607v-237C279.7,1448,430.8,1507,622.3,1547c191.5,40,397.4,60,617.7,60s426.2-20,617.7-60 c191.5-40,163.5-99,274.1-177.1l179.1,237c0,64.1-47.9,123.6-143.6,178.5 M1240,0.6c193.4,0,372.3,16,536.8,48.1 s294.7,75.5,390.4,130.4s143.6,114.3,143.6,178.5v178.5c0,64.1-47.9,123.6-143.6,178.5s-225.9,98.3-390.4,130.4 C1612.3,877,1433.4,893,1240,893s-372.3-16-536.8-48.1c-164.5-32.1-294.7-75.5-390.4-130.4S169.1,600.2,169.1,536.1V357.6 c0-64.1,47.9-123.6,143.6-178.5S538.6,80.8,703.2,48.8S1046.6,0.6,1240,0.6z"/></g><path class="st1" d="M2518.6,1692.2c0-151.6-94.2-282.5-234-334c5.9-32,8.9-64.5,8.8-97.1c0-281-228.1-509.1-509.1-509.1 c-163.3,0-316.3,78-412,211.9c-47.1-36.8-104.5-55.9-164.8-55.9c-148.6,0-270.7,120.7-270.7,270.7c0,32.4,5.9,64.7,16.2,94.2 c-141.2,48.6-236.9,183.9-236.9,334c0,151.6,94.2,284,235.4,335.5c-5.9,30.9-8.8,63.3-8.8,97.1c0,279.6,228.1,507.6,507.6,507.6 c164.8,0,316.4-79.5,412-211.9c47.1,36.8,105.9,57.4,166.3,57.4c148.6,0,270.7-120.7,270.7-270.7c0-32.4-5.9-64.7-16.2-94.2 C2421.4,1977.6,2518.5,1842.2,2518.6,1692.2L2518.6,1692.2z"/><path class="st2" d="M1420.9,1522.9l401.7,183.9l406.1-356.1c5.9-29.6,8.9-59.6,8.8-89.8c0-250.1-203-453.2-453.2-453.2 c-150.1,0-289.9,73.6-373.7,197.2l-67.7,350.2L1420.9,1522.9L1420.9,1522.9z"/><path class="st3" d="M1004.5,1948.2c-5.9,29.4-8.8,60.3-8.8,91.2c0,250.1,204.5,454.7,454.7,454.7c151.6,0,291.3-75,376.7-198.6 l66.2-350.2l-89.8-170.7l-403.2-183.9L1004.5,1948.2L1004.5,1948.2z"/><path class="st4" d="M1001.5,1252.2l275.2,64.7l61.8-313.4c-38.3-29.4-83.9-44.1-132.4-44.1c-119.2,0-217.8,97.1-217.8,217.8 C988.3,1202.2,992.7,1228.7,1001.5,1252.2L1001.5,1252.2z"/><path class="st5" d="M978,1318.4c-123.6,39.7-208.9,158.9-208.9,288.4c0,126.5,78,239.8,195.7,284l387-350.2l-70.6-151.5L978,1318.4 L978,1318.4z"/><path class="st6" d="M1897.6,2294c38.3,29.4,83.9,45.6,131,45.6c119.2,0,217.8-97.1,217.8-217.8c0-26.5-4.4-51.5-13.2-75 l-275.2-64.7L1897.6,2294L1897.6,2294z"/><path class="st7" d="M1953.5,1909.9l303.1,70.6c123.6-41.2,208.9-158.9,208.9-288.4c0-126.5-78-238.4-195.7-284l-397.3,347.2 L1953.5,1909.9L1953.5,1909.9z"/></svg> </span>
  </span>
            </span>
            <span class="pipeline-element-text">ElasticIndexingFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  








<p><em>ElasticIndexingFilter</em> is used to pass fields from an event to an Elasticsearch cluster to index.</p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">See Also</h4>


    <p><a href="../../docs/user-guide/indexing/elasticsearch/">Using Elasticsearch to index data</a>.</p>


</div>


<h2 id="explorer-tree">Explorer Tree</h2>
<p>Various enhancements have been made to the explorer tree.</p>
<h3 id="favourites">Favourites</h3>
<p>Users now have the ability to mark explorer tree entities as favourites.
Favourites are user specific so each user can define their own favourites.
This feature is useful for quick access to commonly used entities.
Any entity or Folder at any level in the explorer tree can be set as a favourite.
Favourites are also visible in the various entity pickers used in Stroom, e.g. Feed pickers.</p>
<p>An entity/folder can be added or removed from the favourites section using the context menu items :</p>
<p>




  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Favourites"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path fill="var(--icon-colour__orange)" stroke="var(--icon-colour__orange)" stroke-width="100" d="M 1649.449 663.853 C 1649.449 677.135 1641.6 691.624 1625.903 707.321 L 1297.175 1027.899 L 1375.056 1480.692 C 1375.659 1484.919 1375.961 1490.956 1375.961 1498.804 C 1375.961 1511.482 1372.792 1522.199 1366.453 1530.953 C 1360.114 1539.707 1350.907 1544.084 1338.832 1544.084 C 1327.361 1544.084 1315.287 1540.461 1302.609 1533.217 L 896 1319.498 L 489.391 1533.217 C 476.109 1540.461 464.035 1544.084 453.168 1544.084 C 440.49 1544.084 430.981 1539.707 424.642 1530.953 C 418.303 1522.199 415.133 1511.482 415.133 1498.804 C 415.133 1495.182 415.737 1489.145 416.944 1480.692 L 494.825 1027.899 L 165.191 707.321 C 150.098 691.02 142.551 676.531 142.551 663.853 C 142.551 641.515 159.456 627.629 193.264 622.196 L 647.869 556.088 L 851.626 144.045 C 863.097 119.293 877.888 106.916 896 106.916 C 914.112 106.916 928.903 119.293 940.374 144.045 L 1144.131 556.088 L 1598.736 622.196 C 1632.544 627.629 1649.449 641.515 1649.449 663.853 Z" style=""/></svg></span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Add to Favourites
      </div>
    </div>
  </div>
  </div>








  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Favourites outline"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path fill="transparent" stroke="var(--icon-colour__orange)" stroke-width="100" d="M 1649.449 663.853 C 1649.449 677.135 1641.6 691.624 1625.903 707.321 L 1297.175 1027.899 L 1375.056 1480.692 C 1375.659 1484.919 1375.961 1490.956 1375.961 1498.804 C 1375.961 1511.482 1372.792 1522.199 1366.453 1530.953 C 1360.114 1539.707 1350.907 1544.084 1338.832 1544.084 C 1327.361 1544.084 1315.287 1540.461 1302.609 1533.217 L 896 1319.498 L 489.391 1533.217 C 476.109 1540.461 464.035 1544.084 453.168 1544.084 C 440.49 1544.084 430.981 1539.707 424.642 1530.953 C 418.303 1522.199 415.133 1511.482 415.133 1498.804 C 415.133 1495.182 415.737 1489.145 416.944 1480.692 L 494.825 1027.899 L 165.191 707.321 C 150.098 691.02 142.551 676.531 142.551 663.853 C 142.551 641.515 159.456 627.629 193.264 622.196 L 647.869 556.088 L 851.626 144.045 C 863.097 119.293 877.888 106.916 896 106.916 C 914.112 106.916 928.903 119.293 940.374 144.045 L 1144.131 556.088 L 1598.736 622.196 C 1632.544 627.629 1649.449 641.515 1649.449 663.853 Z" style=""/></svg></span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Remove from Favourites
      </div>
    </div>
  </div>
  </div>


</p>
<p>An entity that is a favourite is marked with a <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Favourites"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path fill="var(--icon-colour__orange)" stroke="var(--icon-colour__orange)" stroke-width="100" d="M 1649.449 663.853 C 1649.449 677.135 1641.6 691.624 1625.903 707.321 L 1297.175 1027.899 L 1375.056 1480.692 C 1375.659 1484.919 1375.961 1490.956 1375.961 1498.804 C 1375.961 1511.482 1372.792 1522.199 1366.453 1530.953 C 1360.114 1539.707 1350.907 1544.084 1338.832 1544.084 C 1327.361 1544.084 1315.287 1540.461 1302.609 1533.217 L 896 1319.498 L 489.391 1533.217 C 476.109 1540.461 464.035 1544.084 453.168 1544.084 C 440.49 1544.084 430.981 1539.707 424.642 1530.953 C 418.303 1522.199 415.133 1511.482 415.133 1498.804 C 415.133 1495.182 415.737 1489.145 416.944 1480.692 L 494.825 1027.899 L 165.191 707.321 C 150.098 691.02 142.551 676.531 142.551 663.853 C 142.551 641.515 159.456 627.629 193.264 622.196 L 647.869 556.088 L 851.626 144.045 C 863.097 119.293 877.888 106.916 896 106.916 C 914.112 106.916 928.903 119.293 940.374 144.045 L 1144.131 556.088 L 1598.736 622.196 C 1632.544 627.629 1649.449 641.515 1649.449 663.853 Z" style=""/></svg></span>
  </span> in the main tree.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.02/favourites.png" href="../../images/releases/07.02/favourites.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/favourites.png" style="max-width:200" alt="images/releases/07.02/favourites.png">
      

      
    </figure>
  </a>
</div>

<p>A change to a child item of a folder marked as a favourite will be reflected in both the main tree and the favourites section.
All items marked as a favourite <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Favourites"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path fill="var(--icon-colour__orange)" stroke="var(--icon-colour__orange)" stroke-width="100" d="M 1649.449 663.853 C 1649.449 677.135 1641.6 691.624 1625.903 707.321 L 1297.175 1027.899 L 1375.056 1480.692 C 1375.659 1484.919 1375.961 1490.956 1375.961 1498.804 C 1375.961 1511.482 1372.792 1522.199 1366.453 1530.953 C 1360.114 1539.707 1350.907 1544.084 1338.832 1544.084 C 1327.361 1544.084 1315.287 1540.461 1302.609 1533.217 L 896 1319.498 L 489.391 1533.217 C 476.109 1540.461 464.035 1544.084 453.168 1544.084 C 440.49 1544.084 430.981 1539.707 424.642 1530.953 C 418.303 1522.199 415.133 1511.482 415.133 1498.804 C 415.133 1495.182 415.737 1489.145 416.944 1480.692 L 494.825 1027.899 L 165.191 707.321 C 150.098 691.02 142.551 676.531 142.551 663.853 C 142.551 641.515 159.456 627.629 193.264 622.196 L 647.869 556.088 L 851.626 144.045 C 863.097 119.293 877.888 106.916 896 106.916 C 914.112 106.916 928.903 119.293 940.374 144.045 L 1144.131 556.088 L 1598.736 622.196 C 1632.544 627.629 1649.449 641.515 1649.449 663.853 Z" style=""/></svg></span>
  </span> will appear as a top level item underneath the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Favourites"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path fill="var(--icon-colour__orange)" stroke="var(--icon-colour__orange)" stroke-width="100" d="M 1649.449 663.853 C 1649.449 677.135 1641.6 691.624 1625.903 707.321 L 1297.175 1027.899 L 1375.056 1480.692 C 1375.659 1484.919 1375.961 1490.956 1375.961 1498.804 C 1375.961 1511.482 1372.792 1522.199 1366.453 1530.953 C 1360.114 1539.707 1350.907 1544.084 1338.832 1544.084 C 1327.361 1544.084 1315.287 1540.461 1302.609 1533.217 L 896 1319.498 L 489.391 1533.217 C 476.109 1540.461 464.035 1544.084 453.168 1544.084 C 440.49 1544.084 430.981 1539.707 424.642 1530.953 C 418.303 1522.199 415.133 1511.482 415.133 1498.804 C 415.133 1495.182 415.737 1489.145 416.944 1480.692 L 494.825 1027.899 L 165.191 707.321 C 150.098 691.02 142.551 676.531 142.551 663.853 C 142.551 641.515 159.456 627.629 193.264 622.196 L 647.869 556.088 L 851.626 144.045 C 863.097 119.293 877.888 106.916 896 106.916 C 914.112 106.916 928.903 119.293 940.374 144.045 L 1144.131 556.088 L 1598.736 622.196 C 1632.544 627.629 1649.449 641.515 1649.449 663.853 Z" style=""/></svg></span>
  </span> Favourites root, even if they have an ancestor folder that is also a favourite.</p>
<p>Thanks to Pete K for adding this new feature.</p>
<h3 id="document-tagging">Document Tagging</h3>
<p>You can now add tags to entities or folders in the explorer tree.
Tags provide an additional means of searching for entities or folders.
It allows entities/folders that reside in different folders to be associated together in one or more ways.</p>
<p>The tags on an entity/folder can be managed from the explorer tree context menu item:</p>





  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Tags"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path style="fill:currentColor" d="m 1172.2976,222.24238 396.974,401.63326 c 162.7656,164.62925 162.7656,429.27856 0,593.90786 l -347.8957,351.9339 c -28.8879,29.1984 -76.1024,29.509 -105.3008,0.6212 -29.1984,-28.8878 -29.509,-76.1022 -0.6212,-105.3006 l 347.5853,-351.9339 c 105.3006,-106.543 105.3006,-277.6954 0,-384.23849 L 1066.3757,327.23236 c -28.8877,-29.1984 -28.5771,-76.41283 0.6213,-105.3006 29.1984,-28.88778 76.4128,-28.57716 105.3006,0.62124 z M 100.65423,813.66521 V 349.28646 c 0,-82.31462 66.78357,-149.09819 149.09819,-149.09819 h 464.37875 c 52.80561,0 103.43687,20.81162 140.71142,58.08617 l 521.84391,521.84368 c 77.6553,77.65531 77.6553,203.45703 0,281.11228 l -414.67958,414.6793 c -77.65531,77.6554 -203.45691,77.6554 -281.11222,0 L 159.05102,954.06613 C 121.46585,916.79146 100.65423,866.47082 100.65423,813.66521 Z M 547.94881,548.08405 a 99.398795,99.398795 0 1 0 -198.79759,0 99.398795,99.398795 0 1 0 198.79759,0 z" id="path1"/></svg> </span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Edit Tags
      </div>
    </div>
  </div>
  </div>



<p>The explorer tree can be filtered by tag using the field prefix <code>tag:</code>, i.e. <code>tag:extraction</code>.</p>
<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/manage-tags.png" href="../../images/releases/07.02/manage-tags.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/manage-tags.png" style="max-width:300" alt="images/releases/07.02/manage-tags.png">
      

      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/tree-tag-filter.png" href="../../images/releases/07.02/tree-tag-filter.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/tree-tag-filter.png" style="max-width:300" alt="images/releases/07.02/tree-tag-filter.png">
      

      
    </figure>
  </a>
</div>

</div>
<p>If multiple entities/folders are selected in the explorer tree then the following menu items are available:</p>
<p>




  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Tags"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path style="fill:currentColor" d="m 1172.2976,222.24238 396.974,401.63326 c 162.7656,164.62925 162.7656,429.27856 0,593.90786 l -347.8957,351.9339 c -28.8879,29.1984 -76.1024,29.509 -105.3008,0.6212 -29.1984,-28.8878 -29.509,-76.1022 -0.6212,-105.3006 l 347.5853,-351.9339 c 105.3006,-106.543 105.3006,-277.6954 0,-384.23849 L 1066.3757,327.23236 c -28.8877,-29.1984 -28.5771,-76.41283 0.6213,-105.3006 29.1984,-28.88778 76.4128,-28.57716 105.3006,0.62124 z M 100.65423,813.66521 V 349.28646 c 0,-82.31462 66.78357,-149.09819 149.09819,-149.09819 h 464.37875 c 52.80561,0 103.43687,20.81162 140.71142,58.08617 l 521.84391,521.84368 c 77.6553,77.65531 77.6553,203.45703 0,281.11228 l -414.67958,414.6793 c -77.65531,77.6554 -203.45691,77.6554 -281.11222,0 L 159.05102,954.06613 C 121.46585,916.79146 100.65423,866.47082 100.65423,813.66521 Z M 547.94881,548.08405 a 99.398795,99.398795 0 1 0 -198.79759,0 99.398795,99.398795 0 1 0 198.79759,0 z" id="path1"/></svg> </span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Add Tags
      </div>
    </div>
  </div>
  </div>








  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Tags"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path style="fill:currentColor" d="m 1172.2976,222.24238 396.974,401.63326 c 162.7656,164.62925 162.7656,429.27856 0,593.90786 l -347.8957,351.9339 c -28.8879,29.1984 -76.1024,29.509 -105.3008,0.6212 -29.1984,-28.8878 -29.509,-76.1022 -0.6212,-105.3006 l 347.5853,-351.9339 c 105.3006,-106.543 105.3006,-277.6954 0,-384.23849 L 1066.3757,327.23236 c -28.8877,-29.1984 -28.5771,-76.41283 0.6213,-105.3006 29.1984,-28.88778 76.4128,-28.57716 105.3006,0.62124 z M 100.65423,813.66521 V 349.28646 c 0,-82.31462 66.78357,-149.09819 149.09819,-149.09819 h 464.37875 c 52.80561,0 103.43687,20.81162 140.71142,58.08617 l 521.84391,521.84368 c 77.6553,77.65531 77.6553,203.45703 0,281.11228 l -414.67958,414.6793 c -77.65531,77.6554 -203.45691,77.6554 -281.11222,0 L 159.05102,954.06613 C 121.46585,916.79146 100.65423,866.47082 100.65423,813.66521 Z M 547.94881,548.08405 a 99.398795,99.398795 0 1 0 -198.79759,0 99.398795,99.398795 0 1 0 198.79759,0 z" id="path1"/></svg> </span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Remove Tags
      </div>
    </div>
  </div>
  </div>


</p>
<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/tags-add.png" href="../../images/releases/07.02/tags-add.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/tags-add.png" style="max-width:300" alt="images/releases/07.02/tags-add.png">
      

      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/tags-remove.png" href="../../images/releases/07.02/tags-remove.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/tags-remove.png" style="max-width:300" alt="images/releases/07.02/tags-remove.png">
      

      
    </figure>
  </a>
</div>

</div>
<h4 id="pre-populated-tag-filters">Pre-populated Tag Filters</h4>
<p>Stroom comes pre-configured with some default tags.
The property that sets these is <code>stroom.explorer.suggestedTags</code>.
The defaults for this property are <code>dynamic</code>, <code>extraction</code> and <code>reference-loader</code></p>
<p>These pre-configured tags are also used in some of the tree pickers in stroom to provide extra filtering of entities in the picker.
For example when selecting a Pipeline on an XSLT Filter the filter on the tree picker to select the pipeline will be pre-populated with <code>tag:reference-loader</code> so only reference loader pipelines are included.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/tree-picker-tag-filter.png" href="../../images/releases/07.02/tree-picker-tag-filter.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/tree-picker-tag-filter.png" style="max-width:300" alt="images/releases/07.02/tree-picker-tag-filter.png">
      

      
    </figure>
  </a>
</div>

<p>The following properties control the tags used to pre-populate tree picker filters:</p>
<ul>
<li><code>stroom.ui.query.dashboardPipelineSelectorIncludedTags</code></li>
<li><code>stroom.ui.query.viewPipelineSelectorIncludedTags</code></li>
<li><code>stroom.ui.referencePipelineSelectorIncludedTags</code></li>
</ul>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">See Also</h4>


    <p>See the migration task <a href="../../releases/v07.02/upgrade-notes/#tagging-entities">Tagging Entities</a> for details on how to set up these pre-configured tags.</p>


</div>


<h3 id="copy-link-to-clipboard">Copy Link to Clipboard</h3>
<p>It is not possible to easily copy a direct link to a Document from the explorer tree.
Direct links are useful if for example you want to share a link to a particular stroom dashboard.</p>
<p>To create a direct link, right click on the document you want a link for in the explorer tree and select:</p>





  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Share"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path fill="currentColor" d="M 1440.207 1768.614 C 1371.954 1768.614 1313.505 1744.29 1264.857 1695.642 C 1216.209 1646.994 1191.885 1588.545 1191.885 1520.292 C 1191.885 1510.127 1192.974 1498.147 1195.152 1484.35 C 1197.33 1470.554 1200.597 1457.848 1204.955 1446.231 L 544.94 1062.856 C 523.157 1087.543 496.291 1107.509 464.344 1122.758 C 432.396 1138.006 399.722 1145.63 366.322 1145.63 C 298.069 1145.63 239.619 1121.306 190.971 1072.658 C 142.324 1024.01 118 965.559 118 897.308 C 118 827.602 142.324 768.79 190.971 720.868 C 239.619 672.946 298.069 648.986 366.322 648.986 C 399.722 648.986 431.671 655.519 462.165 668.59 C 492.66 681.66 520.252 700.537 544.94 725.224 L 1204.955 346.206 C 1200.597 336.042 1197.33 324.423 1195.152 311.354 C 1192.974 298.284 1191.885 285.94 1191.885 274.324 C 1191.885 204.618 1216.209 145.806 1264.857 97.884 C 1313.505 49.962 1371.954 26 1440.207 26 C 1509.911 26 1568.724 49.962 1616.646 97.884 C 1664.569 145.806 1688.529 204.618 1688.529 274.324 C 1688.529 342.575 1664.569 401.026 1616.646 449.674 C 1568.724 498.322 1509.911 522.646 1440.207 522.646 C 1406.807 522.646 1374.496 517.199 1343.274 506.309 C 1312.052 495.418 1285.55 477.627 1263.767 452.942 L 603.752 818.89 C 606.657 830.507 609.199 843.94 611.377 859.188 C 613.555 874.436 614.644 887.143 614.644 897.308 C 614.644 907.473 613.555 918.364 611.377 929.981 C 609.199 941.598 606.657 953.217 603.752 964.834 L 1263.767 1339.495 C 1285.55 1319.165 1310.964 1302.827 1340.007 1290.485 C 1369.05 1278.142 1402.451 1271.97 1440.207 1271.97 C 1509.911 1271.97 1568.724 1295.93 1616.646 1343.852 C 1664.569 1391.774 1688.529 1450.586 1688.529 1520.292 C 1688.529 1588.545 1664.569 1646.994 1616.646 1695.642 C 1568.724 1744.29 1509.911 1768.614 1440.207 1768.614 Z M 1440.207 391.95 C 1473.608 391.95 1501.561 380.696 1524.071 358.186 C 1546.579 335.678 1557.834 307.723 1557.834 274.324 C 1557.834 240.923 1546.579 212.968 1524.071 190.46 C 1501.561 167.951 1473.608 156.696 1440.207 156.696 C 1406.807 156.696 1378.852 167.951 1356.343 190.46 C 1333.835 212.968 1322.581 240.923 1322.581 274.324 C 1322.581 307.723 1333.835 335.678 1356.343 358.186 C 1378.852 380.696 1406.807 391.95 1440.207 391.95 Z M 366.322 1014.934 C 399.722 1014.934 427.677 1003.68 450.185 981.17 C 472.694 958.662 483.948 930.707 483.948 897.308 C 483.948 863.907 472.694 835.954 450.185 813.444 C 427.677 790.935 399.722 779.68 366.322 779.68 C 332.921 779.68 304.968 790.935 282.458 813.444 C 259.951 835.954 248.695 863.907 248.695 897.308 C 248.695 930.707 259.951 958.662 282.458 981.17 C 304.968 1003.68 332.921 1014.934 366.322 1014.934 Z M 1440.207 1637.918 C 1473.608 1637.918 1501.561 1626.664 1524.071 1604.154 C 1546.579 1581.646 1557.834 1553.691 1557.834 1520.292 C 1557.834 1486.891 1546.579 1458.938 1524.071 1436.428 C 1501.561 1413.92 1473.608 1402.664 1440.207 1402.664 C 1406.807 1402.664 1378.852 1413.92 1356.343 1436.428 C 1333.835 1458.938 1322.581 1486.891 1322.581 1520.292 C 1322.581 1553.691 1333.835 1581.646 1356.343 1604.154 C 1378.852 1626.664 1406.807 1637.918 1440.207 1637.918 Z M 1440.207 274.324 Z M 366.322 897.308 Z M 1440.207 1520.292 Z" /></svg></span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Copy Link to Clipboard
      </div>
    </div>
  </div>
  </div>



<p>You can then paste the link into a browser to jump directly to that document (authenticating as required).</p>
<h3 id="dependencies">Dependencies</h3>
<p>It is not possible to jump to the Dependencies screen to see the dependencies or dependants of a particular document.
In the explorer tree right click on a document and select one of:</p>
<p>




  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Dependencies"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="m 1520,1216 q 0,-40 -28,-68 L 1284,940 q -28,-28 -68,-28 -42,0 -72,32 3,3 19,18.5 16,15.5 21.5,21.5 5.5,6 15,19 9.5,13 13,25.5 3.5,12.5 3.5,27.5 0,40 -28,68 -28,28 -68,28 -15,0 -27.5,-3.5 -12.5,-3.5 -25.5,-13 -13,-9.5 -19,-15 -6,-5.5 -21.5,-21.5 -15.5,-16 -18.5,-19 -33,31 -33,73 0,40 28,68 l 206,207 q 27,27 68,27 40,0 68,-26 l 147,-146 q 28,-28 28,-67 z M 817,511 q 0,-40 -28,-68 L 583,236 q -28,-28 -68,-28 -39,0 -68,27 L 300,381 q -28,28 -28,67 0,40 28,68 l 208,208 q 27,27 68,27 42,0 72,-31 -3,-3 -19,-18.5 Q 613,686 607.5,680 602,674 592.5,661 583,648 579.5,635.5 576,623 576,608 q 0,-40 28,-68 28,-28 68,-28 15,0 27.5,3.5 12.5,3.5 25.5,13 13,9.5 19,15 6,5.5 21.5,21.5 15.5,16 18.5,19 33,-31 33,-73 z m 895,705 q 0,120 -85,203 l -147,146 q -83,83 -203,83 -121,0 -204,-85 L 867,1356 q -83,-83 -83,-203 0,-123 88,-209 l -88,-88 q -86,88 -208,88 -120,0 -204,-84 L 164,652 Q 80,568 80,448 80,328 165,245 L 312,99 q 83,-83 203,-83 121,0 204,85 l 206,207 q 83,83 83,203 0,123 -88,209 l 88,88 q 86,-88 208,-88 120,0 204,84 l 208,208 q 84,84 84,204 z"/></svg> </span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Dependencies
      </div>
    </div>
  </div>
  </div>



This will open the Dependencies screen with a filter pre-populated to show all documents that are dependencies of the selected document.</p>
<p>




  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >
        <div class="stroom-menu-item-icon">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Dependencies"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="m 1520,1216 q 0,-40 -28,-68 L 1284,940 q -28,-28 -68,-28 -42,0 -72,32 3,3 19,18.5 16,15.5 21.5,21.5 5.5,6 15,19 9.5,13 13,25.5 3.5,12.5 3.5,27.5 0,40 -28,68 -28,28 -68,28 -15,0 -27.5,-3.5 -12.5,-3.5 -25.5,-13 -13,-9.5 -19,-15 -6,-5.5 -21.5,-21.5 -15.5,-16 -18.5,-19 -33,31 -33,73 0,40 28,68 l 206,207 q 27,27 68,27 40,0 68,-26 l 147,-146 q 28,-28 28,-67 z M 817,511 q 0,-40 -28,-68 L 583,236 q -28,-28 -68,-28 -39,0 -68,27 L 300,381 q -28,28 -28,67 0,40 28,68 l 208,208 q 27,27 68,27 42,0 72,-31 -3,-3 -19,-18.5 Q 613,686 607.5,680 602,674 592.5,661 583,648 579.5,635.5 576,623 576,608 q 0,-40 28,-68 28,-28 68,-28 15,0 27.5,3.5 12.5,3.5 25.5,13 13,9.5 19,15 6,5.5 21.5,21.5 15.5,16 18.5,19 33,-31 33,-73 z m 895,705 q 0,120 -85,203 l -147,146 q -83,83 -203,83 -121,0 -204,-85 L 867,1356 q -83,-83 -83,-203 0,-123 88,-209 l -88,-88 q -86,88 -208,88 -120,0 -204,-84 L 164,652 Q 80,568 80,448 80,328 165,245 L 312,99 q 83,-83 203,-83 121,0 204,85 l 206,207 q 83,83 83,203 0,123 -88,209 l 88,88 q 86,-88 208,-88 120,0 204,84 l 208,208 q 84,84 84,204 z"/></svg> </span>
  </span>
        </div>

      <div class="stroom-menu-item-text">Dependants
      </div>
    </div>
  </div>
  </div>



This will open the Dependencies screen with a filter pre-populated to show all documents that depend on the selected document.</p>
<h3 id="broken-dependency-alerts">Broken Dependency Alerts</h3>
<p>It is now possible to see alert icons <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Alert"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="-120 -200 2032 2032"><path style="fill:var(--icon-colour__safety-yellow)" d="m 1008,67 768,1408 c 19.1682,31.4648 23.1567,86.205 -2,126 -13.7834,22.0284 -26.3499,33.6691 -45.5484,44.8183 C 1713.8004,1654.3267 1689.1168,1664 1664,1664 l -1536,0 c -13.90257,0 -43.91811,-6.0363 -63.5,-17.5155 -18.893364,-11.0756 -34.393364,-24.8623 -46.242232,-46 -25.6977373,-40.1957 -23.2711934,-92.2486 0.577675,-131.1554 L 784,67 C 795.33333,46.333333 811,30 831,18 851,6 872.66667,0 896,0 c 23.33333,0 45,6 65,18 20,12 35.66667,28.333333 47,49 z"/><path style="fill:none;stroke:#000;stroke-width:140" d="m 1008,67 768,1408 c 19.1682,31.4648 23.1567,86.205 -2,126 -13.7834,22.0284 -26.3499,33.6691 -45.5484,44.8183 C 1713.8004,1654.3267 1689.1168,1664 1664,1664 l -1536,0 c -13.90257,0 -43.91811,-6.0363 -63.5,-17.5155 -18.893364,-11.0756 -34.393364,-24.8623 -46.242232,-46 -25.6977373,-40.1957 -23.2711934,-92.2486 0.577675,-131.1554 L 784,67 C 795.33333,46.333333 811,30 831,18 851,6 872.66667,0 896,0 c 23.33333,0 45,6 65,18 20,12 35.66667,28.333333 47,49 z"></path></svg> </span>
  </span> in the explorer tree to highlight documents that have broken dependencies.
The user can hover over these icons to display more information about the broken dependency.
The explorer tree will show the alert icon <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Alert"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="-120 -200 2032 2032"><path style="fill:var(--icon-colour__safety-yellow)" d="m 1008,67 768,1408 c 19.1682,31.4648 23.1567,86.205 -2,126 -13.7834,22.0284 -26.3499,33.6691 -45.5484,44.8183 C 1713.8004,1654.3267 1689.1168,1664 1664,1664 l -1536,0 c -13.90257,0 -43.91811,-6.0363 -63.5,-17.5155 -18.893364,-11.0756 -34.393364,-24.8623 -46.242232,-46 -25.6977373,-40.1957 -23.2711934,-92.2486 0.577675,-131.1554 L 784,67 C 795.33333,46.333333 811,30 831,18 851,6 872.66667,0 896,0 c 23.33333,0 45,6 65,18 20,12 35.66667,28.333333 47,49 z"/><path style="fill:none;stroke:#000;stroke-width:140" d="m 1008,67 768,1408 c 19.1682,31.4648 23.1567,86.205 -2,126 -13.7834,22.0284 -26.3499,33.6691 -45.5484,44.8183 C 1713.8004,1654.3267 1689.1168,1664 1664,1664 l -1536,0 c -13.90257,0 -43.91811,-6.0363 -63.5,-17.5155 -18.893364,-11.0756 -34.393364,-24.8623 -46.242232,-46 -25.6977373,-40.1957 -23.2711934,-92.2486 0.577675,-131.1554 L 784,67 C 795.33333,46.333333 811,30 831,18 851,6 872.66667,0 896,0 c 23.33333,0 45,6 65,18 20,12 35.66667,28.333333 47,49 z"></path></svg> </span>
  </span> against all documents with a broken dependency and all of its ancestor folders.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/explorer-dependency-alerts.png" href="../../images/releases/07.02/explorer-dependency-alerts.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/explorer-dependency-alerts.png" style="max-width:300" alt="images/releases/07.02/explorer-dependency-alerts.png">
      

      
    </figure>
  </a>
</div>

<p>A broken dependency means a document (e.g. an XSLT) has a dependency on another document (e.g. a reference loader Pipeline) but that document does not exist.
Broken dependencies can occur when a user deletes a document that other documents depend on, or by a partial import of content.</p>
<p>This feature is disabled by default as it can have a significant effect on performance of the explorer tree with large trees.
To enable this feature, set the property <code>stroom.explorer.dependencyWarningsEnabled</code> to <code>true</code>.</p>
<p>Once enabled at the system level by the property, the display of alerts in the tree can be enabled/disabled by the user using the Toggle Alerts <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Toggle Alerts"><svg width="1792" height="1792" viewBox="0 0 1792 1792" version="1.1" xmlns="http://www.w3.org/2000/svg"><path style="fill:currentColor" d="M 896 128 C 756.66681 128 628.16655 162.3334 510.5 231 C 392.83345 299.6666 299.6666 392.83345 231 510.5 C 162.3334 628.16655 128 756.66681 128 896 C 128 1035.3332 162.3334 1163.8335 231 1281.5 C 299.6666 1399.1665 392.83345 1492.3334 510.5 1561 C 628.16655 1629.6666 756.66681 1664 896 1664 C 1035.3332 1664 1163.8335 1629.6666 1281.5 1561 C 1399.1665 1492.3334 1492.3334 1399.1665 1561 1281.5 C 1629.6666 1163.8335 1664 1035.3332 1664 896 C 1664 756.66681 1629.6666 628.16655 1561 510.5 C 1492.3334 392.83345 1399.1665 299.6666 1281.5 231 C 1163.8335 162.3334 1035.3332 128 896 128 z M 896 352 C 994.66657 352 1085.6668 376.33338 1169 425 C 1252.3332 473.66662 1318.3334 539.66675 1367 623 C 1415.6666 706.33325 1440 797.33343 1440 896 C 1440 994.66657 1415.6666 1085.6668 1367 1169 C 1318.3334 1252.3332 1252.3332 1318.3334 1169 1367 C 1085.6668 1415.6666 994.66657 1440 896 1440 C 797.33343 1440 706.33325 1415.6666 623 1367 C 539.66675 1318.3334 473.66662 1252.3332 425 1169 C 376.33338 1085.6668 352 994.66657 352 896 C 352 797.33343 376.33338 706.33325 425 623 C 473.66662 539.66675 539.66675 473.66662 623 425 C 706.33325 376.33338 797.33343 352 896 352 z " /><path style="fill:currentColor;fill-opacity:1;stroke-width:3.40204" d="m 896.00009,460.51434 c 45.24717,0 81.64911,36.40193 81.64911,81.6492 v 381.02962 c 0,45.24728 -36.40194,81.64914 -81.64911,81.64914 -45.24734,0 -81.64922,-36.40186 -81.64922,-81.64914 V 542.16353 c 0,-45.24726 36.40188,-81.6492 81.64922,-81.64919 z M 787.13438,1222.5734 a 108.86562,108.86562 0 1 1 217.73122,0 108.86562,108.86562 0 1 1 -217.73122,0 z" /></svg> </span>
  </span> button.</p>
<h2 id="entity-documentation">Entity Documentation</h2>
<p>It is now possible to add documentation to all <span class="glossary-link">
  <a href="../../docs/glossary/#entity" title="Glossary entry for entities">
    <span>entities</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>/<span class="glossary-link">
  <a href="../../docs/glossary/#document" title="Glossary entry for documents">
    <span>documents</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> in the explorer tree, e.g. adding documentation on a <em>Feed</em>.
Each entity now has a <em>Documentation</em> sub-tab where the user can enter any documentation they choose about that entity.
The documentation is written in <span class="glossary-link">
  <a href="../../docs/glossary/#markdown" title="Glossary entry for Markdown">
    <span>Markdown</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span> syntax.
It is not possible to add documentation to a <em>Folder</em> but you can create one or more a <em>Documentation</em> entities as a child item of that folder, see <a href="#_documentation_">Documentation</a>.</p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">See Also</h4>


    <p>See <a href="../../docs/user-guide/content/documentation/">Documenting Content</a> for details on the Markdown syntax.</p>


</div>


<h2 id="find-content">Find Content</h2>
<p>You can now search the content of entities in the explorer tree, e.g. searching within XSLTs, Dictionaries, Pipeline structure, etc.
This feature is available from the main menu <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Main Menu"><svg xmlns="http://www.w3.org/2000/svg" width="122.879" height="103.609" viewBox="0 0 122.879 103.609"><g style="fill:currentColor"><path d="M10.368,0h102.144c5.703,0,10.367,4.665,10.367,10.367v0 c0,5.702-4.664,10.368-10.367,10.368H10.368C4.666,20.735,0,16.07,0,10.368v0C0,4.665,4.666,0,10.368,0L10.368,0z M10.368,82.875 h102.144c5.703,0,10.367,4.665,10.367,10.367l0,0c0,5.702-4.664,10.367-10.367,10.367H10.368C4.666,103.609,0,98.944,0,93.242l0,0 C0,87.54,4.666,82.875,10.368,82.875L10.368,82.875z M10.368,41.438h102.144c5.703,0,10.367,4.665,10.367,10.367l0,0 c0,5.702-4.664,10.368-10.367,10.368H10.368C4.666,62.173,0,57.507,0,51.805l0,0C0,46.103,4.666,41.438,10.368,41.438 L10.368,41.438z"/></g></svg></span>
  </span>:</p>





  <div class="stroom-theme-dark stroom-menu">
    
    

      

      
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 0px;">
    
    <div class="stroom-menu-item " >

      <div class="stroom-menu-item-text">Navigation
      </div>
        <div class="stroom-menu-item-arrow">
          <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Arrow right"><svg xmlns="http://www.w3.org/2000/svg" width="1427.7665" height="1427.7665" viewBox="0 0 1427.7665 1427.7665"><g style="stroke:currentColor;stroke-width:167.567"><path d="m 415.05387,83.70929 c -39.92654,0.4303 -75.41463,48.3887 -40.0468,81.9121 C 567.552,348.69899 760.75555,531.15431 953.73208,713.82391 760.75555,896.49341 567.552,1078.9486 375.00707,1262.0262 c -46.19471,43.7855 28.48812,112.1966 76.0571,67.1681 195.93558,-185.823 392.95261,-370.82479 587.98693,-557.52749 5.6117,-4.8034 10.4633,-10.2473 14.4855,-16.1231 9.643,-12.4844 13.9638,-27.0796 13.6909,-41.7198 0.2729,-14.6402 -4.0479,-29.2354 -13.6909,-41.7198 -4.0222,-5.8758 -8.8738,-11.3198 -14.4855,-16.1231 C 844.01678,469.27821 646.99975,284.27629 451.06417,98.45319 439.91519,87.89979 427.27628,83.57749 415.05387,83.70929 Z"/></g></svg> </span>
  </span>
        </div>
    </div>
  </div>

      

      
      
        
      


      

  
  
  <div class="stroom-menu-item-background" style="margin-top: 7px;">
    
    <div class="stroom-menu-item stroom-menu-item-leaf" >

      <div class="stroom-menu-item-text">Find Content
      </div>
    </div>
  </div>
  </div>



<p>It can also be accessed by hitting 






  


<span class="key-bind key-bind-single ">
  
    
    
    
      
    

    

    
      
    

    
      
    

    

    

    
      
      
    
      
      
    
      
      
        
        
      
    

    
    
      
    
    <span class="key-bind-group key-bind-multiple">
    
      <span class="key-bind-key">Ctrl ^</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">Shift ⇧</span>
      <span class="key-bind-plus">+</span>
      <span class="key-bind-key">f</span>
      </span>
    </span>
 (unless an editor pane has focus).</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/find-content.png" href="../../images/releases/07.02/find-content.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/find-content.png" style="max-width:300" alt="images/releases/07.02/find-content.png">
      

      
    </figure>
  </a>
</div>

<p>It is useful for finding which pipelines are using a certain element, or what XSLTs are using a certain <code>stroom:</code> function.</p>
<p>This is an early evolution of this feature and it is likely to be improved with time.</p>
<h2 id="search-result-stores">Search Result Stores</h2>
<p>When a Dashboard/Query search is run, the results are written to a Search Results Store for that query.
This stores reside on disk to reduce the memory used by queries.
The Search Result Stores are stored on a single Stroom node and get created when a query is executed in a <em>Dashboard</em>, <em>Query</em> or <em>Analytic Rule</em>.</p>
<p>This screen provides an administrator with an overview of all the stores currently in existence in the Stroom cluster, showing details on their state and size.
It can also be used to stop queries that are currently running or to delete the store entirely.
Stores get deleted when the user closes the <em>Dashboard</em> or <em>Query</em> that created them.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/search-result-stores.png" href="../../images/releases/07.02/search-result-stores.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/search-result-stores.png" style="max-width:300" alt="images/releases/07.02/search-result-stores.png">
      

      
    </figure>
  </a>
</div>

<h2 id="pipeline-stepper-improvements">Pipeline Stepper Improvements</h2>
<p>The pipeline stepper has had a few user interface tweaks to make it easier to use.</p>
<h3 id="log-pane">Log Pane</h3>
<p>When there are errors, warnings or info messages on a pipeline element they will now also be displayed in a pane at the bottom.
This makes it easer to see all messages in one place.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/stepper-log-pane.png" href="../../images/releases/07.02/stepper-log-pane.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/stepper-log-pane.png" style="max-width:300" alt="images/releases/07.02/stepper-log-pane.png">
      

      
    </figure>
  </a>
</div>

<p>The editor still displays icons with hover tips in the gutter on the appropriate line where the message has an associated line number.</p>
<p>The log pane can be hidden by clicking the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Toggle Log Pane"><svg width="1792" height="1792" viewBox="0 0 1792 1792" version="1.1" xmlns="http://www.w3.org/2000/svg"><path style="fill:currentColor" d="M 896 128 C 756.66681 128 628.16655 162.3334 510.5 231 C 392.83345 299.6666 299.6666 392.83345 231 510.5 C 162.3334 628.16655 128 756.66681 128 896 C 128 1035.3332 162.3334 1163.8335 231 1281.5 C 299.6666 1399.1665 392.83345 1492.3334 510.5 1561 C 628.16655 1629.6666 756.66681 1664 896 1664 C 1035.3332 1664 1163.8335 1629.6666 1281.5 1561 C 1399.1665 1492.3334 1492.3334 1399.1665 1561 1281.5 C 1629.6666 1163.8335 1664 1035.3332 1664 896 C 1664 756.66681 1629.6666 628.16655 1561 510.5 C 1492.3334 392.83345 1399.1665 299.6666 1281.5 231 C 1163.8335 162.3334 1035.3332 128 896 128 z M 896 352 C 994.66657 352 1085.6668 376.33338 1169 425 C 1252.3332 473.66662 1318.3334 539.66675 1367 623 C 1415.6666 706.33325 1440 797.33343 1440 896 C 1440 994.66657 1415.6666 1085.6668 1367 1169 C 1318.3334 1252.3332 1252.3332 1318.3334 1169 1367 C 1085.6668 1415.6666 994.66657 1440 896 1440 C 797.33343 1440 706.33325 1415.6666 623 1367 C 539.66675 1318.3334 473.66662 1252.3332 425 1169 C 376.33338 1085.6668 352 994.66657 352 896 C 352 797.33343 376.33338 706.33325 425 623 C 473.66662 539.66675 539.66675 473.66662 623 425 C 706.33325 376.33338 797.33343 352 896 352 z " /><path style="fill:currentColor;fill-opacity:1;stroke-width:3.40204" d="m 896.00009,460.51434 c 45.24717,0 81.64911,36.40193 81.64911,81.6492 v 381.02962 c 0,45.24728 -36.40194,81.64914 -81.64911,81.64914 -45.24734,0 -81.64922,-36.40186 -81.64922,-81.64914 V 542.16353 c 0,-45.24726 36.40188,-81.6492 81.64922,-81.64919 z M 787.13438,1222.5734 a 108.86562,108.86562 0 1 1 217.73122,0 108.86562,108.86562 0 1 1 -217.73122,0 z" /></svg> </span>
  </span> icon.</p>
<h3 id="highlighting">Highlighting</h3>
<p>The pipeline displayed at the top of the stepper now highlights elements that have log messages against them.
This makes it easier to see when there is a problem with an element as you step through the data.
The elements are given a coloured border according to the highest severity message on that element:</p>
<ul>
<li>Info - Blue</li>
<li>Warning - Yellow</li>
<li>Error - Red</li>
<li>Fatal Error - Red (pulsating)</li>
</ul>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 510px">

  <a title="images/releases/07.02/stepper-element-highlight.png" href="../../images/releases/07.02/stepper-element-highlight.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/stepper-element-highlight.png" style="max-width:500" alt="images/releases/07.02/stepper-element-highlight.png">
      

      
    </figure>
  </a>
</div>

<h3 id="filtering">Filtering</h3>
<p>Stroom has always had the ability to filter the data being stepped, however the feature was a little hidden (the Mange Step Filters <span class="stroom-icon inline-svg-button icon-button  icon-colour__green" >
    <span class="face" title="Manage Step Filters"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1595 295q17 41-14 70l-493 493v742q0 42-39 59-13 5-25 5-27 0-45-19l-256-256q-19-19-19-45v-486l-493-493q-31-29-14-70 17-39 59-39h1280q42 0 59 39z"/></svg></span>
  </span> icon).</p>
<p>Now you can right click on a pipeline element to manage the filters on that element.
You can also clear its filters or the filters on all elements.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/stepper-context-menu.png" href="../../images/releases/07.02/stepper-context-menu.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/stepper-context-menu.png" style="max-width:300" alt="images/releases/07.02/stepper-context-menu.png">
      

      
    </figure>
  </a>
</div>

<p>The pipeline now shows which elements have an active filter by displaying a filter <span class="stroom-icon inline-svg-button icon-button  icon-colour__green" >
    <span class="face" title="Manage Step Filters"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M1595 295q17 41-14 70l-493 493v742q0 42-39 59-13 5-25 5-27 0-45-19l-256-256q-19-19-19-45v-486l-493-493q-31-29-14-70 17-39 59-39h1280q42 0 59 39z"/></svg></span>
  </span> icon.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 410px">

  <a title="images/releases/07.02/stepper-element-filter-icons.png" href="../../images/releases/07.02/stepper-element-filter-icons.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/stepper-element-filter-icons.png" style="max-width:400" alt="images/releases/07.02/stepper-element-filter-icons.png">
      

      
    </figure>
  </a>
</div>

<h2 id="server-tasks">Server Tasks</h2>
<h3 id="auto-refresh">Auto Refresh</h3>
<p>You can now enable/disable the auto-refreshing of the Server Tasks table using the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Turn Auto Refresh On/Off"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:currentColor" d="M 383.37305 1128.0742 C 383.65683 1128.7015 383.89025 1129.3581 384.17578 1129.9844 L 384.25391 1129.9844 C 383.9631 1129.346 383.66159 1128.714 383.37305 1128.0742 z "/><path style="fill:currentColor" d="M 217.53125 1024 L 192 1024 C 174.66672 1024 159.66663 1030.3333 147 1043 C 134.33337 1055.6667 128 1070.6667 128 1088 L 128 1536 C 128 1553.3333 134.33337 1568.3333 147 1581 C 159.66663 1593.6667 174.66672 1600 192 1600 C 209.33328 1600 224.33337 1593.6667 237 1581 L 366 1452 C 437.33312 1519.9997 518.50027 1572.3334 609.5 1609 C 700.49973 1645.6666 794.66696 1664 892 1664 C 1074.6661 1664 1234.0003 1608.4997 1370 1497.5 C 1505.9997 1386.5003 1595.3334 1241.6661 1638 1063 C 1638.6667 1061.6667 1639 1059.3333 1639 1056 C 1639 1047.3333 1635.8333 1039.8333 1629.5 1033.5 C 1623.1667 1027.1667 1615.6667 1024 1607 1024 L 1574.5645 1024 L 1478.1309 1024 C 1478.1309 1024 1474.7585 1024.0561 1470.2129 1024.791 C 1467.9401 1025.1585 1465.3744 1025.6962 1462.791 1026.4805 C 1460.2077 1027.2647 1457.605 1028.2959 1455.2617 1029.6523 C 1453.1579 1031.0302 1451.0908 1032.7194 1449.123 1034.6445 C 1447.1553 1036.5697 1445.2886 1038.7303 1443.5859 1041.0508 C 1441.8832 1043.3712 1440.3438 1045.8524 1439.0352 1048.416 C 1437.7265 1050.9797 1436.6469 1053.6266 1435.8613 1056.2812 C 1432.0881 1069.0321 1427.8071 1081.5263 1423.1172 1093.7988 C 1421.7201 1097.4547 1420.0569 1100.9608 1418.5898 1104.5781 C 1415.8637 1111.4375 1413.0156 1118.228 1410.0371 1124.9414 C 1409.2957 1126.6019 1408.6736 1128.3313 1407.9199 1129.9844 L 1407.7441 1129.9844 C 1317.8048 1327.4255 1119.6274 1459.399 896 1459.957 C 672.37232 1459.399 474.19322 1327.4261 384.25391 1129.9844 L 384.17578 1129.9844 C 383.89025 1129.3581 383.65683 1128.7015 383.37305 1128.0742 C 379.44158 1119.3571 375.73356 1110.5078 372.23047 1101.543 C 371.19032 1098.9366 369.98219 1096.4252 368.97852 1093.7988 C 364.2886 1081.5263 360.00763 1069.0321 356.23438 1056.2812 C 355.44876 1053.6265 354.36919 1050.9797 353.06055 1048.416 C 351.7519 1045.8524 350.21441 1043.3712 348.51172 1041.0508 C 346.80903 1038.7303 344.94235 1036.5697 342.97461 1034.6445 C 341.00686 1032.7193 338.93779 1031.0302 336.83398 1029.6523 C 334.49071 1028.2959 331.88998 1027.2647 329.30664 1026.4805 C 326.7233 1025.6962 324.15759 1025.1584 321.88477 1024.791 C 317.33912 1024.0562 313.96484 1024 313.96484 1024 L 217.53125 1024 z "/><path style="fill:currentColor" d="m 1407.7441,1129.9844 h 0.1758 c 0.7537,-1.6531 1.3758,-3.3825 2.1172,-5.043 -0.7497,1.6898 -1.5275,3.3626 -2.293,5.043 z"/><path style="fill:currentColor" d="M 1408.998 662.01562 C 1410.8019 665.97553 1412.5691 669.95862 1414.2852 673.9707 C 1412.5695 670.0093 1411.0506 665.93469 1409.2637 662.01562 L 1408.998 662.01562 z "/><path style="fill:currentColor" d="M 896 128 C 712.66721 128 552.66625 183.50033 416 294.5 C 279.33375 405.49967 189.33321 550.33387 146 729 L 146 736 C 146 744.66664 149.16669 752.16669 155.5 758.5 C 161.83331 764.83331 169.33336 768 178 768 L 314.42773 768 C 314.42773 768 327.9238 767.77341 337.29688 762.34766 C 345.71211 756.83634 353.55482 746.33794 356.69727 735.71875 C 427.0175 498.08732 645.56448 332.66797 896 332.04297 C 1120.0947 332.10458 1318.8778 464.1752 1408.998 662.01562 L 1409.2637 662.01562 C 1411.0506 665.93469 1412.5695 670.0093 1414.2852 673.9707 C 1415.0485 675.7553 1415.7953 677.54898 1416.541 679.34375 C 1419.1931 685.62348 1422.0169 691.80554 1424.4609 698.20117 C 1429.1508 710.47373 1433.4318 722.96786 1437.2051 735.71875 C 1437.9907 738.37355 1439.0703 741.02032 1440.3789 743.58398 C 1441.6876 746.14765 1443.227 748.62876 1444.9297 750.94922 C 1446.6324 753.26967 1448.4991 755.43029 1450.4668 757.35547 C 1452.4345 759.28064 1454.5017 760.96983 1456.6055 762.34766 C 1458.9487 763.70408 1461.5514 764.7353 1464.1348 765.51953 C 1466.7181 766.30376 1469.2838 766.84155 1471.5566 767.20898 C 1476.1023 767.94385 1479.4746 768 1479.4746 768 L 1575.9082 768 L 1600 768 C 1617.3333 768 1632.3333 761.66663 1645 749 C 1657.6667 736.33337 1664 721.33328 1664 704 L 1664 256 C 1664 238.66672 1657.6667 223.66663 1645 211 C 1632.3333 198.33337 1617.3333 192 1600 192 C 1582.6667 192 1567.6667 198.33337 1555 211 L 1425 340 C 1353.6669 272.66687 1271.9997 220.49988 1180 183.5 C 1088.0003 146.50012 993.33304 128 896 128 z "/><path style="fill:none;stroke:currentColor;stroke-width:145;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-dasharray:none" d="M 664.92147,1027.8846 H 1127.0785 M 608.29781,1150.9974 895.99986,525.46719 1183.7022,1150.9974"/></svg> </span>
  </span> button.
Auto refresh is enabled by default.
Disabling it is useful when you want to delete a task, as it will stop the table being refreshed just before you hit delete.</p>
<h3 id="line-wrapping">Line Wrapping</h3>
<p>You can now enable/disable line wrapping in the Name and Info cells using the <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Turn Cell Line Wrapping On/Off"><svg width="1792" height="1792" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg" ><path style="stroke-width:32;fill:currentColor;stroke:currentColor;stroke-dasharray:none" d="m 55.939046,1336.0329 c 0,-33.1384 26.865158,-60.0043 60.004354,-60.0043 h 520.03774 c 33.1392,0 60.00435,26.8659 60.00435,60.0043 0,33.1384 -26.86515,60.0044 -60.00435,60.0044 H 115.9434 c -33.139196,0 -60.004354,-26.866 -60.004354,-60.0044 z M 115.9434,755.99082 c -33.139196,0 -60.004354,26.86595 -60.004354,60.00436 0,33.1384 26.865158,60.00435 60.004354,60.00435 h 1300.0944 c 110.4641,0 200.0145,89.5505 200.0145,200.01457 0,110.464 -89.5504,200.0145 -200.0145,200.0145 h -355.1697 l 57.5721,-57.5802 c 23.4337,-23.4337 23.4337,-61.4204 0,-84.8542 -23.4337,-23.4337 -61.4205,-23.4337 -84.8541,0 l -160.01172,160.0117 c -23.4337,23.4336 -23.4337,61.4205 0,84.8541 l 160.01172,160.0116 c 23.4336,23.4338 61.4204,23.4338 84.8541,0 23.4337,-23.4337 23.4337,-61.4204 0,-84.8542 l -57.5721,-57.5801 h 355.1697 c 176.7409,0 320.0232,-143.2824 320.0232,-320.0232 0,-176.74088 -143.2823,-320.02328 -320.0232,-320.02328 z m 0,-520.03774 c -33.139196,0 -60.004354,26.86515 -60.004354,60.00436 0,33.1392 26.865158,60.00435 60.004354,60.00435 h 1480.1074 c 33.1385,0 60.0044,-26.86515 60.0044,-60.00435 0,-33.13921 -26.8659,-60.00436 -60.0044,-60.00436 z" /></svg> </span>
  </span> button.
Line wrapping is disable by default.
Enabling this is useful to see long Info cell values.</p>
<h3 id="info-popup">Info Popup</h3>
<p>The Info <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Info"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:#1976d3" d="m 1664,896 c 0,139.3333 -34.3333,267.8333 -103,385.5 -68.6667,117.6667 -161.8333,210.8333 -279.5,279.5 -117.6667,68.6667 -246.1667,103 -385.5,103 -139.33333,0 -267.83333,-34.3333 -385.5,-103 C 392.83333,1492.3333 299.66667,1399.1667 231,1281.5 162.33333,1163.8333 128,1035.3333 128,896 128,756.66667 162.33333,628.16667 231,510.5 299.66667,392.83333 392.83333,299.66667 510.5,231 628.16667,162.33333 756.66667,128 896,128 c 139.3333,0 267.8333,34.33333 385.5,103 117.6667,68.66667 210.8333,161.83333 279.5,279.5 68.6667,117.66667 103,246.16667 103,385.5 z"/><path style="fill:#fff" d="m 1152,1376 0,-160 c 0,-9.3333 -3,-17 -9,-23 -6,-6 -13.6667,-9 -23,-9 l -96,0 0,-512 c 0,-9.33333 -3,-17 -9,-23 -6,-6 -13.6667,-9 -23,-9 l -320,0 c -9.33333,0 -17,3 -23,9 -6,6 -9,13.66667 -9,23 l 0,160 c 0,9.33333 3,17 9,23 6,6 13.66667,9 23,9 l 96,0 0,320 -96,0 c -9.33333,0 -17,3 -23,9 -6,6 -9,13.6667 -9,23 l 0,160 c 0,9.3333 3,17 9,23 6,6 13.66667,9 23,9 l 448,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.6667 9,-23 z m -128,-896 0,-160 c 0,-9.33333 -3,-17 -9,-23 -6,-6 -13.6667,-9 -23,-9 l -192,0 c -9.33333,0 -17,3 -23,9 -6,6 -9,13.66667 -9,23 l 0,160 c 0,9.33333 3,17 9,23 6,6 13.66667,9 23,9 l 192,0 c 9.3333,0 17,-3 23,-9 6,-6 9,-13.66667 9,-23 z"/></svg> </span>
  </span> popup has been changed to include the value from the Info column.</p>
<h2 id="proxy">Proxy</h2>
<p>Stroom-Proxy v7.2 has undergone a significant re-write in an attempt to address certain performance issues, make it more flexible and to allow data to be forked to many destinations.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    There are some known performance issues with Stroom-Proxy v7.2 so it is not yet production ready, therefore until these are addressed you are advised to continue using Stroom-Proxy v7.0.

</div>



</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '5.2.'; page-break-before: always">
    
  <h1 id="pg-8f37d37e6fb066fc964b613e0b57ef05">5.2 - Preview Features (experimental)</h1>
    <div class="lead">Preview experimental features in Stroom version 7.2.</div>
	<h2 id="new-document-types">New Document types</h2>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    The following features are usable but should be considered experimental at this point.
The functionality may be subject to future changes that may break any content created with this version.

</div>


<h3 id="_view_"><em>View</em></h3>
<p>A View <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="View"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__green)" d="M1595 295q17 41-14 70l-493 493v742q0 42-39 59-13 5-25 5-27 0-45-19l-256-256q-19-19-19-45v-486l-493-493q-31-29-14-70 17-39 59-39h1280q42 0 59 39z"/></svg> </span>
  </span> is a document type that has been added in to make using Dashboards and Queries easier.
It encapsulates the data source and an optional extraction pipeline.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/view.png" href="../../images/releases/07.02/view.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/view.png" style="max-width:300" alt="images/releases/07.02/view.png">
      

      
    </figure>
  </a>
</div>

<p>Previously a user wanting to create a Dashboard to query Stroom&rsquo;s indexes would need to first select the Index to use as the data source then select an extraction pipeline.
The indexes do not typically store the full event, so extraction pipelines retrieve the full event from the stream store for each matching event returned by the index.
Users should not need to understand the distinction between what is held in the index and what has to be exacted, nor should they need to know how to do that extraction.</p>
<p>A View abstracts the user from this process.
They can be configured by an admin or more senior user so that a standard user can just select an appropriate View as the data source in a Dashboard or Query and the View will silently handle the retrieval/extraction of data.</p>
<p>Views are also used by <em>Analytic Rules</em> so need to define a Meta filter that controls the streams that will be processed by the analytic.
This filer should mirror the processor filter expression used to control data processed by the Index that the View is using.
These two filters may be amalgamated in a future version of Stroom.</p>
<h3 id="_query_"><em>Query</em></h3>
<p>The Query <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Query"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__blue)" d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg></span>
  </span> feature provides a new way to query data in Stroom.
It is a functional but evolving feature that is likely to be enhanced further in future versions.</p>
<p>Rather than using the query expression builder and table column expressions as used in Dashboards, it uses the new text based <a href="../../docs/user-guide/search/queries/stroom-query-language/">Stroom Query Language</a> to define the query.</p>







  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/query.png" href="../../images/releases/07.02/query.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/query.png" style="max-width:300" alt="images/releases/07.02/query.png">
      

      
    </figure>
  </a>
</div>

<h4 id="stroom-query-language-stroomql">Stroom Query Language (StroomQL)</h4>
<p>This is an example of a StroomQL query.
It replaces the old dashboard expression &rsquo;tree&rsquo; and table column expressions.
StroomQL has the advantage of being quicker to construct and is easier to copy from one query to another (whole or in part) as it is just plain text.</p>
<pre><code class="language-sql">FROM &quot;Example View&quot;                           // Define the View to use as the data source
WHERE Action IN(&quot;Search&quot;, &quot;View&quot;)             // Equivalent to the Dashboard expression tree
EVAL hour = floorHour(EventTime)              // Define named fields based on function expressions
EVAL event_count = count()
GROUP BY Feed, Action                         // Equivalent to Dashboard table column grouping
SELECT Feed, Action, event_count AS &quot;Count&quot;   // Equivalent to adding columns to a Dashboard table
</code></pre>
<p>Editing StroomQL queries in the editor is also made easier by the code completion (using <code>ctrl+space</code>) to suggest data sources, fields, functions and StroomQL language terms.
StroomQl queries can be executed easily with <code>ctrl+enter</code> or <code>shift+enter</code>.</p>
<h3 id="_analytic-rule_"><em>Analytic Rule</em></h3>
<p>Analytic Rules allow the user to create scheduled or streaming Analytic Rule <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Analytic rule"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M1333 566q18 20 7 44l-540 1157q-13 25-42 25-4 0-14-2-17-5-25.5-19t-4.5-30l197-808-406 101q-4 1-12 1-18 0-31-11-18-15-13-39l201-825q4-14 16-23t28-9h328q19 0 32 12.5t13 29.5q0 8-5 18l-171 463 396-98q8-2 12-2 19 0 34 15z"/></svg></span>
  </span> that will fire alerts when events matching the rule are seen.</p>
<div class="td-card-deck card-deck mb-4">
  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 310px">

  <a title="images/releases/07.02/analytic-rule.png" href="../../images/releases/07.02/analytic-rule.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/analytic-rule.png" style="max-width:300" alt="images/releases/07.02/analytic-rule.png">
      

      
    </figure>
  </a>
</div>

  






  
  
  
  
  







  
  



<div class="card rounded shadow-stroom p-2 td-post-card mb-4 mt-4" style="max-width: 210px">

  <a title="images/releases/07.02/analytic-rule-notification.png" href="../../images/releases/07.02/analytic-rule-notification.png">
    <figure style="margin-block-end: 0px" >
      
      <img class="card-img-top" src="../../images/releases/07.02/analytic-rule-notification.png" style="max-width:200" alt="images/releases/07.02/analytic-rule-notification.png">
      

      
    </figure>
  </a>
</div>

</div>
<p>Analytic rules rely on the new <a href="#stroom-query-language-stroomql">Stroom Query Language</a> to define what events will match the rule.
An <em>Analytic Rule</em> can be created directly from a <em>Query</em> by clicking the Create Analytic Rule <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Create Analytic Rule"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__orange)" d="M1333 566q18 20 7 44l-540 1157q-13 25-42 25-4 0-14-2-17-5-25.5-19t-4.5-30l197-808-406 101q-4 1-12 1-18 0-31-11-18-15-13-39l201-825q4-14 16-23t28-9h328q19 0 32 12.5t13 29.5q0 8-5 18l-171 463 396-98q8-2 12-2 19 0 34 15z"/></svg></span>
  </span> icon.</p>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '5.3.'; page-break-before: always">
    
  <h1 id="pg-8203da199677107de56b4d34b927f5b9">5.3 - Breaking Changes</h1>
    <div class="lead">Changes in Stroom version 7.2 that may break existing processing or ways of working.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of the changes affect you.

</div>


<h2 id="quoted-strings-in-dashboard-table-expressions">Quoted Strings in Dashboard Table Expressions</h2>
<p>Quoted strings in dashboard table expressions can now be expressed with single and double quotes.
As part of this change apostrophes in text are no longer escaped with an additional apostrophe (<code>''</code>), but instead require a leading <code>\</code> before them if they are in a single quoted string, i.e:</p>
<p><code>'O''Neill'</code> must be changed to <code>'O\'Neill'</code></p>
<p>In many cases it is preferable to use double quotes if the string in question has an apostrophe.
Note that the use of <code>\</code> as an escape character also means that any existing <code>\</code> characters will need to be escaped with a preceding <code>\</code> so <code>\</code> must now become <code>\\</code>, i.e:</p>
<p><code>c:\Windows\System32</code> must be changed to <code>c:\\Windows\\System32</code></p>
<p>The new <a href="../../releases/v07.02/new-features/#find-content">Find Content</a> feature can be used to find affected Dashboards.</p>
<h2 id="search-api-change">Search API Change</h2>
<p>The APIs for running searches against Stroom data sources have changed in a breaking way.
This is due to a change in the way running queries are identified.</p>
<p>Previously the client calling the API would provide generate a unique <code>key</code> for the query and included it in the <code>searchRequest</code> object.
This key would then be used again if the client wanted to make further requests for results for the same running query.</p>
<pre><code class="language-json">  &quot;key&quot; : {
    &quot;uuid&quot;: &quot;e244d45c-4086-463b-b1a8-10c8c7d7d6c7&quot;
  },
</code></pre>
<p>In v7.2 the query <code>key</code> is now generated by Stroom rather than the client.
In the first search request for a query, the client should now <strong>omit</strong> the <code>key</code> field from the request.
Stroom will generate a unique key for the running query and return it in the response.
However, in any subsequent requests for that running query, the client should <strong>include</strong> the <code>key</code> field, using the value from the previous response.</p>
<p>If you have static request JSON files then you can easily remove the <code>key</code> field using 







  
  

<span class="external-link">
  <a href="https://jqlang.github.io/jq/" target="_blank" class="" style="" title="jq (external link to https://jqlang.github.io/jq/)">
    <span>jq</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
 as follows:</p>

  






<div class="code-toolbar">
  <pre 
    class="command-line language-bash" 
    data-user="user" 
    data-host="localhost" 
    data-continuation-str="\"
    data-filter-output="(out)"><code class="language-bash">jq &#39;del(.key)&#39; req.json &gt; req.new.json</code></pre>
</div>


</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '5.4.'; page-break-before: always">
    
  <h1 id="pg-0e6947c5f46b855167478512045d7632">5.4 - Upgrade Notes</h1>
    <div class="lead">Required actions and information relating to upgrading to Stroom version 7.2.</div>
	
<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    Please read this section carefully in case any of it is relevant to your Stroom instance.

</div>


<h2 id="java-version">Java Version</h2>
<p>Stroom v7.2 requires Java v17.
Previous versions of Stroom used Java v15 or lower.
You will need to upgrade Java on the Stroom and Stroom-Proxy hosts to the latest patch release of Java v17.</p>
<h2 id="regex-performance-issue-in-xslt-processing">Regex Performance Issue in XSLT Processing</h2>
<p>v7.2 of Stroom uses a newer version of the Saxon XML processing library.
Saxon is used for all pipeline processing.
There is a bug in this version of Saxon which means that case insensitive regular expression matching performs <strong>very</strong> badly, i.e. it can be orders of magnitude slower than a case sensitive regex.
This bug has been reported to Saxon and has been fixed but not yet released.
It is likely a future release of Stroom will include a new version of Saxon that addresses this issue.</p>
<p>The performance issue will show itself when multiple pipelines with effected XSLTs are being processed concurrently.
This impacts XSLT/Xpath functions like <code>matches()</code> that use the <code>i</code> flag for case insensitive matching.
If you don&rsquo;t not use any case-insensitive regular expressions in your XSLTs then you do not need to do anything.</p>
<p>Until Stroom is changed to used a new version of Saxon with a fix, you will have to change the XSLTs that use the <code>i</code> flag in one of the following ways:</p>
<ul>
<li>
<p>Re-write the regular expression to use case sensitive matching, E.g:<br>
<code>matches('CATHODE', '^cat.*', 'i')</code> =&gt; <code>matches('CATHODE', '^[cC][aA][tT].*')</code><br>
This is the preferred option, but may not be possible for all regular expressions.</p>
</li>
<li>
<p>Add the flag <code>;j</code> to force Saxon to use the Java regular expression engine instead of the Saxon one, E.g:<br>
<code>matches('CATHODE', '^cat.*', 'i')</code> =&gt; <code>matches('CATHODE', '^cat.*', 'i;j')</code><br>
As this involves changing the regular expression engine it is possible that there will be subtle differences in the behaviour between the Saxon and Java engines.
Regular expression engines are notorious for having subtle differences as there is no one standard for regular expressions.</p>
</li>
</ul>
<h2 id="tagging-entities">Tagging Entities</h2>
<p>As described in <a href="../../releases/v07.02/new-features/#document-tagging">Document Tagging</a> Stroom now pre-populates the filter of some of the tree pickers with pre-configured tags to limit the entities returned.
If you do nothing then after upgrade these tree pickers will show no matching entities to the user.</p>
<p>You have two options:</p>
<ol>
<li>
<p>Tag entities with the pre-configured tags so they are visible in the tree pickers.</p>
<p>To do this you need to find and tag the following entities:</p>
<ul>
<li>Tag all reference loader pipelines (those using the 







  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#referencedatafilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="ReferenceDataFilter &#34;ReferenceDataFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Reference data"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__blue)" d="m 1205.3507,897.46166 q 0,20.9696 -14.368,35.3376 L 938.18285,1185.5992 q -15.14469,14.368 -35.33761,14.368 -19.80459,0 -34.94929,-14.368 l -29.1244,-29.1244 q -14.75637,-14.7564 -14.75637,-35.3377 0,-20.5812 14.75637,-35.3376 l 113.77934,-113.77934 -273.38109,0 q -20.19292,0 -32.81349,-14.5622 -12.62058,-14.5622 -12.62058,-35.1435 l 0,-49.7056 q 0,-20.5813 12.62058,-35.1435 12.62057,-14.5622 32.81349,-14.5622 l 273.38109,0 -113.77934,-114.1676 q -14.75637,-13.9798 -14.75637,-34.9493 0,-20.9696 14.75637,-34.9493 l 29.1244,-29.1244 q 14.75637,-14.7564 34.94929,-14.7564 20.58125,0 35.33761,14.7564 l 252.79985,252.7998 q 14.368,13.5914 14.368,34.9493 z"/><path style="fill:var(--icon-colour__blue)" d="M 155.66211 541.10742 L 377.63672 873.35547 L 123.20117 1253.8164 L 227.26758 1253.8164 L 429.19336 950.6875 L 629.6875 1253.8164 L 733.27734 1253.8164 L 488.86523 883.37891 L 718 541.10742 L 614.41211 541.10742 L 436.35352 806.04492 L 259.25 541.10742 L 155.66211 541.10742 z M 1073.6406 541.10742 L 1325.6895 914.4082 L 1325.6895 1253.8164 L 1422.5957 1253.8164 L 1422.5957 914.4082 L 1674.6465 541.10742 L 1571.0566 541.10742 L 1374.8594 834.21094 L 1177.2285 541.10742 L 1073.6406 541.10742 z "/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">ReferenceDataFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  







 pipeline element) with <code>reference-loader</code> (or whatever value(s) is/are set in <code>stroom.ui.referencePipelineSelectorIncludedTags</code>).</li>
<li>Tag all extraction pipelines (those using the 







  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#searchresultoutputfilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="SearchResultOutputFilter &#34;SearchResultOutputFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Search output"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__blue)" d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">SearchResultOutputFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  







 pipeline element) with <code>extraction</code> (or whatever value(s) is/are set in <code>stroom.ui.query.dashboardPipelineSelectorIncludedTags</code>).</li>
</ul>
<p>Any new entities matching the above criteria also need to be tagged in this way to ensure users see the correct entities.
The new <a href="../../releases/v07.02/new-features/#find-content">Find Content</a> is useful for tracking down <em>Pipelines</em> that contain a certain element.</p>
<p>The property <code>stroom.ui.query.viewPipelineSelectorIncludedTags</code> is not an issue for an upgrade to v7.2 as <em>Views</em> did not exist prior to this version.
All new dynamic extraction pipeline entities (those using the 







  
  

  
  

  
  
  

  
  

  
  

  

    
    

    
      
      
      

      
      <a href="../../docs/reference-section/pipeline-elements#dynamicsearchresultoutputfilter" class="" style="" title="">
        <span class="stroom-theme-dark pipeline-element" title="DynamicSearchResultOutputFilter &#34;DynamicSearchResultOutputFilter&#34;" >
          <span class="pipeline-element-content" >
            <span class="pipeline-element-icon">
              <span class="stroom-icon inline-svg-button icon-button  " >
    <span class="face" title="Search output"><svg xmlns="http://www.w3.org/2000/svg" width="1792" height="1792" viewBox="0 0 1792 1792"><path style="fill:var(--icon-colour__blue)" d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg></span>
  </span>
            </span>
            <span class="pipeline-element-text">DynamicSearchResultOutputFilter</span>
          </span>
        </span>
      </a>

      
      <span class="USED FOR SPLITTING" ></span>

    
  







 pipeline element) need to be tagged with <code>dynamic</code> and <code>extraction</code> (or whatever value(s) is/are set in <code>stroom.ui.query.viewPipelineSelectorIncludedTags</code>)</p>
</li>
<li>
<p>Change the system properties to not pre-populate the filters.
If you do not want to use this feature then you can just clear the values of the following properties:</p>
<ul>
<li><code>stroom.ui.query.dashboardPipelineSelectorIncludedTags</code></li>
<li><code>stroom.ui.query.viewPipelineSelectorIncludedTags</code></li>
<li><code>stroom.ui.referencePipelineSelectorIncludedTags</code></li>
</ul>
</li>
</ol>
<h2 id="reference-data-store">Reference Data Store</h2>
<p>See <a href="../../releases/v07.02/new-features/#partitioned-reference-data-stores">Partitioned Reference Data Stores</a> for details of the changes to reference data stores.</p>
<p>No intervention is required on upgrade for this change, this section is for information purposes only, however it is recommended that you take a backup copy of the existing reference data store files before booting the new version of Stroom.
To do this, make a copy of the files in the directory specified by <code>stroom.pipeline.referenceData.lmdb.localDir</code>.
If there is a problem then you can replace the store with the copy and try again.</p>
<p>Stroom will automatically migrate reference data from the legacy single data store into multiple <em>Feed</em> specific stores.
The legacy store exists in the directory configured by <code>stroom.pipeline.referenceData.lmdb.localDir</code>.
Each feed specific store will be in a sub-directory with a name like <code>USER-DETAILS-REFERENCE___309e1ca0-7a5f-4f05-847b-b706805d758c</code> (i.e. a file system safe version of the <em>Feed</em> name and the <em>Feed&rsquo;s</em> <span class="glossary-link">
  <a href="../../docs/glossary/#uuid" title="Glossary entry for UUID">
    <span>UUID</span>
    <i class="glossary-link-icon fas fa-book fa-sm text-primary"></i>
  </a>
</span>.</p>
<p>The migration happens on an as-needed basis.
When a <a href="../../docs/user-guide/pipelines/xslt/xslt-functions/#lookup">lookup</a> is called from an XSLT, if the required reference stream is found to exist in the legacy store then it will be copied into the appropriate <em>Feed</em> specific store (creating the store if required).
After being copied, the stream in the legacy store will be marked as available for purge so will get purged on the next run of the job <em>Ref Data Off-heap Store Purge</em>.</p>
<p>When Stroom boots it will delete a legacy store if it is found to be empty, so eventually the legacy store will cease to exist.</p>
<p>Depending on the speed of the local storage used for the reference data stores, the migration of streams and the subsequent purge from the legacy store may slow down processing until all the required migrations have happened.
The migration is a trade-off between the additional time it would take to re-load all the reference streams (rather than just copying them from the legacy store) and the dedicated lock on the legacy store that all migrations need to acquire.</p>
<p>If you experience performance problems with reference data migrations or would prefer not to migrate the date then you can simply delete the legacy stores prior to running Stroom v7.2 for the first time.
The legacy store can be found in the directory configured by <code>stroom.pipeline.referenceData.lmdb.localDir</code>.
Simply delete the files <code>data.mdb</code> and <code>lock.mdb</code> (if present).
With the store deleted, stroom will simply load all reference streams as required with no migration.</p>
<h2 id="database-migrations">Database Migrations</h2>
<p>When Stroom boots for the first time with a new version it will run any required database migrations to bring the database schema up to the correct version.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    It is highly recommended to ensure you have a database backup in place before booting stroom with a new version.
This is to mitigate against any problems with the migration.
It is also recommended to test the migration against a copy of your database to ensure that there are no problems when you do it for real.

</div>


<p>On boot, Stroom will ensure that the migrations are only run by a single node in the cluster.
This will be the node that reaches that point in the boot process first.
All other nodes will wait until that is complete before proceeding with the boot process.</p>
<p>It is recommended however to use a single node to execute the migration.
To avoid Stroom starting up and beginning processing you can use the <code>migrage</code> command to just migrate the database and not fully boot Stroom.
See <a href="../../docs/user-guide/tools/command-line/#migrate"><code>migrage</code> command</a> for more details.</p>
<h3 id="migration-scripts">Migration Scripts</h3>
<p>For information purposes only, the following is a list of all the database migrations that will be run when upgrading from v7.0 to v7.2.0.
The migration script files can be viewed at 







  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom" target="_blank" class="" style="" title="github.com/gchq/stroom (external link to https://github.com/gchq/stroom)">
    <span>github.com/gchq/stroom</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
.</p>
<!-- This list was produced by stroom.db.migration.TestListDbMigrations#listDbMigrationsByVersion -->
<pre><code class="language-text">7.1.0
  stroom-config
    V07_01_00_001__preferences.sql                                 - stroom-config/stroom-config-global-impl-db/src/main/resources/stroom/config/global/impl/db/migration/V07_01_00_001__preferences.sql
  stroom-explorer
    V07_01_00_005__explorer_favourite.sql                          - stroom-explorer/stroom-explorer-impl-db/src/main/resources/stroom/explorer/impl/db/migration/V07_01_00_005__explorer_favourite.sql
  stroom-security
    V07_01_00_001__add_stroom_user_cols.sql                        - stroom-security/stroom-security-impl-db/src/main/resources/stroom/security/impl/db/migration/V07_01_00_001__add_stroom_user_cols.sql
    V07_01_00_002__rename_preferred_username_col.sql               - stroom-security/stroom-security-impl-db/src/main/resources/stroom/security/impl/db/migration/V07_01_00_002__rename_preferred_username_col.sql
7.2.0
  stroom-analytics
    V07_02_00_001__analytics.sql                                   - stroom-analytics/stroom-analytics-impl-db/src/main/resources/stroom/analytics/impl/db/migration/V07_02_00_001__analytics.sql
  stroom-annotation
    V07_02_00_005__annotation_assigned_migration_to_uuid.sql       - stroom-annotation/stroom-annotation-impl-db/src/main/resources/stroom/annotation/impl/db/migration/V07_02_00_005__annotation_assigned_migration_to_uuid.sql
    V07_02_00_010__annotation_entry_assigned_migration_to_uuid.sql - stroom-annotation/stroom-annotation-impl-db/src/main/resources/stroom/annotation/impl/db/migration/V07_02_00_010__annotation_entry_assigned_migration_to_uuid.sql
  stroom-config
    V07_02_00_005__preferences_column_rename.sql                   - stroom-config/stroom-config-global-impl-db/src/main/resources/stroom/config/global/impl/db/migration/V07_02_00_005__preferences_column_rename.sql
  stroom-dashboard
    V07_02_00_005__query_add_owner_uuid.sql                        - stroom-dashboard/stroom-storedquery-impl-db/src/main/resources/stroom/storedquery/impl/db/migration/V07_02_00_005__query_add_owner_uuid.sql
    V07_02_00_006__query_add_uuid.sql                              - stroom-dashboard/stroom-storedquery-impl-db/src/main/resources/stroom/storedquery/impl/db/migration/V07_02_00_006__query_add_uuid.sql
  stroom-explorer
    V07_02_00_005__remove_datasource_tag.sql                       - stroom-explorer/stroom-explorer-impl-db/src/main/resources/stroom/explorer/impl/db/migration/V07_02_00_005__remove_datasource_tag.sql
  stroom-security
    V07_02_00_100__query_add_owners.sql                            - stroom-security/stroom-security-impl-db/src/main/resources/stroom/security/impl/db/migration/V07_02_00_100__query_add_owners.sql
    V07_02_00_101__processor_filter_add_owners.sql                 - stroom-security/stroom-security-impl-db/src/main/resources/stroom/security/impl/db/migration/V07_02_00_101__processor_filter_add_owners.sql
</code></pre>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '5.5.'; page-break-before: always">
    
  <h1 id="pg-199b183caa5a903d1a02192647e506dd">5.5 - Change Log</h1>
    <div class="lead">Link to the full CHANGELOG.</div>
	<p>For a detailed list of all the changes in v7.2 see:








  
  

<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/7.2/CHANGELOG.md" target="_blank" class="" style="" title="v7.2 CHANGELOG (external link to https://github.com/gchq/stroom/blob/7.2/CHANGELOG.md)">
    <span>v7.2 CHANGELOG</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>
</p>

</div>




    
	
  

    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '6.'; page-break-before: always">
    
  <h1 id="pg-c673ba50f20aa338806d134931497231">6 - Version 7.1</h1>
    <div class="lead">Key new features and changes present in v7.1 of Stroom and Stroom-Proxy.</div>
	

<div class="pageinfo pageinfo-primary">
<p>For a detailed list of the changes in v7.1 see the</p>
<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/master/CHANGELOG.md" target="_blank" class="" style="" title="changelog (external link to https://github.com/gchq/stroom/blob/master/CHANGELOG.md)">
    <span>changelog</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>

</div>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Complete this section

</div>


</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '7.'; page-break-before: always">
    
  <h1 id="pg-f0c6a7cde2e48a7bb02d6fea8b62df65">7 - Version 7.0</h1>
    <div class="lead">Key new features and changes present in v7.0 of Stroom and Stroom-Proxy.</div>
	

<div class="pageinfo pageinfo-primary">
<p>For a detailed list of the changes in v7.0 see the</p>
<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/7.0/CHANGELOG.md" target="_blank" class="" style="" title="changelog (external link to https://github.com/gchq/stroom/blob/7.0/CHANGELOG.md)">
    <span>changelog</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>

</div>

<h2 id="integrated-authentication">Integrated Authentication</h2>
<p>The previously standalone (in v6) <em>stroom-auth-service</em> and <em>stroom-auth-ui</em> services have been integrated into the core <em>stroom</em> application.
This simplifies the installation and configuration of stroom.</p>
<h2 id="configuration-properties-improvements">Configuration Properties Improvements</h2>
<h3 id="configuration-is-now-provided-by-yaml-files-on-boot">Configuration is now provided by YAML files on boot</h3>
<p>Previously <em>stroom</em> used a flat <code>.conf</code> file to manage the application configuration.
Application logging was configured either via a <code>.yml</code> file (in v6) or in an <code>.xml</code> file (in v5).
Now <em>stroom</em> uses a single <code>.yml</code> file to configure the application and logging.
This file is different to the <code>.yml</code> files(s) used in the docker compose configuration.
The YAML file provides a more logical hierarchical structure and support for typed values (longs, doubles, maps, lists, etc.).</p>
<p>The YAML configuration is intended for configuration items that are either needed to bootstrap <em>stroom</em> or have values that are specific to a node.
Cluster wide configuration properties are still stored in the database and managed via the UI.</p>
<p>There has been a change to the precedence of the configuration properties held in different locations (YAML, database, default) and this is described in <a href="user-guide/properties.md">Properties</a>.</p>
<h3 id="stroom-home-and-relative-paths">Stroom Home and relative paths</h3>
<p>The concept of <em>Stroom Home</em> has been introduced.
Stroom Home allows for one path to be configured and for all other configurable paths to default to being a child of this path.
This keeps all configured directories in one place by default.
Each configured directory can be set to an absolute path if a location outside Stroom Home is required.
If a relative path is used it will be relative to Stroom Home.
Stroom Home can be configured with the property <code>stroom.path.home</code>.</p>
<h3 id="improved-_properties_-ui-screens-that-tell-you-the-values-over-the-cluster">Improved <em>Properties</em> UI screens that tell you the values over the cluster</h3>
<p>Previously the <em>Properties</em> UI screens could only tell you the values held within the database and not the value that a node was actually using.
The Properties screens have been improved to tell you the source of a property value and where multiple values exist across the cluster, which nodes have what values.
See <a href="user-guide/properties.md">Properties</a>.</p>
<h3 id="validation-of-configuration-property-values">Validation of Configuration Property Values</h3>
<p>Validation of configuration property values is now possible.
The validation rules are defined in the application code and allow for things like:</p>
<ul>
<li>Ensuring that a regex pattern is a valid pattern</li>
<li>Setting maximum or minimum values to numeric properties.</li>
<li>Ensuring a property has a value.</li>
</ul>
<p>Validation will be enforced on application boot or when a value is edited via the UI.</p>
<h3 id="hot-loading-of-node-configuration">Hot Loading of Node Configuration</h3>
<p>Now that node specific configuration is managed via the YAML configuration file <em>stroom</em> will detect changes to this file and update the configuration properties accordingly.
Some properties however do not support being changed at runtime so will still require either the whole system or the UI nodes to be restarted.</p>
<h2 id="data-retention-impact-summary">Data retention impact summary</h2>
<p>The <em>Data_Retention</em> screen now provides an <em>Impact Summary</em> tab that will show you a summary of what will be deleted by the current active rules.
The summary is based on the rules as they currently are in the UI, so it allows you to see the impact before saving rule changes.
The summary is a count of the number of streams that will be deleted by each rule, broken down by feed and stream type.
In very large systems with a lot of data or where complex rules are in place the summary may take a some time (minutes) to produce.</p>
<p>See <a href="user-guide/data-retention.md">Data Retention</a> for more details.</p>
<h2 id="fuzzy-finding-in-quick-filters-and-suggestion-text-fields">Fuzzy Finding in Quick Filters and Suggestion Text Fields</h2>
<p>A richer fuzzy find algorithm has been added to the Quick filter search fields.
It has also been added to some text input fields with suggestion fields, e.g. <em>Feed Name</em> input fields.
This makes finding values or rows in a table faster and more precise.</p>
<p>See <a href="user-guide/finding-things/finding-things.md">Finding Things</a> for more details.</p>
<h2 id="new-off-heap-memory-efficient-reference-data">New (off-heap) memory efficient reference data</h2>
<p>The reference data feature in previous versions of <em>stroom</em> loaded the reference data on demand and held it in Java&rsquo;s heap memory.
In large systems or where a pipeline doing reference data lookups across a wide time range this can lead to very large heap sizes.</p>
<p>In v7 <em>stroom</em> now uses an off-heap, disk backed store (<a href="http://www.lmdb.tech/doc/">LMDB</a>) for the reference data.
This removes all (with the exception of context lookups) from the Java heap, so the <code>-Xmx</code> value can be reduced.
In large systems this can mean keeping your <code>-Xmx</code> value below the 32Gb threshold to further reduce the memory usage.
Because the store is disk backed frequently used reference data can be kept in the store to reduce the loading overhead.
As the reference data is held off-heap it <em>stroom</em> can make use of all available free RAM for the reference data.</p>
<p>See <a href="user-guide/pipelines/reference-data.md">Reference Data</a></p>
<h3 id="reference-data-api">Reference Data API</h3>
<p>A RESTful API has been added for the reference data store.
This primarily allows reference lookups to be performed by external systems.</p>
<p>See <a href="user-guide/pipelines/reference-data.md#reference-data-api">Reference Data API</a></p>
<h2 id="text-editor-improvements">Text editor improvements</h2>
<p>The Ace text editor is used widely in Stroom for such things as editing XSLTs, editing dashboard column expressions, viewing stream data and stepping.
There have been a number of improvements to this editor.</p>
<p>See <a href="user-guide/editing-and-viewing.md">Editing and Viewing Text Data</a></p>
<h3 id="editor-context-menu">Editor context menu</h3>
<p>Additional options have been added to the context menu in the text editor:</p>
<ul>
<li>Toggle soft line wrapping of long lines.</li>
<li>Toggle viewing hidden characters, e.g. tabs, spaces, line breaks.</li>
<li>Toggle Vim key bindings. The Ace editor does not implement all Vim functionality but supports the core key bindings.</li>
<li>Toggle auto-completion. Completion is triggered using <code>ctrl+space</code>.</li>
<li>Toggle live auto-completion. Completion is triggered as you type.</li>
<li>Toggle the inclusion of snippets in the auto-complete suggestions.</li>
</ul>
<h3 id="auto-completion-and-snippets">Auto-completion and snippets</h3>
<p>Most editor screens now support basic auto-completion of existing words found in the text.
Some editor screens, such as XSLT, dashboard column expressions and Javascript scripts also support keyword and snippet completion.</p>
<h2 id="data-viewing-improvements">Data viewing improvements</h2>
<p>The way data is viewed in Stroom has changed to improve the viewing of large files or files with no line breaks.
Previously a set number of lines of data would be fetched for display on the page in the Data Viewer.
This did not work for data that has no line breaks as Stroom would then try to fetch all data.</p>
<p>In v7 Stroom works at the character level so can fetch a reasonable number of characters for display whether they are all one line or spread over multiple lines.</p>
<p>The viewing of data has been separated into two mechanisms, <em>Data Preview</em> and <em>Source View</em>.</p>
<p>See <a href="user-guide/editing-and-viewing.md">Editing and Viewing Text Data</a></p>
<h3 id="data-preview">Data Preview</h3>
<p>This is the default view of the data.
It displays the first n characters (configurable) of the data.
It will attempt the format the data, e.g. showing pretty-printed XML.
You cannot navigate around the data.</p>
<h3 id="source-view">Source View</h3>
<p>This view is intended for seeing the actual data in its raw un-formatted form and for navigating around it.
This view provides navigation controls to define the range of data being display, e.g. from a character offset, line number or line and column.</p>
<h2 id="you-can-now-query-data-server-tasks-and-processing-tasks-on-dashboards">You can now query data, server tasks and processing tasks on dashboards</h2>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Complete this section

</div>

<h2 id="data-actions-such-as-delete-download-reprocess-now-provide-an-impact-summary-before-proceeding">Data actions such as delete, download, reprocess now provide an impact summary before proceeding.</h2>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Complete this section

</div>

<h2 id="index-volume-groups-for-easier-index-volume-assignment">Index volume groups for easier index volume assignment</h2>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Complete this section

</div>

<h2 id="kafka-integration">Kafka Integration</h2>
<h3 id="new-kafka-configuration-entity">New Kafka Configuration Entity</h3>
<p>Integration with Apache Kafka was introduced in v6 however the way the connection to Kafka cluster(s) is configured has been improved.
We have introduced a new entity type called <em>Kafka Configuration</em> that can be created/managed via the explorer tree.
This means <em>stroom</em> can integrate with many Kafka clusters or connect to a cluster using different sets of Kafka Configuration properties.
The Kafka Configuration entity provides an editor for setting all the Kafka specific configuration properties.
Pipeline elements that use Kafka now provide a means to select the Kafka Configuration to use.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Add user guide section on Kafka configuration

</div>

<h3 id="an-improved-pipeline-element-for-sending-data-to-kafka">An Improved Pipeline Element for Sending Data to Kafka</h3>
<p>The previous Kafka pipeline elements in v6 have been replaced with a single <em>StandardKafkaProducer</em> element.
The new element allows for the dynamic construction of a Kafka Producer message via an XML document conforming to the <em>kafka-records</em> XmlSchema.
With this new element events can be translated into kafka records which will be then given to the Kafka Producer to send to the Kafka Cluster.
This allows for complete control of things like timestamps, topics, keys, values, etc.</p>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Add user guide section on Kafka Standard Producer

</div>

<h2 id="no-limitations-on-data-reprocessing">No limitations on data reprocessing</h2>

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Complete this section

</div>

<h2 id="improved-rest-api">Improved REST API</h2>
<h3 id="a-rich-rest-api-for-all-ui-accessible-functions">A rich REST API for all UI accessible functions</h3>
<p>The architecture of the <em>stroom</em> UI has been changed such that all communication between the UI and the back end is via REST calls.
This means all of these REST calls are available as an API for users of <em>stroom</em> to take advantage of.
It opens up the possibility for interacting with <em>stoom</em> via scripts or from other applications.</p>
<h3 id="swagger-ui-to-document-rest-api-methods">Swagger UI to document REST API methods</h3>
<p>The Swagger UI and specification file have been improved to include all of the API methods available in stroom.</p>
<h2 id="improved-architecture-with-separate-modules-with-individual-db-access-to-spread-load">Improved architecture with separate modules with individual DB access to spread load.</h2>
<p>The architecture of the core stroom application has been fundamentally changed in v7 to internally break up the application into its functional areas.
This separation makes for a more logical code base and allows for the possibility of each functional area having its own database instance, if required.</p>
<h2 id="java-12">Java 12</h2>
<p><em>stroom</em> v7 now runs on the Java 12 JVM.</p>
<h2 id="mysql-8-support">MySQL 8 support.</h2>
<p><em>stroom</em> v7 has been changed to support MySQL v8, opening up the possibility of using features like group replication.</p>

</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '8.'; page-break-before: always">
    
  <h1 id="pg-9e26b25d73d0e49ed8dbcbc813916857">8 - Version 6.1</h1>
    <div class="lead">Key new features and changes present in v6.1 of Stroom and Stroom-Proxy.</div>
	

<div class="pageinfo pageinfo-primary">
<p>For a detailed list of the changes in v6.1 see the</p>
<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/6.1/CHANGELOG.md" target="_blank" class="" style="" title="changelog (external link to https://github.com/gchq/stroom/blob/6.1/CHANGELOG.md)">
    <span>changelog</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>

</div>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">TODO</h4>

    Version 6.1 release notes need populating.

</div>


</div>




    
	
  
    
    
	
    



<div class="td-content" style="--base-section-num: '9.'; page-break-before: always">
    
  <h1 id="pg-ec129f05597f6fd97d927662858735dd">9 - Version 6.0</h1>
    <div class="lead">Key new features and changes present in v6.0 of Stroom and Stroom-Proxy.</div>
	

<div class="pageinfo pageinfo-primary">
<p>For a detailed list of the changes in v6.0 see the</p>
<span class="external-link">
  <a href="https://github.com/gchq/stroom/blob/6.0/CHANGELOG.md" target="_blank" class="" style="" title="changelog (external link to https://github.com/gchq/stroom/blob/6.0/CHANGELOG.md)">
    <span>changelog</span>
    <i class="external-link-icon fas fa-external-link-alt fa-sm text-secondary"></i>
  </a>
</span>

</div>

<h2 id="oauth-20openid-connect-authentication">OAuth 2.0/OpenID Connect authentication</h2>
<p>Authentication for Stroom provided by an external service rather than a service internal to Stroom.
This change allows support for broader corporate authentication schemes and is a key requirement for enabling the future microservice architecture for Stroom.</p>
<h2 id="api-keys-for-third-party-clients">API keys for third party clients</h2>
<p>Anyone wishing to make use of the data exposed by Stroom&rsquo;s services can request an API key.
This key acts as a password for their own applications.
It allows administrators to secure and manage access to Stroom&rsquo;s data.</p>
<h2 id="hbase-backed-statistics-store">HBase backed statistics store</h2>
<p>This new implementation of statistics (Stroom-Stats) provides a vastly more scalable time series DB for large scale collection of Stroom&rsquo;s data aggregated to various time buckets.
Stroom-Stats uses Kafka for ingesting the source data.</p>
<h2 id="data-receipt-filtering">Data receipt filtering</h2>
<p>Data arriving in Stroom has meta data that can be matched against a policy so that certain actions can be taken.
This could be to receive, drop or reject the data.</p>
<p>Filtering of data also applies to Stroom proxy where each proxy can get a filtering policy from an upstream proxy or a Stroom instance.</p>
<h2 id="data-retention-policies">Data retention policies</h2>
<p>The length of time that data will be retained in Strooms stream store can be defined by creating data retention rules.
These rules match streams based on their meta data and will automatically delete data once the retention period associated with the rule is exceeded.</p>
<h2 id="dashboard-linking">Dashboard linking</h2>
<p>Links can be created in dashboards to jump to other dashboards or other external sites that provide additional contextual information.</p>
<h2 id="search-api">Search API</h2>
<p>The search system used by Dashboards can be used via a restful API.
This provides access to data stored in search indices (including the ability to extract data) and statistics stores.
The data fetched via the search API can be received and processed via an external system.</p>
<h2 id="kafka-appender-and-filter">Kafka appender and filter</h2>
<p>New pipeline elements for writing XML or text data to a Kafka topic.
This provides more options for using Stroom&rsquo;s data in other systems.</p>

</div>




    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/gchq/stroom" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2024 Crown Copyright All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    

<script src='../../js/popper.min.js'></script>
<script src='../../js/bootstrap.min.js'></script>






<script src='../../js/tabpane-persist.js'></script>




















<script src="../../js/main.min.cbc1d428d83561c4dec32da9374290554119d7483329f849251cb7153b2ecd07.js" integrity="sha256-y8HUKNg1YcTewy2pN0KQVUEZ10gzKfhJJRy3FTsuzQc=" crossorigin="anonymous"></script>



<script src='../../js/prism.js'></script>



  </body>
</html>
