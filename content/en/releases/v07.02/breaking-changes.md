---
title: "Breaking Changes"
linkTitle: "Breaking Changes"
weight: 30
date: 2023-10-20
tags: 
description: >
  Changes in Stroom version 7.2 that may break existing processing or ways of working.
---

{{% warning %}}
Please read this section carefully in case any of the changes affect you.
{{% /warning %}}

## Quoted Strings in Dashboard Table Expressions

Quoted strings in dashboard table expressions can now be expressed with single and double quotes.
As part of this change apostrophes in text are no longer escaped with an additional apostrophe (`''`), but instead require a leading `\` before them if they are in a single quoted string, i.e:

`'O''Neill'` must be changed to `'O\'Neill'`

In many cases it is preferable to use double quotes if the string in question has an apostrophe.
Note that the use of `\` as an escape character also means that any existing `\` characters will need to be escaped with a preceding `\` so `\` must now become `\\`, i.e:

`c:\Windows\System32` must be changed to `c:\\Windows\\System32`

The new [Find Content]({{< relref "./new-features#find-content" >}}) feature can be used to find affected Dashboards.


## Search API Change

The APIs for running searches against Stroom data sources have changed in a breaking way.
This is due to a change in the way running queries are identified.

Previously the client calling the API would provide generate a unique `key` for the query and included it in the `searchRequest` object.
This key would then be used again if the client wanted to make further requests for results for the same running query.

```json
  "key" : {
    "uuid": "e244d45c-4086-463b-b1a8-10c8c7d7d6c7"
  },
```

In v7.2 the query `key` is now generated by Stroom rather than the client.
In the first search request for a query, the client should now **omit** the `key` field from the request.
Stroom will generate a unique key for the running query and return it in the response.
However, in any subsequent requests for that running query, the client should **include** the `key` field, using the value from the previous response.

If you have static request JSON files then you can easily remove the `key` field using {{< external-link "jq" "https://jqlang.github.io/jq/" >}} as follows:

{{< command-line >}}
jq 'del(.key)' req.json > req.new.json
{{</ command-line >}}
